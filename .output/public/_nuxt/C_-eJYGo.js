import{_ as x,u as F,l as I,m as h,p as E,e as b,f as D,q as o,s as i,x as v,A as q,C as A,Y as C,F as R,G as k,af as T,a1 as L}from"./D87QO4dW.js";import{u as V}from"./BWVOSsg_.js";import{_ as g}from"./I9wROFQL.js";import{f as B}from"./DJY1H8k3.js";import{r as O}from"./Dim8bG2a.js";import{d as P}from"./BIzRNX9S.js";var u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ImpactReportsList"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"section"},value:{kind:"StringValue",value:"listingImpactReports",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"listingImpactReports_listingImpactReports_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[{kind:"Argument",name:{kind:"Name",value:"section"},value:{kind:"StringValue",value:"impactReport",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"StringValue",value:"postDate desc",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"impactReport_impactReport_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"to"},name:{kind:"Name",value:"uri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"richText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:405}};u.loc.source={body:`#import "../gql/fragments/Image.gql"

query ImpactReportsList {
  entry(section: "listingImpactReports") {
    ... on listingImpactReports_listingImpactReports_Entry {
      title
      summary
    }
  }
  entries(section: "impactReport", orderBy: "postDate desc") {
    ... on impactReport_impactReport_Entry {
      title
      to: uri
      richText
      image {
          ...Image
      }
    }
  }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var w={};function z(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return w[n]?!1:(w[n]=!0,!0)})}u.definitions=u.definitions.concat(z(P.definitions));function y(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){y(a,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){y(a,t)}),e.definitions&&e.definitions.forEach(function(a){y(a,t)})}var _={};(function(){u.definitions.forEach(function(t){if(t.name){var n=new Set;y(t,n),_[t.name.value]=n}})})();function N(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function G(e,t){var n={kind:e.kind,definitions:[N(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=_[t]||new Set,r=new Set,l=new Set;for(a.forEach(function(s){l.add(s)});l.size>0;){var m=l;l=new Set,m.forEach(function(s){if(!r.has(s)){r.add(s);var c=_[s]||new Set;c.forEach(function(f){l.add(f)})}})}return r.forEach(function(s){var c=N(e,s);c&&n.definitions.push(c)}),n}G(u,"ImpactReportsList");const Q={id:"main",class:"page page-news"},U={__name:"index",async setup(e){var s,c,f,S;let t,n;const{$graphql:a}=F(),{data:r,error:l}=([t,n]=I(async()=>q("impact-report-all-list",async()=>await a.default.request(u))),t=await t,n(),t);if(l.value)throw h({...l.value,statusMessage:"Page not found.",fatal:!0});if(!r.value.entry)throw h({statusCode:404,message:"Page not found",fatal:!0});V({title:((c=(s=r.value)==null?void 0:s.entry)==null?void 0:c.title)||"... loading",meta:[{hid:"description",name:"description",content:O((S=(f=r.value)==null?void 0:f.entry)==null?void 0:S.summary)}]});const m=E(()=>{var p;return(p=r.value)==null?void 0:p.entries.map(d=>({to:B(g(d,"to",null)),image:g(d,"image[0]",null),title:g(d,"title","hi"),description:g(d,"richText",null)}))});return(p,d)=>(b(),D("main",Q,[o(i(A),{to:"/about",title:i(r).entry.title,"parent-title":"About Us"},null,8,["title"]),o(i(C),{title:i(r).entry.title,text:i(r).entry.summary,"button-text":"View this year's report",to:i(m)[0].to},null,8,["title","text","to"]),o(i(k),{theme:"divider"},{default:v(()=>[o(i(R),{color:"about"})]),_:1}),o(i(k),null,{default:v(()=>[o(i(T),{items:i(m)},null,8,["items"])]),_:1}),o(i(k),{theme:"divider"},{default:v(()=>[o(i(R),{color:"about"})]),_:1}),o(i(k),null,{default:v(()=>[o(i(L),{class:"block-call-to-action","is-global":!0})]),_:1})]))}},W=x(U,[["__scopeId","data-v-2eec666c"]]);export{W as default};
