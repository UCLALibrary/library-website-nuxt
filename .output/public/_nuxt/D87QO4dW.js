const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D3H7ZqZV.js","./BWVOSsg_.js","./I9wROFQL.js","./BIzRNX9S.js","./BEHunIJq.js","./HCErRXQJ.js","./Cw_akS4-.js","./CL8yYu5A.js","./DeFtLck0.js","./CIf3dq7z.js","./Q2Lk47BP.js","./CLd6PcwS.js","./BEx1Bxtt.js","./_...BqRekUYr.css","./hfKR7hTA.js","./DJY1H8k3.js","./Dim8bG2a.js","./index.C-RoGjuq.css","./BpOPtOnY.js","./cwXK75ha.js","./_slug_.-FZ3IjvG.css","./DvmO7GkD.js","./iHpIRGTP.js","./BIGQZk-7.js","./DSQ4ZnfI.js","./BOdCFMn0.js","./index.8NDwRafQ.css","./DvU_aoMn.js","./C3fgmlR7.js","./Dhr_5Jrk.js","./index.B9ahax7i.css","./DKPcedG8.js","./_slug_.D87Uo_i3.css","./-6lFxapQ.js","./C_-eJYGo.js","./index.FZaFfOem.css","./CThbXHPJ.js","./_slug_.C6E0SFnZ.css","./DyeZfsey.js","./CD_oK3U4.js","./index.VrM8RzS3.css","./Cca6flSo.js","./index.CY5Rwm8b.css","./B4Howt1r.js","./C3QUekPK.js","./CI7m89ct.js","./CvV-bfGY.js","./_slug_.x4L_EfK8.css","./Bha5nSUR.js","./BYbI6CZy.js","./index.CLZARF23.css","./DlOEbAf5.js","./_slug_.n4lsiXxd.css","./WdPfdZGY.js","./index.BejtqlIN.css","./BiaTtZg-.js","./3p5JDHgz.js","./C75vzz_1.js","./_slug_.DG42enDY.css","./B23s8gj9.js","./index.poMOFbk1.css","./Cz9qCqUo.js","./CfbswRTE.js","./index.C2OZxVS1.css","./04c49Syn.js","./_slug_.CnBVcVdg.css","./C3OAVezL.js","./index.C9f4k_QI.css","./DjKHDSn5.js","./index.C_WOpfoT.css","./ChrJydc_.js","./index.DKE4hyuE.css","./CRimpjXS.js","./CbQXvIGd.js","./CGdTKFsa.js","./_slug_.B13z2ZwH.css","./kRRj83y4.js","./index.CATpTikg.css","./ZBxKctQS.js","./default.DqQzrbI9.css","./Cno3KflT.js","./impact.nagvdnnx.css"])))=>i.map(i=>d[i]);
var CI=Object.defineProperty;var AI=(t,e,n)=>e in t?CI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var uu=(t,e,n)=>AI(t,typeof e!="symbol"?e+"":e,n);function LI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wy(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Jt={},Fo=[],Kr=()=>{},II=()=>!1,Ic=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),zy=t=>t.startsWith("onUpdate:"),Ln=Object.assign,Gy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},MI=Object.prototype.hasOwnProperty,At=(t,e)=>MI.call(t,e),rt=Array.isArray,Uo=t=>Ll(t)==="[object Map]",Al=t=>Ll(t)==="[object Set]",cb=t=>Ll(t)==="[object Date]",DI=t=>Ll(t)==="[object RegExp]",ct=t=>typeof t=="function",an=t=>typeof t=="string",$i=t=>typeof t=="symbol",$t=t=>t!==null&&typeof t=="object",Yy=t=>($t(t)||ct(t))&&ct(t.then)&&ct(t.catch),nk=Object.prototype.toString,Ll=t=>nk.call(t),PI=t=>Ll(t).slice(8,-1),rk=t=>Ll(t)==="[object Object]",Ky=t=>an(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jo=Wy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},OI=/-(\w)/g,Hi=gp(t=>t.replace(OI,(e,n)=>n?n.toUpperCase():"")),RI=/\B([A-Z])/g,eo=gp(t=>t.replace(RI,"-$1").toLowerCase()),yp=gp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gf=gp(t=>t?`on${yp(t)}`:""),Js=(t,e)=>!Object.is(t,e),$o=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ik=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},_h=t=>{const e=parseFloat(t);return isNaN(e)?t:e},sk=t=>{const e=an(t)?Number(t):NaN;return isNaN(e)?t:e};let db;const ak=()=>db||(db=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gn(t){if(rt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=an(r)?UI(r):gn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(an(t)||$t(t))return t}const NI=/;(?![^(]*\))/g,BI=/:([^]+)/,FI=/\/\*[^]*?\*\//g;function UI(t){const e={};return t.replace(FI,"").split(NI).forEach(n=>{if(n){const r=n.split(BI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Oe(t){let e="";if(an(t))e=t;else if(rt(t))for(let n=0;n<t.length;n++){const r=Oe(t[n]);r&&(e+=r+" ")}else if($t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Rn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!an(e)&&(t.class=Oe(e)),n&&(t.style=gn(n)),t}const jI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$I=Wy(jI);function ok(t){return!!t||t===""}function HI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=za(t[r],e[r]);return n}function za(t,e){if(t===e)return!0;let n=cb(t),r=cb(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=$i(t),r=$i(e),n||r)return t===e;if(n=rt(t),r=rt(e),n||r)return n&&r?HI(t,e):!1;if(n=$t(t),r=$t(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!za(t[a],e[a]))return!1}}return String(t)===String(e)}function Xy(t,e){return t.findIndex(n=>za(n,e))}const lk=t=>!!(t&&t.__v_isRef===!0),ye=t=>an(t)?t:t==null?"":rt(t)||$t(t)&&(t.toString===nk||!ct(t.toString))?lk(t)?ye(t.value):JSON.stringify(t,uk,2):String(t),uk=(t,e)=>lk(e)?uk(t,e.value):Uo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Yf(r,s)+" =>"]=i,n),{})}:Al(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Yf(n))}:$i(e)?Yf(e):$t(e)&&!rt(e)&&!rk(e)?String(e):e,Yf=(t,e="")=>{var n;return $i(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ur;class ck{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ur,!e&&Ur&&(this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ur;try{return Ur=this,e()}finally{Ur=n}}}on(){Ur=this}off(){Ur=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function vp(t){return new ck(t)}function VI(t,e=Ur){e&&e.active&&e.effects.push(t)}function aa(){return Ur}function Ga(t){Ur&&Ur.cleanups.push(t)}let Fa;class Qy{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,VI(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,oa();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(qI(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),la()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ys,n=Fa;try{return Ys=!0,Fa=this,this._runnings++,hb(this),this.fn()}finally{pb(this),this._runnings--,Fa=n,Ys=e}}stop(){this.active&&(hb(this),pb(this),this.onStop&&this.onStop(),this.active=!1)}}function qI(t){return t.value}function hb(t){t._trackId++,t._depsLength=0}function pb(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)dk(t.deps[e],t);t.deps.length=t._depsLength}}function dk(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Ys=!0,rg=0;const hk=[];function oa(){hk.push(Ys),Ys=!1}function la(){const t=hk.pop();Ys=t===void 0?!0:t}function Zy(){rg++}function Jy(){for(rg--;!rg&&ig.length;)ig.shift()()}function pk(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&dk(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ig=[];function fk(t,e,n){Zy();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ig.push(r.scheduler)))}Jy()}const mk=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},bh=new WeakMap,Ua=Symbol(""),sg=Symbol("");function Ir(t,e,n){if(Ys&&Fa){let r=bh.get(t);r||bh.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=mk(()=>r.delete(n))),pk(Fa,i)}}function us(t,e,n,r,i,s){const a=bh.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&rt(t)){const l=Number(r);a.forEach((u,c)=>{(c==="length"||!$i(c)&&c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":rt(t)?Ky(n)&&o.push(a.get("length")):(o.push(a.get(Ua)),Uo(t)&&o.push(a.get(sg)));break;case"delete":rt(t)||(o.push(a.get(Ua)),Uo(t)&&o.push(a.get(sg)));break;case"set":Uo(t)&&o.push(a.get(Ua));break}Zy();for(const l of o)l&&fk(l,4);Jy()}function WI(t,e){const n=bh.get(t);return n&&n.get(e)}const zI=Wy("__proto__,__v_isRef,__isVue"),gk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($i)),fb=GI();function GI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ct(this);for(let s=0,a=this.length;s<a;s++)Ir(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ct)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){oa(),Zy();const r=Ct(this)[e].apply(this,n);return Jy(),la(),r}}),t}function YI(t){$i(t)||(t=String(t));const e=Ct(this);return Ir(e,"has",t),e.hasOwnProperty(t)}class yk{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?oM:Tk:s?bk:_k).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=rt(e);if(!i){if(a&&At(fb,n))return Reflect.get(fb,n,r);if(n==="hasOwnProperty")return YI}const o=Reflect.get(e,n,r);return($i(n)?gk.has(n):zI(n))||(i||Ir(e,"get",n),s)?o:Wt(o)?a&&Ky(n)?o:o.value:$t(o)?i?wk(o):xn(o):o}}class vk extends yk{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=el(s);if(!Th(r)&&!el(r)&&(s=Ct(s),r=Ct(r)),!rt(e)&&Wt(s)&&!Wt(r))return l?!1:(s.value=r,!0)}const a=rt(e)&&Ky(n)?Number(n)<e.length:At(e,n),o=Reflect.set(e,n,r,i);return e===Ct(i)&&(a?Js(r,s)&&us(e,"set",n,r):us(e,"add",n,r)),o}deleteProperty(e,n){const r=At(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&us(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!$i(n)||!gk.has(n))&&Ir(e,"has",n),r}ownKeys(e){return Ir(e,"iterate",rt(e)?"length":Ua),Reflect.ownKeys(e)}}class KI extends yk{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const XI=new vk,QI=new KI,ZI=new vk(!0);const ev=t=>t,_p=t=>Reflect.getPrototypeOf(t);function Ld(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ct(t),s=Ct(e);n||(Js(e,s)&&Ir(i,"get",e),Ir(i,"get",s));const{has:a}=_p(i),o=r?ev:n?rv:lc;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Id(t,e=!1){const n=this.__v_raw,r=Ct(n),i=Ct(t);return e||(Js(t,i)&&Ir(r,"has",t),Ir(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Md(t,e=!1){return t=t.__v_raw,!e&&Ir(Ct(t),"iterate",Ua),Reflect.get(t,"size",t)}function mb(t){t=Ct(t);const e=Ct(this);return _p(e).has.call(e,t)||(e.add(t),us(e,"add",t,t)),this}function gb(t,e){e=Ct(e);const n=Ct(this),{has:r,get:i}=_p(n);let s=r.call(n,t);s||(t=Ct(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?Js(e,a)&&us(n,"set",t,e):us(n,"add",t,e),this}function yb(t){const e=Ct(this),{has:n,get:r}=_p(e);let i=n.call(e,t);i||(t=Ct(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&us(e,"delete",t,void 0),s}function vb(){const t=Ct(this),e=t.size!==0,n=t.clear();return e&&us(t,"clear",void 0,void 0),n}function Dd(t,e){return function(r,i){const s=this,a=s.__v_raw,o=Ct(a),l=e?ev:t?rv:lc;return!t&&Ir(o,"iterate",Ua),a.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Pd(t,e,n){return function(...r){const i=this.__v_raw,s=Ct(i),a=Uo(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),c=n?ev:e?rv:lc;return!e&&Ir(s,"iterate",l?sg:Ua),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:o?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Cs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function JI(){const t={get(s){return Ld(this,s)},get size(){return Md(this)},has:Id,add:mb,set:gb,delete:yb,clear:vb,forEach:Dd(!1,!1)},e={get(s){return Ld(this,s,!1,!0)},get size(){return Md(this)},has:Id,add:mb,set:gb,delete:yb,clear:vb,forEach:Dd(!1,!0)},n={get(s){return Ld(this,s,!0)},get size(){return Md(this,!0)},has(s){return Id.call(this,s,!0)},add:Cs("add"),set:Cs("set"),delete:Cs("delete"),clear:Cs("clear"),forEach:Dd(!0,!1)},r={get(s){return Ld(this,s,!0,!0)},get size(){return Md(this,!0)},has(s){return Id.call(this,s,!0)},add:Cs("add"),set:Cs("set"),delete:Cs("delete"),clear:Cs("clear"),forEach:Dd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Pd(s,!1,!1),n[s]=Pd(s,!0,!1),e[s]=Pd(s,!1,!0),r[s]=Pd(s,!0,!0)}),[t,n,e,r]}const[eM,tM,nM,rM]=JI();function tv(t,e){const n=e?t?rM:nM:t?tM:eM;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(At(n,i)&&i in r?n:r,i,s)}const iM={get:tv(!1,!1)},sM={get:tv(!1,!0)},aM={get:tv(!0,!1)};const _k=new WeakMap,bk=new WeakMap,Tk=new WeakMap,oM=new WeakMap;function lM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uM(t){return t.__v_skip||!Object.isExtensible(t)?0:lM(PI(t))}function xn(t){return el(t)?t:nv(t,!1,XI,iM,_k)}function os(t){return nv(t,!1,ZI,sM,bk)}function wk(t){return nv(t,!0,QI,aM,Tk)}function nv(t,e,n,r,i){if(!$t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=uM(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function cs(t){return el(t)?cs(t.__v_raw):!!(t&&t.__v_isReactive)}function el(t){return!!(t&&t.__v_isReadonly)}function Th(t){return!!(t&&t.__v_isShallow)}function kk(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function bp(t){return Object.isExtensible(t)&&ik(t,"__v_skip",!0),t}const lc=t=>$t(t)?xn(t):t,rv=t=>$t(t)?wk(t):t;class Sk{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Qy(()=>e(this._value),()=>th(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ct(this);return(!e._cacheable||e.effect.dirty)&&Js(e._value,e._value=e.effect.run())&&th(e,4),xk(e),e.effect._dirtyLevel>=2&&th(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function cM(t,e,n=!1){let r,i;const s=ct(t);return s?(r=t,i=Kr):(r=t.get,i=t.set),new Sk(r,i,s||!i,n)}function xk(t){var e;Ys&&Fa&&(t=Ct(t),pk(Fa,(e=t.dep)!=null?e:t.dep=mk(()=>t.dep=void 0,t instanceof Sk?t:void 0)))}function th(t,e=4,n,r){t=Ct(t);const i=t.dep;i&&fk(i,e)}function Wt(t){return!!(t&&t.__v_isRef===!0)}function de(t){return Ek(t,!1)}function tl(t){return Ek(t,!0)}function Ek(t,e){return Wt(t)?t:new dM(t,e)}class dM{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ct(e),this._value=n?e:lc(e)}get value(){return xk(this),this._value}set value(e){const n=this.__v_isShallow||Th(e)||el(e);e=n?e:Ct(e),Js(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:lc(e),th(this,4))}}function $(t){return Wt(t)?t.value:t}function Pa(t){return ct(t)?t():$(t)}const hM={get:(t,e,n)=>$(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Wt(i)&&!Wt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ck(t){return cs(t)?t:new Proxy(t,hM)}function Ak(t){const e=rt(t)?new Array(t.length):{};for(const n in t)e[n]=Lk(t,n);return e}class pM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return WI(Ct(this._object),this._key)}}class fM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Vi(t,e,n){return Wt(t)?t:ct(t)?new fM(t):$t(t)&&arguments.length>1?Lk(t,e,n):de(t)}function Lk(t,e,n){const r=t[e];return Wt(r)?r:new pM(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ks(t,e,n,r){try{return r?t(...r):t()}catch(i){Il(i,e,n)}}function Qr(t,e,n,r){if(ct(t)){const i=Ks(t,e,n,r);return i&&Yy(i)&&i.catch(s=>{Il(s,e,n)}),i}if(rt(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Qr(t[s],e,n,r));return i}}function Il(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){oa(),Ks(l,null,10,[t,a,o]),la();return}}mM(t,n,i,r)}function mM(t,e,n,r=!0){console.error(t)}let uc=!1,ag=!1;const er=[];let Li=0;const Ho=[];let Us=null,Oa=0;const Ik=Promise.resolve();let iv=null;function on(t){const e=iv||Ik;return t?e.then(this?t.bind(this):t):e}function gM(t){let e=Li+1,n=er.length;for(;e<n;){const r=e+n>>>1,i=er[r],s=cc(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Tp(t){(!er.length||!er.includes(t,uc&&t.allowRecurse?Li+1:Li))&&(t.id==null?er.push(t):er.splice(gM(t.id),0,t),Mk())}function Mk(){!uc&&!ag&&(ag=!0,iv=Ik.then(Dk))}function yM(t){const e=er.indexOf(t);e>Li&&er.splice(e,1)}function og(t){rt(t)?Ho.push(...t):(!Us||!Us.includes(t,t.allowRecurse?Oa+1:Oa))&&Ho.push(t),Mk()}function _b(t,e,n=uc?Li+1:0){for(;n<er.length;n++){const r=er[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;er.splice(n,1),n--,r()}}}function wh(t){if(Ho.length){const e=[...new Set(Ho)].sort((n,r)=>cc(n)-cc(r));if(Ho.length=0,Us){Us.push(...e);return}for(Us=e,Oa=0;Oa<Us.length;Oa++){const n=Us[Oa];n.active!==!1&&n()}Us=null,Oa=0}}const cc=t=>t.id==null?1/0:t.id,vM=(t,e)=>{const n=cc(t)-cc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Dk(t){ag=!1,uc=!0,er.sort(vM);try{for(Li=0;Li<er.length;Li++){const e=er[Li];e&&e.active!==!1&&Ks(e,null,14)}}finally{Li=0,er.length=0,wh(),uc=!1,iv=null,(er.length||Ho.length)&&Dk()}}function _M(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Jt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:p}=r[c]||Jt;p&&(i=n.map(f=>an(f)?f.trim():f)),d&&(i=n.map(_h))}let o,l=r[o=Gf(e)]||r[o=Gf(Hi(e))];!l&&s&&(l=r[o=Gf(eo(e))]),l&&Qr(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Qr(u,t,6,i)}}function Pk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!ct(t)){const l=u=>{const c=Pk(u,e,!0);c&&(o=!0,Ln(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?($t(t)&&r.set(t,null),null):(rt(s)?s.forEach(l=>a[l]=null):Ln(a,s),$t(t)&&r.set(t,a),a)}function wp(t,e){return!t||!Ic(e)?!1:(e=e.slice(2).replace(/Once$/,""),At(t,e[0].toLowerCase()+e.slice(1))||At(t,eo(e))||At(t,e))}let Nn=null,kp=null;function kh(t){const e=Nn;return Nn=t,kp=t&&t.type.__scopeId||null,e}function Ot(t){kp=t}function Rt(){kp=null}function Ie(t,e=Nn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Rb(-1);const s=kh(e);let a;try{a=t(...i)}finally{kh(s),r._d&&Rb(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Kf(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:p,setupState:f,ctx:y,inheritAttrs:b}=t,S=kh(t);let E,x;try{if(n.shapeFlag&4){const L=i||r,A=L;E=Yr(u.call(A,L,c,d,f,p,y)),x=o}else{const L=e;E=Yr(L.length>1?L(d,{attrs:o,slots:a,emit:l}):L(d,null)),x=e.props?o:TM(o)}}catch(L){Vu.length=0,Il(L,t,1),E=ae(Xn)}let k=E;if(x&&b!==!1){const L=Object.keys(x),{shapeFlag:A}=k;L.length&&A&7&&(s&&L.some(zy)&&(x=wM(x,s)),k=yi(k,x,!1,!0))}return n.dirs&&(k=yi(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),E=k,kh(S),E}function bM(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(il(i)){if(i.type!==Xn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const TM=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ic(n))&&((e||(e={}))[n]=t[n]);return e},wM=(t,e)=>{const n={};for(const r in t)(!zy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function kM(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?bb(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(a[p]!==r[p]&&!wp(u,p))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?bb(r,a,u):!0:!!a;return!1}function bb(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!wp(n,s))return!0}return!1}function sv({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ok="components";function lt(t,e){return Nk(Ok,t,!0,e)||t}const Rk=Symbol.for("v-ndc");function Lt(t){return an(t)?Nk(Ok,t,!1)||t:t||Rk}function Nk(t,e,n=!0,r=!1){const i=Nn||Pn;if(i){const s=i.type;{const o=_g(s,!1);if(o&&(o===e||o===Hi(e)||o===yp(Hi(e))))return s}const a=Tb(i[t]||s[t],e)||Tb(i.appContext[t],e);return!a&&r?s:a}}function Tb(t,e){return t&&(t[e]||t[Hi(e)]||t[yp(Hi(e))])}const lg=t=>t.__isSuspense;let ug=0;const SM={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,a,o,l,u){if(t==null)xM(e,n,r,i,s,a,o,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}EM(t,e,n,r,i,a,o,l,u)}},hydrate:CM,normalize:AM},av=SM;function dc(t,e){const n=t.props&&t.props[e];ct(n)&&n()}function xM(t,e,n,r,i,s,a,o,l){const{p:u,o:{createElement:c}}=l,d=c("div"),p=t.suspense=Bk(t,i,r,e,d,n,s,a,o,l);u(null,p.pendingBranch=t.ssContent,d,null,r,p,s,a),p.deps>0?(dc(t,"onPending"),dc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,a),Vo(p,t.ssFallback)):p.resolve(!1,!0)}function EM(t,e,n,r,i,s,a,o,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,f=e.ssFallback,{activeBranch:y,pendingBranch:b,isInFallback:S,isHydrating:E}=d;if(b)d.pendingBranch=p,ui(p,b)?(l(b,p,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():S&&(E||(l(y,f,n,r,i,null,s,a,o),Vo(d,f)))):(d.pendingId=ug++,E?(d.isHydrating=!1,d.activeBranch=b):u(b,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),S?(l(null,p,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():(l(y,f,n,r,i,null,s,a,o),Vo(d,f))):y&&ui(p,y)?(l(y,p,n,r,i,d,s,a,o),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0&&d.resolve()));else if(y&&ui(p,y))l(y,p,n,r,i,d,s,a,o),Vo(d,p);else if(dc(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=ug++,l(null,p,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:x,pendingId:k}=d;x>0?setTimeout(()=>{d.pendingId===k&&d.fallback(f)},x):x===0&&d.fallback(f)}}function Bk(t,e,n,r,i,s,a,o,l,u,c=!1){const{p:d,m:p,um:f,n:y,o:{parentNode:b,remove:S}}=u;let E;const x=LM(t);x&&e&&e.pendingBranch&&(E=e.pendingId,e.deps++);const k=t.props?sk(t.props.timeout):void 0,L=s,A={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:ug++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(D=!1,M=!1){const{vnode:q,activeBranch:j,pendingBranch:W,pendingId:Y,effects:re,parentComponent:le,container:F}=A;let R=!1;A.isHydrating?A.isHydrating=!1:D||(R=j&&W.transition&&W.transition.mode==="out-in",R&&(j.transition.afterLeave=()=>{Y===A.pendingId&&(p(W,F,s===L?y(j):s,0),og(re))}),j&&(b(j.el)!==A.hiddenContainer&&(s=y(j)),f(j,le,A,!0)),R||p(W,F,s,0)),Vo(A,W),A.pendingBranch=null,A.isInFallback=!1;let H=A.parent,B=!1;for(;H;){if(H.pendingBranch){H.effects.push(...re),B=!0;break}H=H.parent}!B&&!R&&og(re),A.effects=[],x&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!M&&e.resolve()),dc(q,"onResolve")},fallback(D){if(!A.pendingBranch)return;const{vnode:M,activeBranch:q,parentComponent:j,container:W,namespace:Y}=A;dc(M,"onFallback");const re=y(q),le=()=>{A.isInFallback&&(d(null,D,W,re,j,null,Y,o,l),Vo(A,D))},F=D.transition&&D.transition.mode==="out-in";F&&(q.transition.afterLeave=le),A.isInFallback=!0,f(q,j,null,!0),F||le()},move(D,M,q){A.activeBranch&&p(A.activeBranch,D,M,q),A.container=D},next(){return A.activeBranch&&y(A.activeBranch)},registerDep(D,M,q){const j=!!A.pendingBranch;j&&A.deps++;const W=D.vnode.el;D.asyncDep.catch(Y=>{Il(Y,D,0)}).then(Y=>{if(D.isUnmounted||A.isUnmounted||A.pendingId!==D.suspenseId)return;D.asyncResolved=!0;const{vnode:re}=D;vg(D,Y,!1),W&&(re.el=W);const le=!W&&D.subTree.el;M(D,re,b(W||D.subTree.el),W?null:y(D.subTree),A,a,q),le&&S(le),sv(D,re.el),j&&--A.deps===0&&A.resolve()})},unmount(D,M){A.isUnmounted=!0,A.activeBranch&&f(A.activeBranch,n,D,M),A.pendingBranch&&f(A.pendingBranch,n,D,M)}};return A}function CM(t,e,n,r,i,s,a,o,l){const u=e.suspense=Bk(e,r,n,t.parentNode,document.createElement("div"),null,i,s,a,o,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,a);return u.deps===0&&u.resolve(!1,!0),c}function AM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=wb(r?n.default:n),t.ssFallback=r?wb(n.fallback):ae(Xn)}function wb(t){let e;if(ct(t)){const n=rl&&t._c;n&&(t._d=!1,m()),t=t(),n&&(t._d=!0,e=Xr,dS())}return rt(t)&&(t=bM(t)),t=Yr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Fk(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):og(t)}function Vo(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,sv(r,i))}function LM(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}function Sp(t,e,n=Pn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{oa();const o=Ya(n),l=Qr(e,n,t,a);return o(),la(),l});return r?i.unshift(s):i.push(s),s}}const vs=t=>(e,n=Pn)=>{(!Pc||t==="sp")&&Sp(t,(...r)=>e(...r),n)},Uk=vs("bm"),Ht=vs("m"),jk=vs("bu"),$k=vs("u"),Mc=vs("bum"),ua=vs("um"),IM=vs("sp"),MM=vs("rtg"),DM=vs("rtc");function Hk(t,e=Pn){Sp("ec",t,e)}function un(t,e){if(Nn===null)return t;const n=Ep(Nn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=Jt]=e[i];s&&(ct(s)&&(s={mounted:s,updated:s}),s.deep&&qs(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ei(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(oa(),Qr(l,n,8,[t.el,o,t,e]),la())}}function Fe(t,e,n,r){let i;const s=n;if(rt(t)||an(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if($t(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s)}}else i=[];return i}function nr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(rt(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function Be(t,e){return ct(t)?Ln({name:t.name},e,{setup:t}):t}const ja=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Re(t){ct(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:a=!0,onError:o}=t;let l=null,u,c=0;const d=()=>(c++,l=null,p()),p=()=>{let f;return l||(f=l=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),o)return new Promise((b,S)=>{o(y,()=>b(d()),()=>S(y),c+1)});throw y}).then(y=>f!==l&&l?l:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),u=y,y)))};return Be({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const f=Pn;if(u)return()=>Xf(u,f);const y=x=>{l=null,Il(x,f,13,!r)};if(a&&f.suspense||Pc)return p().then(x=>()=>Xf(x,f)).catch(x=>(y(x),()=>r?ae(r,{error:x}):null));const b=de(!1),S=de(),E=de(!!i);return i&&setTimeout(()=>{E.value=!1},i),s!=null&&setTimeout(()=>{if(!b.value&&!S.value){const x=new Error(`Async component timed out after ${s}ms.`);y(x),S.value=x}},s),p().then(()=>{b.value=!0,f.parent&&Dc(f.parent.vnode)&&(f.parent.effect.dirty=!0,Tp(f.parent.update))}).catch(x=>{y(x),S.value=x}),()=>{if(b.value&&u)return Xf(u,f);if(S.value&&r)return ae(r,{error:S.value});if(n&&!E.value)return ae(n)}}})}function Xf(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,a=ae(t,r,i);return a.ref=n,a.ce=s,delete e.vnode.ce,a}function We(t,e,n={},r,i){if(Nn.isCE||Nn.parent&&ja(Nn.parent)&&Nn.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),m();const a=s&&Vk(s(n)),o=oe(we,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Vk(t){return t.some(e=>il(e)?!(e.type===Xn||e.type===we&&!Vk(e.children)):!0)?t:null}const cg=t=>t?fS(t)?Ep(t):cg(t.parent):null,ju=Ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cg(t.parent),$root:t=>cg(t.root),$emit:t=>t.emit,$options:t=>ov(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Tp(t.update)}),$nextTick:t=>t.n||(t.n=on.bind(t.proxy)),$watch:t=>nD.bind(t)}),Qf=(t,e)=>t!==Jt&&!t.__isScriptSetup&&At(t,e),PM={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Qf(r,e))return a[e]=1,r[e];if(i!==Jt&&At(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&At(u,e))return a[e]=3,s[e];if(n!==Jt&&At(n,e))return a[e]=4,n[e];dg&&(a[e]=0)}}const c=ju[e];let d,p;if(c)return e==="$attrs"&&Ir(t.attrs,"get",""),c(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==Jt&&At(n,e))return a[e]=4,n[e];if(p=l.config.globalProperties,At(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Qf(i,e)?(i[e]=n,!0):r!==Jt&&At(r,e)?(r[e]=n,!0):At(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Jt&&At(t,a)||Qf(e,a)||(o=s[0])&&At(o,a)||At(r,a)||At(ju,a)||At(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:At(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function to(){return qk().slots}function OM(){return qk().attrs}function qk(){const t=Ml();return t.setupContext||(t.setupContext=gS(t))}function kb(t){return rt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Sxe(t){const e=Ml();let n=t();return yg(),Yy(n)&&(n=n.catch(r=>{throw Ya(e),r})),[n,()=>Ya(e)]}let dg=!0;function RM(t){const e=ov(t),n=t.proxy,r=t.ctx;dg=!1,e.beforeCreate&&Sb(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:f,updated:y,activated:b,deactivated:S,beforeDestroy:E,beforeUnmount:x,destroyed:k,unmounted:L,render:A,renderTracked:D,renderTriggered:M,errorCaptured:q,serverPrefetch:j,expose:W,inheritAttrs:Y,components:re,directives:le,filters:F}=e;if(u&&NM(u,r,null),a)for(const B in a){const se=a[B];ct(se)&&(r[B]=se.bind(n))}if(i){const B=i.call(n,n);$t(B)&&(t.data=xn(B))}if(dg=!0,s)for(const B in s){const se=s[B],Te=ct(se)?se.bind(n,n):ct(se.get)?se.get.bind(n,n):Kr,$e=!ct(se)&&ct(se.set)?se.set.bind(n):Kr,ze=U({get:Te,set:$e});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>ze.value,set:ie=>ze.value=ie})}if(o)for(const B in o)Wk(o[B],r,n,B);if(l){const B=ct(l)?l.call(n):l;Reflect.ownKeys(B).forEach(se=>{Dn(se,B[se])})}c&&Sb(c,t,"c");function H(B,se){rt(se)?se.forEach(Te=>B(Te.bind(n))):se&&B(se.bind(n))}if(H(Uk,d),H(Ht,p),H(jk,f),H($k,y),H(sD,b),H(aD,S),H(Hk,q),H(DM,D),H(MM,M),H(Mc,x),H(ua,L),H(IM,j),rt(W))if(W.length){const B=t.exposed||(t.exposed={});W.forEach(se=>{Object.defineProperty(B,se,{get:()=>n[se],set:Te=>n[se]=Te})})}else t.exposed||(t.exposed={});A&&t.render===Kr&&(t.render=A),Y!=null&&(t.inheritAttrs=Y),re&&(t.components=re),le&&(t.directives=le)}function NM(t,e,n=Kr){rt(t)&&(t=hg(t));for(const r in t){const i=t[r];let s;$t(i)?"default"in i?s=Et(i.from||r,i.default,!0):s=Et(i.from||r):s=Et(i),Wt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function Sb(t,e,n){Qr(rt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Wk(t,e,n,r){const i=r.includes(".")?iS(n,r):()=>n[r];if(an(t)){const s=e[t];ct(s)&&St(i,s)}else if(ct(t))St(i,t.bind(n));else if($t(t))if(rt(t))t.forEach(s=>Wk(s,e,n,r));else{const s=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(s)&&St(i,s,t)}}function ov(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Sh(l,u,a,!0)),Sh(l,e,a)),$t(e)&&s.set(e,l),l}function Sh(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Sh(t,s,n,!0),i&&i.forEach(a=>Sh(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=BM[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const BM={data:xb,props:Eb,emits:Eb,methods:Au,computed:Au,beforeCreate:lr,created:lr,beforeMount:lr,mounted:lr,beforeUpdate:lr,updated:lr,beforeDestroy:lr,beforeUnmount:lr,destroyed:lr,unmounted:lr,activated:lr,deactivated:lr,errorCaptured:lr,serverPrefetch:lr,components:Au,directives:Au,watch:UM,provide:xb,inject:FM};function xb(t,e){return e?t?function(){return Ln(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function FM(t,e){return Au(hg(t),hg(e))}function hg(t){if(rt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function lr(t,e){return t?[...new Set([].concat(t,e))]:e}function Au(t,e){return t?Ln(Object.create(null),t,e):e}function Eb(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:Ln(Object.create(null),kb(t),kb(e??{})):e}function UM(t,e){if(!t)return e;if(!e)return t;const n=Ln(Object.create(null),t);for(const r in e)n[r]=lr(t[r],e[r]);return n}function zk(){return{app:null,config:{isNativeTag:II,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jM=0;function $M(t,e){return function(r,i=null){ct(r)||(r=Ln({},r)),i!=null&&!$t(i)&&(i=null);const s=zk(),a=new WeakSet;let o=!1;const l=s.app={_uid:jM++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yS,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&ct(u.install)?(a.add(u),u.install(l,...c)):ct(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!o){const p=ae(r,i);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(p,u):t(p,u,d),o=!0,l._container=u,u.__vue_app__=l,Ep(p.component)}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=qo;qo=l;try{return u()}finally{qo=c}}};return l}}let qo=null;function Dn(t,e){if(Pn){let n=Pn.provides;const r=Pn.parent&&Pn.parent.provides;r===n&&(n=Pn.provides=Object.create(r)),n[t]=e}}function Et(t,e,n=!1){const r=Pn||Nn;if(r||qo){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:qo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ct(e)?e.call(r&&r.proxy):e}}function xp(){return!!(Pn||Nn||qo)}const Gk={},Yk=()=>Object.create(Gk),Kk=t=>Object.getPrototypeOf(t)===Gk;function HM(t,e,n,r=!1){const i={},s=Yk();t.propsDefaults=Object.create(null),Xk(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:os(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function VM(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=Ct(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(wp(t.emitsOptions,p))continue;const f=e[p];if(l)if(At(s,p))f!==s[p]&&(s[p]=f,u=!0);else{const y=Hi(p);i[y]=pg(l,o,y,f,t,!1)}else f!==s[p]&&(s[p]=f,u=!0)}}}else{Xk(t,e,i,s)&&(u=!0);let c;for(const d in o)(!e||!At(e,d)&&((c=eo(d))===d||!At(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=pg(l,o,d,void 0,t,!0)):delete i[d]);if(s!==o)for(const d in s)(!e||!At(e,d))&&(delete s[d],u=!0)}u&&us(t.attrs,"set","")}function Xk(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(jo(l))continue;const u=e[l];let c;i&&At(i,c=Hi(l))?!s||!s.includes(c)?n[c]=u:(o||(o={}))[c]=u:wp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=Ct(n),u=o||Jt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=pg(i,l,d,u[d],t,!At(u,d))}}return a}function pg(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=At(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ct(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Ya(i);r=u[n]=l.call(null,e),c()}}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===eo(n))&&(r=!0))}return r}function Qk(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!ct(t)){const c=d=>{l=!0;const[p,f]=Qk(d,e,!0);Ln(a,p),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return $t(t)&&r.set(t,Fo),Fo;if(rt(s))for(let c=0;c<s.length;c++){const d=Hi(s[c]);Cb(d)&&(a[d]=Jt)}else if(s)for(const c in s){const d=Hi(c);if(Cb(d)){const p=s[c],f=a[d]=rt(p)||ct(p)?{type:p}:Ln({},p);if(f){const y=Ib(Boolean,f.type),b=Ib(String,f.type);f[0]=y>-1,f[1]=b<0||y<b,(y>-1||At(f,"default"))&&o.push(d)}}}const u=[a,o];return $t(t)&&r.set(t,u),u}function Cb(t){return t[0]!=="$"&&!jo(t)}function Ab(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Lb(t,e){return Ab(t)===Ab(e)}function Ib(t,e){return rt(e)?e.findIndex(n=>Lb(n,t)):ct(e)&&Lb(e,t)?0:-1}const Zk=t=>t[0]==="_"||t==="$stable",lv=t=>rt(t)?t.map(Yr):[Yr(t)],qM=(t,e,n)=>{if(e._n)return e;const r=Ie((...i)=>lv(e(...i)),n);return r._c=!1,r},Jk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Zk(i))continue;const s=t[i];if(ct(s))e[i]=qM(i,s,r);else if(s!=null){const a=lv(s);e[i]=()=>a}}},eS=(t,e)=>{const n=lv(e);t.slots.default=()=>n},WM=(t,e)=>{const n=t.slots=Yk();if(t.vnode.shapeFlag&32){const r=e._;r?(Ln(n,e),ik(n,"_",r,!0)):Jk(e,n)}else e&&eS(t,e)},zM=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Jt;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Ln(i,e),!n&&o===1&&delete i._):(s=!e.$stable,Jk(e,i)),a=e}else e&&(eS(t,e),a={default:1});if(s)for(const o in i)!Zk(o)&&a[o]==null&&delete i[o]};function xh(t,e,n,r,i=!1){if(rt(t)){t.forEach((p,f)=>xh(p,e&&(rt(e)?e[f]:e),n,r,i));return}if(ja(r)&&!i)return;const s=r.shapeFlag&4?Ep(r.component):r.el,a=i?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===Jt?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==l&&(an(u)?(c[u]=null,At(d,u)&&(d[u]=null)):Wt(u)&&(u.value=null)),ct(l))Ks(l,o,12,[a,c]);else{const p=an(l),f=Wt(l);if(p||f){const y=()=>{if(t.f){const b=p?At(d,l)?d[l]:c[l]:l.value;i?rt(b)&&Gy(b,s):rt(b)?b.includes(s)||b.push(s):p?(c[l]=[s],At(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else p?(c[l]=a,At(d,l)&&(d[l]=a)):f&&(l.value=a,t.k&&(c[t.k]=a))};a?(y.id=-1,$n(y,n)):y()}}}let Mb=!1;const fo=()=>{Mb||(console.error("Hydration completed but contains mismatches."),Mb=!0)},GM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",YM=t=>t.namespaceURI.includes("MathML"),Od=t=>{if(GM(t))return"svg";if(YM(t))return"mathml"},Rd=t=>t.nodeType===8;function KM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:u}}=t,c=(k,L)=>{if(!L.hasChildNodes()){n(null,k,L),wh(),L._vnode=k;return}d(L.firstChild,k,null,null,null),wh(),L._vnode=k},d=(k,L,A,D,M,q=!1)=>{q=q||!!L.dynamicChildren;const j=Rd(k)&&k.data==="[",W=()=>b(k,L,A,D,M,j),{type:Y,ref:re,shapeFlag:le,patchFlag:F}=L;let R=k.nodeType;L.el=k,F===-2&&(q=!1,L.dynamicChildren=null);let H=null;switch(Y){case nl:R!==3?L.children===""?(l(L.el=i(""),a(k),k),H=k):H=W():(k.data!==L.children&&(fo(),k.data=L.children),H=s(k));break;case Xn:x(k)?(H=s(k),E(L.el=k.content.firstChild,k,A)):R!==8||j?H=W():H=s(k);break;case Hu:if(j&&(k=s(k),R=k.nodeType),R===1||R===3){H=k;const B=!L.children.length;for(let se=0;se<L.staticCount;se++)B&&(L.children+=H.nodeType===1?H.outerHTML:H.data),se===L.staticCount-1&&(L.anchor=H),H=s(H);return j?s(H):H}else W();break;case we:j?H=y(k,L,A,D,M,q):H=W();break;default:if(le&1)(R!==1||L.type.toLowerCase()!==k.tagName.toLowerCase())&&!x(k)?H=W():H=p(k,L,A,D,M,q);else if(le&6){L.slotScopeIds=M;const B=a(k);if(j?H=S(k):Rd(k)&&k.data==="teleport start"?H=S(k,k.data,"teleport end"):H=s(k),e(L,B,null,A,D,Od(B),q),ja(L)){let se;j?(se=ae(we),se.anchor=H?H.previousSibling:B.lastChild):se=k.nodeType===3?tt(""):ae("div"),se.el=k,L.component.subTree=se}}else le&64?R!==8?H=W():H=L.type.hydrate(k,L,A,D,M,q,t,f):le&128&&(H=L.type.hydrate(k,L,A,D,Od(a(k)),M,q,t,d))}return re!=null&&xh(re,null,D,L),H},p=(k,L,A,D,M,q)=>{q=q||!!L.dynamicChildren;const{type:j,props:W,patchFlag:Y,shapeFlag:re,dirs:le,transition:F}=L,R=j==="input"||j==="option";if(R||Y!==-1){le&&Ei(L,null,A,"created");let H=!1;if(x(k)){H=nS(D,F)&&A&&A.vnode.props&&A.vnode.props.appear;const se=k.content.firstChild;H&&F.beforeEnter(se),E(se,k,A),L.el=k=se}if(re&16&&!(W&&(W.innerHTML||W.textContent))){let se=f(k.firstChild,L,k,A,D,M,q);for(;se;){fo();const Te=se;se=se.nextSibling,o(Te)}}else re&8&&k.textContent!==L.children&&(fo(),k.textContent=L.children);if(W)if(R||!q||Y&48)for(const se in W)(R&&(se.endsWith("value")||se==="indeterminate")||Ic(se)&&!jo(se)||se[0]===".")&&r(k,se,null,W[se],void 0,void 0,A);else W.onClick&&r(k,"onClick",null,W.onClick,void 0,void 0,A);let B;(B=W&&W.onVnodeBeforeMount)&&Tr(B,A,L),le&&Ei(L,null,A,"beforeMount"),((B=W&&W.onVnodeMounted)||le||H)&&Fk(()=>{B&&Tr(B,A,L),H&&F.enter(k),le&&Ei(L,null,A,"mounted")},D)}return k.nextSibling},f=(k,L,A,D,M,q,j)=>{j=j||!!L.dynamicChildren;const W=L.children,Y=W.length;for(let re=0;re<Y;re++){const le=j?W[re]:W[re]=Yr(W[re]);k?k=d(k,le,D,M,q,j):le.type===nl&&!le.children?l(le.el=i(""),A):(fo(),n(null,le,A,null,D,M,Od(A),q))}return k},y=(k,L,A,D,M,q)=>{const{slotScopeIds:j}=L;j&&(M=M?M.concat(j):j);const W=a(k),Y=f(s(k),L,W,A,D,M,q);return Y&&Rd(Y)&&Y.data==="]"?s(L.anchor=Y):(fo(),l(L.anchor=u("]"),W,Y),Y)},b=(k,L,A,D,M,q)=>{if(fo(),L.el=null,q){const Y=S(k);for(;;){const re=s(k);if(re&&re!==Y)o(re);else break}}const j=s(k),W=a(k);return o(k),n(null,L,W,j,A,D,Od(W),M),j},S=(k,L="[",A="]")=>{let D=0;for(;k;)if(k=s(k),k&&Rd(k)&&(k.data===L&&D++,k.data===A)){if(D===0)return s(k);D--}return k},E=(k,L,A)=>{const D=L.parentNode;D&&D.replaceChild(k,L);let M=A;for(;M;)M.vnode.el===L&&(M.vnode.el=M.subTree.el=k),M=M.parent},x=k=>k.nodeType===1&&k.tagName.toLowerCase()==="template";return[c,d]}const $n=Fk;function XM(t){return tS(t)}function QM(t){return tS(t,KM)}function tS(t,e){const n=ak();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:f=Kr,insertStaticContent:y}=t,b=(O,N,Q,ee=null,me=null,J=null,fe=void 0,he=null,Le=!!N.dynamicChildren)=>{if(O===N)return;O&&!ui(O,N)&&(ee=V(O),ie(O,me,J,!0),O=null),N.patchFlag===-2&&(Le=!1,N.dynamicChildren=null);const{type:Ce,ref:xe,shapeFlag:Je}=N;switch(Ce){case nl:S(O,N,Q,ee);break;case Xn:E(O,N,Q,ee);break;case Hu:O==null&&x(N,Q,ee,fe);break;case we:re(O,N,Q,ee,me,J,fe,he,Le);break;default:Je&1?A(O,N,Q,ee,me,J,fe,he,Le):Je&6?le(O,N,Q,ee,me,J,fe,he,Le):(Je&64||Je&128)&&Ce.process(O,N,Q,ee,me,J,fe,he,Le,ue)}xe!=null&&me&&xh(xe,O&&O.ref,J,N||O,!N)},S=(O,N,Q,ee)=>{if(O==null)r(N.el=o(N.children),Q,ee);else{const me=N.el=O.el;N.children!==O.children&&u(me,N.children)}},E=(O,N,Q,ee)=>{O==null?r(N.el=l(N.children||""),Q,ee):N.el=O.el},x=(O,N,Q,ee)=>{[O.el,O.anchor]=y(O.children,N,Q,ee,O.el,O.anchor)},k=({el:O,anchor:N},Q,ee)=>{let me;for(;O&&O!==N;)me=p(O),r(O,Q,ee),O=me;r(N,Q,ee)},L=({el:O,anchor:N})=>{let Q;for(;O&&O!==N;)Q=p(O),i(O),O=Q;i(N)},A=(O,N,Q,ee,me,J,fe,he,Le)=>{N.type==="svg"?fe="svg":N.type==="math"&&(fe="mathml"),O==null?D(N,Q,ee,me,J,fe,he,Le):j(O,N,me,J,fe,he,Le)},D=(O,N,Q,ee,me,J,fe,he)=>{let Le,Ce;const{props:xe,shapeFlag:Je,transition:Qe,dirs:st}=O;if(Le=O.el=a(O.type,J,xe&&xe.is,xe),Je&8?c(Le,O.children):Je&16&&q(O.children,Le,null,ee,me,Zf(O,J),fe,he),st&&Ei(O,null,ee,"created"),M(Le,O,O.scopeId,fe,ee),xe){for(const xt in xe)xt!=="value"&&!jo(xt)&&s(Le,xt,null,xe[xt],J,O.children,ee,me,je);"value"in xe&&s(Le,"value",null,xe.value,J),(Ce=xe.onVnodeBeforeMount)&&Tr(Ce,ee,O)}st&&Ei(O,null,ee,"beforeMount");const it=nS(me,Qe);it&&Qe.beforeEnter(Le),r(Le,N,Q),((Ce=xe&&xe.onVnodeMounted)||it||st)&&$n(()=>{Ce&&Tr(Ce,ee,O),it&&Qe.enter(Le),st&&Ei(O,null,ee,"mounted")},me)},M=(O,N,Q,ee,me)=>{if(Q&&f(O,Q),ee)for(let J=0;J<ee.length;J++)f(O,ee[J]);if(me){let J=me.subTree;if(N===J){const fe=me.vnode;M(O,fe,fe.scopeId,fe.slotScopeIds,me.parent)}}},q=(O,N,Q,ee,me,J,fe,he,Le=0)=>{for(let Ce=Le;Ce<O.length;Ce++){const xe=O[Ce]=he?$s(O[Ce]):Yr(O[Ce]);b(null,xe,N,Q,ee,me,J,fe,he)}},j=(O,N,Q,ee,me,J,fe)=>{const he=N.el=O.el;let{patchFlag:Le,dynamicChildren:Ce,dirs:xe}=N;Le|=O.patchFlag&16;const Je=O.props||Jt,Qe=N.props||Jt;let st;if(Q&&wa(Q,!1),(st=Qe.onVnodeBeforeUpdate)&&Tr(st,Q,N,O),xe&&Ei(N,O,Q,"beforeUpdate"),Q&&wa(Q,!0),Ce?W(O.dynamicChildren,Ce,he,Q,ee,Zf(N,me),J):fe||se(O,N,he,null,Q,ee,Zf(N,me),J,!1),Le>0){if(Le&16)Y(he,N,Je,Qe,Q,ee,me);else if(Le&2&&Je.class!==Qe.class&&s(he,"class",null,Qe.class,me),Le&4&&s(he,"style",Je.style,Qe.style,me),Le&8){const it=N.dynamicProps;for(let xt=0;xt<it.length;xt++){const vt=it[xt],zt=Je[vt],Un=Qe[vt];(Un!==zt||vt==="value")&&s(he,vt,zt,Un,me,O.children,Q,ee,je)}}Le&1&&O.children!==N.children&&c(he,N.children)}else!fe&&Ce==null&&Y(he,N,Je,Qe,Q,ee,me);((st=Qe.onVnodeUpdated)||xe)&&$n(()=>{st&&Tr(st,Q,N,O),xe&&Ei(N,O,Q,"updated")},ee)},W=(O,N,Q,ee,me,J,fe)=>{for(let he=0;he<N.length;he++){const Le=O[he],Ce=N[he],xe=Le.el&&(Le.type===we||!ui(Le,Ce)||Le.shapeFlag&70)?d(Le.el):Q;b(Le,Ce,xe,null,ee,me,J,fe,!0)}},Y=(O,N,Q,ee,me,J,fe)=>{if(Q!==ee){if(Q!==Jt)for(const he in Q)!jo(he)&&!(he in ee)&&s(O,he,Q[he],null,fe,N.children,me,J,je);for(const he in ee){if(jo(he))continue;const Le=ee[he],Ce=Q[he];Le!==Ce&&he!=="value"&&s(O,he,Ce,Le,fe,N.children,me,J,je)}"value"in ee&&s(O,"value",Q.value,ee.value,fe)}},re=(O,N,Q,ee,me,J,fe,he,Le)=>{const Ce=N.el=O?O.el:o(""),xe=N.anchor=O?O.anchor:o("");let{patchFlag:Je,dynamicChildren:Qe,slotScopeIds:st}=N;st&&(he=he?he.concat(st):st),O==null?(r(Ce,Q,ee),r(xe,Q,ee),q(N.children||[],Q,xe,me,J,fe,he,Le)):Je>0&&Je&64&&Qe&&O.dynamicChildren?(W(O.dynamicChildren,Qe,Q,me,J,fe,he),(N.key!=null||me&&N===me.subTree)&&uv(O,N,!0)):se(O,N,Q,xe,me,J,fe,he,Le)},le=(O,N,Q,ee,me,J,fe,he,Le)=>{N.slotScopeIds=he,O==null?N.shapeFlag&512?me.ctx.activate(N,Q,ee,fe,Le):F(N,Q,ee,me,J,fe,Le):R(O,N,Le)},F=(O,N,Q,ee,me,J,fe)=>{const he=O.component=vD(O,ee,me);if(Dc(O)&&(he.ctx.renderer=ue),_D(he),he.asyncDep){if(me&&me.registerDep(he,H,fe),!O.el){const Le=he.subTree=ae(Xn);E(null,Le,N,Q)}}else H(he,O,N,Q,me,J,fe)},R=(O,N,Q)=>{const ee=N.component=O.component;if(kM(O,N,Q))if(ee.asyncDep&&!ee.asyncResolved){B(ee,N,Q);return}else ee.next=N,yM(ee.update),ee.effect.dirty=!0,ee.update();else N.el=O.el,ee.vnode=N},H=(O,N,Q,ee,me,J,fe)=>{const he=()=>{if(O.isMounted){let{next:xe,bu:Je,u:Qe,parent:st,vnode:it}=O;{const bt=rS(O);if(bt){xe&&(xe.el=it.el,B(O,xe,fe)),bt.asyncDep.then(()=>{O.isUnmounted||he()});return}}let xt=xe,vt;wa(O,!1),xe?(xe.el=it.el,B(O,xe,fe)):xe=it,Je&&$o(Je),(vt=xe.props&&xe.props.onVnodeBeforeUpdate)&&Tr(vt,st,xe,it),wa(O,!0);const zt=Kf(O),Un=O.subTree;O.subTree=zt,b(Un,zt,d(Un.el),V(Un),O,me,J),xe.el=zt.el,xt===null&&sv(O,zt.el),Qe&&$n(Qe,me),(vt=xe.props&&xe.props.onVnodeUpdated)&&$n(()=>Tr(vt,st,xe,it),me)}else{let xe;const{el:Je,props:Qe}=N,{bm:st,m:it,parent:xt}=O,vt=ja(N);if(wa(O,!1),st&&$o(st),!vt&&(xe=Qe&&Qe.onVnodeBeforeMount)&&Tr(xe,xt,N),wa(O,!0),Je&&K){const zt=()=>{O.subTree=Kf(O),K(Je,O.subTree,O,me,null)};vt?N.type.__asyncLoader().then(()=>!O.isUnmounted&&zt()):zt()}else{const zt=O.subTree=Kf(O);b(null,zt,Q,ee,O,me,J),N.el=zt.el}if(it&&$n(it,me),!vt&&(xe=Qe&&Qe.onVnodeMounted)){const zt=N;$n(()=>Tr(xe,xt,zt),me)}(N.shapeFlag&256||xt&&ja(xt.vnode)&&xt.vnode.shapeFlag&256)&&O.a&&$n(O.a,me),O.isMounted=!0,N=Q=ee=null}},Le=O.effect=new Qy(he,Kr,()=>Tp(Ce),O.scope),Ce=O.update=()=>{Le.dirty&&Le.run()};Ce.id=O.uid,wa(O,!0),Ce()},B=(O,N,Q)=>{N.component=O;const ee=O.vnode.props;O.vnode=N,O.next=null,VM(O,N.props,ee,Q),zM(O,N.children,Q),oa(),_b(O),la()},se=(O,N,Q,ee,me,J,fe,he,Le=!1)=>{const Ce=O&&O.children,xe=O?O.shapeFlag:0,Je=N.children,{patchFlag:Qe,shapeFlag:st}=N;if(Qe>0){if(Qe&128){$e(Ce,Je,Q,ee,me,J,fe,he,Le);return}else if(Qe&256){Te(Ce,Je,Q,ee,me,J,fe,he,Le);return}}st&8?(xe&16&&je(Ce,me,J),Je!==Ce&&c(Q,Je)):xe&16?st&16?$e(Ce,Je,Q,ee,me,J,fe,he,Le):je(Ce,me,J,!0):(xe&8&&c(Q,""),st&16&&q(Je,Q,ee,me,J,fe,he,Le))},Te=(O,N,Q,ee,me,J,fe,he,Le)=>{O=O||Fo,N=N||Fo;const Ce=O.length,xe=N.length,Je=Math.min(Ce,xe);let Qe;for(Qe=0;Qe<Je;Qe++){const st=N[Qe]=Le?$s(N[Qe]):Yr(N[Qe]);b(O[Qe],st,Q,null,me,J,fe,he,Le)}Ce>xe?je(O,me,J,!0,!1,Je):q(N,Q,ee,me,J,fe,he,Le,Je)},$e=(O,N,Q,ee,me,J,fe,he,Le)=>{let Ce=0;const xe=N.length;let Je=O.length-1,Qe=xe-1;for(;Ce<=Je&&Ce<=Qe;){const st=O[Ce],it=N[Ce]=Le?$s(N[Ce]):Yr(N[Ce]);if(ui(st,it))b(st,it,Q,null,me,J,fe,he,Le);else break;Ce++}for(;Ce<=Je&&Ce<=Qe;){const st=O[Je],it=N[Qe]=Le?$s(N[Qe]):Yr(N[Qe]);if(ui(st,it))b(st,it,Q,null,me,J,fe,he,Le);else break;Je--,Qe--}if(Ce>Je){if(Ce<=Qe){const st=Qe+1,it=st<xe?N[st].el:ee;for(;Ce<=Qe;)b(null,N[Ce]=Le?$s(N[Ce]):Yr(N[Ce]),Q,it,me,J,fe,he,Le),Ce++}}else if(Ce>Qe)for(;Ce<=Je;)ie(O[Ce],me,J,!0),Ce++;else{const st=Ce,it=Ce,xt=new Map;for(Ce=it;Ce<=Qe;Ce++){const In=N[Ce]=Le?$s(N[Ce]):Yr(N[Ce]);In.key!=null&&xt.set(In.key,Ce)}let vt,zt=0;const Un=Qe-it+1;let bt=!1,ks=0;const vr=new Array(Un);for(Ce=0;Ce<Un;Ce++)vr[Ce]=0;for(Ce=st;Ce<=Je;Ce++){const In=O[Ce];if(zt>=Un){ie(In,me,J,!0);continue}let pe;if(In.key!=null)pe=xt.get(In.key);else for(vt=it;vt<=Qe;vt++)if(vr[vt-it]===0&&ui(In,N[vt])){pe=vt;break}pe===void 0?ie(In,me,J,!0):(vr[pe-it]=Ce+1,pe>=ks?ks=pe:bt=!0,b(In,N[pe],Q,null,me,J,fe,he,Le),zt++)}const Ss=bt?ZM(vr):Fo;for(vt=Ss.length-1,Ce=Un-1;Ce>=0;Ce--){const In=it+Ce,pe=N[In],He=In+1<xe?N[In+1].el:ee;vr[Ce]===0?b(null,pe,Q,He,me,J,fe,he,Le):bt&&(vt<0||Ce!==Ss[vt]?ze(pe,Q,He,2):vt--)}}},ze=(O,N,Q,ee,me=null)=>{const{el:J,type:fe,transition:he,children:Le,shapeFlag:Ce}=O;if(Ce&6){ze(O.component.subTree,N,Q,ee);return}if(Ce&128){O.suspense.move(N,Q,ee);return}if(Ce&64){fe.move(O,N,Q,ue);return}if(fe===we){r(J,N,Q);for(let Je=0;Je<Le.length;Je++)ze(Le[Je],N,Q,ee);r(O.anchor,N,Q);return}if(fe===Hu){k(O,N,Q);return}if(ee!==2&&Ce&1&&he)if(ee===0)he.beforeEnter(J),r(J,N,Q),$n(()=>he.enter(J),me);else{const{leave:Je,delayLeave:Qe,afterLeave:st}=he,it=()=>r(J,N,Q),xt=()=>{Je(J,()=>{it(),st&&st()})};Qe?Qe(J,it,xt):xt()}else r(J,N,Q)},ie=(O,N,Q,ee=!1,me=!1)=>{const{type:J,props:fe,ref:he,children:Le,dynamicChildren:Ce,shapeFlag:xe,patchFlag:Je,dirs:Qe,memoIndex:st}=O;if(Je===-2&&(me=!1),he!=null&&xh(he,null,Q,O,!0),st!=null&&(N.renderCache[st]=void 0),xe&256){N.ctx.deactivate(O);return}const it=xe&1&&Qe,xt=!ja(O);let vt;if(xt&&(vt=fe&&fe.onVnodeBeforeUnmount)&&Tr(vt,N,O),xe&6)be(O.component,Q,ee);else{if(xe&128){O.suspense.unmount(Q,ee);return}it&&Ei(O,null,N,"beforeUnmount"),xe&64?O.type.remove(O,N,Q,ue,ee):Ce&&(J!==we||Je>0&&Je&64)?je(Ce,N,Q,!1,!0):(J===we&&Je&384||!me&&xe&16)&&je(Le,N,Q),ee&&Se(O)}(xt&&(vt=fe&&fe.onVnodeUnmounted)||it)&&$n(()=>{vt&&Tr(vt,N,O),it&&Ei(O,null,N,"unmounted")},Q)},Se=O=>{const{type:N,el:Q,anchor:ee,transition:me}=O;if(N===we){X(Q,ee);return}if(N===Hu){L(O);return}const J=()=>{i(Q),me&&!me.persisted&&me.afterLeave&&me.afterLeave()};if(O.shapeFlag&1&&me&&!me.persisted){const{leave:fe,delayLeave:he}=me,Le=()=>fe(Q,J);he?he(O.el,J,Le):Le()}else J()},X=(O,N)=>{let Q;for(;O!==N;)Q=p(O),i(O),O=Q;i(N)},be=(O,N,Q)=>{const{bum:ee,scope:me,update:J,subTree:fe,um:he,m:Le,a:Ce}=O;Eh(Le),Eh(Ce),ee&&$o(ee),me.stop(),J&&(J.active=!1,ie(fe,O,N,Q)),he&&$n(he,N),$n(()=>{O.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},je=(O,N,Q,ee=!1,me=!1,J=0)=>{for(let fe=J;fe<O.length;fe++)ie(O[fe],N,Q,ee,me)},V=O=>O.shapeFlag&6?V(O.component.subTree):O.shapeFlag&128?O.suspense.next():p(O.anchor||O.el);let ve=!1;const Ee=(O,N,Q)=>{O==null?N._vnode&&ie(N._vnode,null,null,!0):b(N._vnode||null,O,N,null,null,null,Q),ve||(ve=!0,_b(),wh(),ve=!1),N._vnode=O},ue={p:b,um:ie,m:ze,r:Se,mt:F,mc:q,pc:se,pbc:W,n:V,o:t};let Ge,K;return e&&([Ge,K]=e(ue)),{render:Ee,hydrate:Ge,createApp:$M(Ee,Ge)}}function Zf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function wa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function nS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function uv(t,e,n=!1){const r=t.children,i=e.children;if(rt(r)&&rt(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=$s(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&uv(a,o)),o.type===nl&&(o.el=a.el)}}function ZM(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function rS(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:rS(e)}function Eh(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const JM=Symbol.for("v-scx"),eD=()=>Et(JM);function tD(t,e){return cv(t,null,e)}const Nd={};function St(t,e,n){return cv(t,e,n)}function cv(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:o}=Jt){if(e&&s){const D=e;e=(...M)=>{D(...M),A()}}const l=Pn,u=D=>r===!0?D:qs(D,r===!1?1:void 0);let c,d=!1,p=!1;if(Wt(t)?(c=()=>t.value,d=Th(t)):cs(t)?(c=()=>u(t),d=!0):rt(t)?(p=!0,d=t.some(D=>cs(D)||Th(D)),c=()=>t.map(D=>{if(Wt(D))return D.value;if(cs(D))return u(D);if(ct(D))return Ks(D,l,2)})):ct(t)?e?c=()=>Ks(t,l,2):c=()=>(f&&f(),Qr(t,l,3,[y])):c=Kr,e&&r){const D=c;c=()=>qs(D())}let f,y=D=>{f=k.onStop=()=>{Ks(D,l,4),f=k.onStop=void 0}},b;if(Pc)if(y=Kr,e?n&&Qr(e,l,3,[c(),p?[]:void 0,y]):c(),i==="sync"){const D=eD();b=D.__watcherHandles||(D.__watcherHandles=[])}else return Kr;let S=p?new Array(t.length).fill(Nd):Nd;const E=()=>{if(!(!k.active||!k.dirty))if(e){const D=k.run();(r||d||(p?D.some((M,q)=>Js(M,S[q])):Js(D,S)))&&(f&&f(),Qr(e,l,3,[D,S===Nd?void 0:p&&S[0]===Nd?[]:S,y]),S=D)}else k.run()};E.allowRecurse=!!e;let x;i==="sync"?x=E:i==="post"?x=()=>$n(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),x=()=>Tp(E));const k=new Qy(c,Kr,x),L=aa(),A=()=>{k.stop(),L&&Gy(L.effects,k)};return e?n?E():S=k.run():i==="post"?$n(k.run.bind(k),l&&l.suspense):k.run(),b&&b.push(A),A}function nD(t,e,n){const r=this.proxy,i=an(t)?t.includes(".")?iS(r,t):()=>r[t]:t.bind(r,r);let s;ct(e)?s=e:(s=e.handler,n=e);const a=Ya(this),o=cv(i,s.bind(r),n);return a(),o}function iS(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function qs(t,e=1/0,n){if(e<=0||!$t(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Wt(t))qs(t.value,e,n);else if(rt(t))for(let r=0;r<t.length;r++)qs(t[r],e,n);else if(Al(t)||Uo(t))t.forEach(r=>{qs(r,e,n)});else if(rk(t)){for(const r in t)qs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&qs(t[r],e,n)}return t}const Dc=t=>t.type.__isKeepAlive,rD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ml(),r=n.ctx;if(!r.renderer)return()=>{const x=e.default&&e.default();return x&&x.length===1?x[0]:x};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,p=d("div");r.activate=(x,k,L,A,D)=>{const M=x.component;u(x,k,L,0,o),l(M.vnode,x,k,L,M,o,A,x.slotScopeIds,D),$n(()=>{M.isDeactivated=!1,M.a&&$o(M.a);const q=x.props&&x.props.onVnodeMounted;q&&Tr(q,M.parent,x)},o)},r.deactivate=x=>{const k=x.component;Eh(k.m),Eh(k.a),u(x,p,null,1,o),$n(()=>{k.da&&$o(k.da);const L=x.props&&x.props.onVnodeUnmounted;L&&Tr(L,k.parent,x),k.isDeactivated=!0},o)};function f(x){Jf(x),c(x,n,o,!0)}function y(x){i.forEach((k,L)=>{const A=_g(k.type);A&&(!x||!x(A))&&b(L)})}function b(x){const k=i.get(x);!a||!ui(k,a)?f(k):a&&Jf(a),i.delete(x),s.delete(x)}St(()=>[t.include,t.exclude],([x,k])=>{x&&y(L=>Lu(x,L)),k&&y(L=>!Lu(k,L))},{flush:"post",deep:!0});let S=null;const E=()=>{S!=null&&(lg(n.subTree.type)?$n(()=>{i.set(S,Bd(n.subTree))},n.subTree.suspense):i.set(S,Bd(n.subTree)))};return Ht(E),$k(E),Mc(()=>{i.forEach(x=>{const{subTree:k,suspense:L}=n,A=Bd(k);if(x.type===A.type&&x.key===A.key){Jf(A);const D=A.component.da;D&&$n(D,L);return}f(x)})}),()=>{if(S=null,!e.default)return null;const x=e.default(),k=x[0];if(x.length>1)return a=null,x;if(!il(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return a=null,k;let L=Bd(k);const A=L.type,D=_g(ja(L)?L.type.__asyncResolved||{}:A),{include:M,exclude:q,max:j}=t;if(M&&(!D||!Lu(M,D))||q&&D&&Lu(q,D))return a=L,k;const W=L.key==null?A:L.key,Y=i.get(W);return L.el&&(L=yi(L),k.shapeFlag&128&&(k.ssContent=L)),S=W,Y?(L.el=Y.el,L.component=Y.component,L.transition&&hc(L,L.transition),L.shapeFlag|=512,s.delete(W),s.add(W)):(s.add(W),j&&s.size>parseInt(j,10)&&b(s.values().next().value)),L.shapeFlag|=256,a=L,lg(k.type)?k:L}}},iD=rD;function Lu(t,e){return rt(t)?t.some(n=>Lu(n,e)):an(t)?t.split(",").includes(e):DI(t)?t.test(e):!1}function sD(t,e){sS(t,"a",e)}function aD(t,e){sS(t,"da",e)}function sS(t,e,n=Pn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Sp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Dc(i.parent.vnode)&&oD(r,e,n,i),i=i.parent}}function oD(t,e,n,r){const i=Sp(e,t,r,!0);ua(()=>{Gy(r[e],i)},n)}function Jf(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Bd(t){return t.shapeFlag&128?t.ssContent:t}const js=Symbol("_leaveCb"),Fd=Symbol("_enterCb");function lD(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht(()=>{t.isMounted=!0}),Mc(()=>{t.isUnmounting=!0}),t}const zr=[Function,Array],aS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zr,onEnter:zr,onAfterEnter:zr,onEnterCancelled:zr,onBeforeLeave:zr,onLeave:zr,onAfterLeave:zr,onLeaveCancelled:zr,onBeforeAppear:zr,onAppear:zr,onAfterAppear:zr,onAppearCancelled:zr},oS=t=>{const e=t.subTree;return e.component?oS(e.component):e},uD={name:"BaseTransition",props:aS,setup(t,{slots:e}){const n=Ml(),r=lD();return()=>{const i=e.default&&uS(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const p of i)if(p.type!==Xn){s=p;break}}const a=Ct(t),{mode:o}=a;if(r.isLeaving)return em(s);const l=Db(s);if(!l)return em(s);let u=fg(l,a,r,n,p=>u=p);hc(l,u);const c=n.subTree,d=c&&Db(c);if(d&&d.type!==Xn&&!ui(l,d)&&oS(n).type!==Xn){const p=fg(d,a,r,n);if(hc(d,p),o==="out-in"&&l.type!==Xn)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},em(s);o==="in-out"&&l.type!==Xn&&(p.delayLeave=(f,y,b)=>{const S=lS(r,d);S[String(d.key)]=d,f[js]=()=>{y(),f[js]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return s}}},cD=uD;function lS(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function fg(t,e,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:S,onAppear:E,onAfterAppear:x,onAppearCancelled:k}=e,L=String(t.key),A=lS(n,t),D=(j,W)=>{j&&Qr(j,r,9,W)},M=(j,W)=>{const Y=W[1];D(j,W),rt(j)?j.every(re=>re.length<=1)&&Y():j.length<=1&&Y()},q={mode:a,persisted:o,beforeEnter(j){let W=l;if(!n.isMounted)if(s)W=S||l;else return;j[js]&&j[js](!0);const Y=A[L];Y&&ui(t,Y)&&Y.el[js]&&Y.el[js](),D(W,[j])},enter(j){let W=u,Y=c,re=d;if(!n.isMounted)if(s)W=E||u,Y=x||c,re=k||d;else return;let le=!1;const F=j[Fd]=R=>{le||(le=!0,R?D(re,[j]):D(Y,[j]),q.delayedLeave&&q.delayedLeave(),j[Fd]=void 0)};W?M(W,[j,F]):F()},leave(j,W){const Y=String(t.key);if(j[Fd]&&j[Fd](!0),n.isUnmounting)return W();D(p,[j]);let re=!1;const le=j[js]=F=>{re||(re=!0,W(),F?D(b,[j]):D(y,[j]),j[js]=void 0,A[Y]===t&&delete A[Y])};A[Y]=t,f?M(f,[j,le]):le()},clone(j){const W=fg(j,e,n,r,i);return i&&i(W),W}};return q}function em(t){if(Dc(t))return t=yi(t),t.children=null,t}function Db(t){if(!Dc(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ct(n.default))return n.default()}}function hc(t,e){t.shapeFlag&6&&t.component?hc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function uS(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===we?(a.patchFlag&128&&i++,r=r.concat(uS(a.children,e,o))):(e||a.type!==Xn)&&r.push(o!=null?yi(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}const dD=t=>t.__isTeleport,$u=t=>t&&(t.disabled||t.disabled===""),Pb=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ob=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,mg=(t,e)=>{const n=t&&t.to;return an(n)?e?e(n):null:n},hD={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,u){const{mc:c,pc:d,pbc:p,o:{insert:f,querySelector:y,createText:b,createComment:S}}=u,E=$u(e.props);let{shapeFlag:x,children:k,dynamicChildren:L}=e;if(t==null){const A=e.el=b(""),D=e.anchor=b("");f(A,n,r),f(D,n,r);const M=e.target=mg(e.props,y),q=e.targetAnchor=b("");M&&(f(q,M),a==="svg"||Pb(M)?a="svg":(a==="mathml"||Ob(M))&&(a="mathml"));const j=(W,Y)=>{x&16&&c(k,W,Y,i,s,a,o,l)};E?j(n,D):M&&j(M,q)}else{e.el=t.el;const A=e.anchor=t.anchor,D=e.target=t.target,M=e.targetAnchor=t.targetAnchor,q=$u(t.props),j=q?n:D,W=q?A:M;if(a==="svg"||Pb(D)?a="svg":(a==="mathml"||Ob(D))&&(a="mathml"),L?(p(t.dynamicChildren,L,j,i,s,a,o),uv(t,e,!0)):l||d(t,e,j,W,i,s,a,o,!1),E)q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ud(e,n,A,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Y=e.target=mg(e.props,y);Y&&Ud(e,Y,null,u,0)}else q&&Ud(e,D,M,u,1)}cS(e)},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetAnchor:u,target:c,props:d}=t;if(c&&i(u),s&&i(l),a&16){const p=s||!$u(d);for(let f=0;f<o.length;f++){const y=o[f];r(y,e,n,p,!!y.dynamicChildren)}}},move:Ud,hydrate:pD};function Ud(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(a,e,n),(!d||$u(c))&&l&16)for(let p=0;p<u.length;p++)i(u[p],e,n,2);d&&r(o,e,n)}function pD(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=e.target=mg(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if($u(e.props))e.anchor=u(a(t),e,o(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=a(t);let p=d;for(;p;)if(p=a(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(d,e,c,n,r,i,s)}cS(e)}return e.anchor&&a(e.anchor)}const fD=hD;function cS(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const we=Symbol.for("v-fgt"),nl=Symbol.for("v-txt"),Xn=Symbol.for("v-cmt"),Hu=Symbol.for("v-stc"),Vu=[];let Xr=null;function m(t=!1){Vu.push(Xr=t?null:[])}function dS(){Vu.pop(),Xr=Vu[Vu.length-1]||null}let rl=1;function Rb(t){rl+=t}function hS(t){return t.dynamicChildren=rl>0?Xr||Fo:null,dS(),rl>0&&Xr&&Xr.push(t),t}function T(t,e,n,r,i,s){return hS(I(t,e,n,r,i,s,!0))}function oe(t,e,n,r,i){return hS(ae(t,e,n,r,i,!0))}function il(t){return t?t.__v_isVNode===!0:!1}function ui(t,e){return t.type===e.type&&t.key===e.key}const pS=({key:t})=>t??null,nh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?an(t)||Wt(t)||ct(t)?{i:Nn,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,r=0,i=null,s=t===we?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pS(e),ref:e&&nh(e),scopeId:kp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nn};return o?(dv(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=an(n)?8:16),rl>0&&!a&&Xr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Xr.push(l),l}const ae=mD;function mD(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Rk)&&(t=Xn),il(t)){const o=yi(t,e,!0);return n&&dv(o,n),rl>0&&!s&&Xr&&(o.shapeFlag&6?Xr[Xr.indexOf(t)]=o:Xr.push(o)),o.patchFlag=-2,o}if(wD(t)&&(t=t.__vccOpts),e){e=tr(e);let{class:o,style:l}=e;o&&!an(o)&&(e.class=Oe(o)),$t(l)&&(kk(l)&&!rt(l)&&(l=Ln({},l)),e.style=gn(l))}const a=an(t)?1:lg(t)?128:dD(t)?64:$t(t)?4:ct(t)?2:0;return I(t,e,n,r,i,a,s,!0)}function tr(t){return t?kk(t)||Kk(t)?Ln({},t):t:null}function yi(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?Xt(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&pS(u),ref:e&&e.ref?n&&s?rt(s)?s.concat(nh(e)):[s,nh(e)]:nh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yi(t.ssContent),ssFallback:t.ssFallback&&yi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&hc(c,l.clone(c)),c}function tt(t=" ",e=0){return ae(nl,null,t,e)}function Yi(t,e){const n=ae(Hu,null,t);return n.staticCount=e,n}function P(t="",e=!1){return e?(m(),oe(Xn,null,t)):ae(Xn,null,t)}function Yr(t){return t==null||typeof t=="boolean"?ae(Xn):rt(t)?ae(we,null,t.slice()):typeof t=="object"?$s(t):ae(nl,null,String(t))}function $s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yi(t)}function dv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(rt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),dv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Kk(e)?e._ctx=Nn:i===3&&Nn&&(Nn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Nn},n=32):(e=String(e),r&64?(n=16,e=[tt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Xt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Oe([e.class,r.class]));else if(i==="style")e.style=gn([e.style,r.style]);else if(Ic(i)){const s=e[i],a=r[i];a&&s!==a&&!(rt(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Tr(t,e,n,r=null){Qr(t,e,7,[n,r])}const gD=zk();let yD=0;function vD(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||gD,s={uid:yD++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ck(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qk(r,i),emitsOptions:Pk(r,i),emit:null,emitted:null,propsDefaults:Jt,inheritAttrs:r.inheritAttrs,ctx:Jt,data:Jt,props:Jt,attrs:Jt,slots:Jt,refs:Jt,setupState:Jt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=_M.bind(null,s),t.ce&&t.ce(s),s}let Pn=null;const Ml=()=>Pn||Nn;let Ch,gg;{const t=ak(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Ch=e("__VUE_INSTANCE_SETTERS__",n=>Pn=n),gg=e("__VUE_SSR_SETTERS__",n=>Pc=n)}const Ya=t=>{const e=Pn;return Ch(t),t.scope.on(),()=>{t.scope.off(),Ch(e)}},yg=()=>{Pn&&Pn.scope.off(),Ch(null)};function fS(t){return t.vnode.shapeFlag&4}let Pc=!1;function _D(t,e=!1){e&&gg(e);const{props:n,children:r}=t.vnode,i=fS(t);HM(t,n,i,e),WM(t,r);const s=i?bD(t,e):void 0;return e&&gg(!1),s}function bD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PM);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?gS(t):null,s=Ya(t);oa();const a=Ks(r,t,0,[t.props,i]);if(la(),s(),Yy(a)){if(a.then(yg,yg),e)return a.then(o=>{vg(t,o,e)}).catch(o=>{Il(o,t,0)});t.asyncDep=a}else vg(t,a,e)}else mS(t,e)}function vg(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$t(e)&&(t.setupState=Ck(e)),mS(t,n)}let Nb;function mS(t,e,n){const r=t.type;if(!t.render){if(!e&&Nb&&!r.render){const i=r.template||ov(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=Ln(Ln({isCustomElement:s,delimiters:o},a),l);r.render=Nb(i,u)}}t.render=r.render||Kr}{const i=Ya(t);oa();try{RM(t)}finally{la(),i()}}}const TD={get(t,e){return Ir(t,"get",""),t[e]}};function gS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,TD),slots:t.slots,emit:t.emit,expose:e}}function Ep(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ck(bp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ju)return ju[n](t)},has(e,n){return n in e||n in ju}})):t.proxy}function _g(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function wD(t){return ct(t)&&"__vccOpts"in t}const U=(t,e)=>cM(t,e,Pc);function sn(t,e,n){const r=arguments.length;return r===2?$t(e)&&!rt(e)?il(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&il(n)&&(n=[n]),ae(t,e,n))}const yS="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const kD="http://www.w3.org/2000/svg",SD="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,Bb=ns&&ns.createElement("template"),xD={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ns.createElementNS(kD,t):e==="mathml"?ns.createElementNS(SD,t):n?ns.createElement(t,{is:n}):ns.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ns.createTextNode(t),createComment:t=>ns.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ns.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Bb.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const o=Bb.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},As="transition",cu="animation",pc=Symbol("_vtc"),Ti=(t,{slots:e})=>sn(cD,ED(t),e);Ti.displayName="Transition";const vS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ti.props=Ln({},aS,vS);const ka=(t,e=[])=>{rt(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fb=t=>t?rt(t)?t.some(e=>e.length>1):t.length>1:!1;function ED(t){const e={};for(const re in t)re in vS||(e[re]=t[re]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,y=CD(i),b=y&&y[0],S=y&&y[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:k,onLeave:L,onLeaveCancelled:A,onBeforeAppear:D=E,onAppear:M=x,onAppearCancelled:q=k}=e,j=(re,le,F)=>{Sa(re,le?c:o),Sa(re,le?u:a),F&&F()},W=(re,le)=>{re._isLeaving=!1,Sa(re,d),Sa(re,f),Sa(re,p),le&&le()},Y=re=>(le,F)=>{const R=re?M:x,H=()=>j(le,re,F);ka(R,[le,H]),Ub(()=>{Sa(le,re?l:s),Ls(le,re?c:o),Fb(R)||jb(le,r,b,H)})};return Ln(e,{onBeforeEnter(re){ka(E,[re]),Ls(re,s),Ls(re,a)},onBeforeAppear(re){ka(D,[re]),Ls(re,l),Ls(re,u)},onEnter:Y(!1),onAppear:Y(!0),onLeave(re,le){re._isLeaving=!0;const F=()=>W(re,le);Ls(re,d),Ls(re,p),ID(),Ub(()=>{re._isLeaving&&(Sa(re,d),Ls(re,f),Fb(L)||jb(re,r,S,F))}),ka(L,[re,F])},onEnterCancelled(re){j(re,!1),ka(k,[re])},onAppearCancelled(re){j(re,!0),ka(q,[re])},onLeaveCancelled(re){W(re),ka(A,[re])}})}function CD(t){if(t==null)return null;if($t(t))return[tm(t.enter),tm(t.leave)];{const e=tm(t);return[e,e]}}function tm(t){return sk(t)}function Ls(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[pc]||(t[pc]=new Set)).add(e)}function Sa(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[pc];n&&(n.delete(e),n.size||(t[pc]=void 0))}function Ub(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let AD=0;function jb(t,e,n,r){const i=t._endId=++AD,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=LD(t,e);if(!a)return r();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,p),s()},p=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),t.addEventListener(u,p)}function LD(t,e){const n=window.getComputedStyle(t),r=y=>(n[y]||"").split(", "),i=r(`${As}Delay`),s=r(`${As}Duration`),a=$b(i,s),o=r(`${cu}Delay`),l=r(`${cu}Duration`),u=$b(o,l);let c=null,d=0,p=0;e===As?a>0&&(c=As,d=a,p=s.length):e===cu?u>0&&(c=cu,d=u,p=l.length):(d=Math.max(a,u),c=d>0?a>u?As:cu:null,p=c?c===As?s.length:l.length:0);const f=c===As&&/\b(transform|all)(,|$)/.test(r(`${As}Property`).toString());return{type:c,timeout:d,propCount:p,hasTransform:f}}function $b(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Hb(n)+Hb(t[r])))}function Hb(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ID(){return document.body.offsetHeight}function MD(t,e,n){const r=t[pc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ah=Symbol("_vod"),_S=Symbol("_vsh"),hi={beforeMount(t,{value:e},{transition:n}){t[Ah]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):du(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),du(t,!0),r.enter(t)):r.leave(t,()=>{du(t,!1)}):du(t,e))},beforeUnmount(t,{value:e}){du(t,e)}};function du(t,e){t.style.display=e?t[Ah]:"none",t[_S]=!e}const DD=Symbol(""),PD=/(^|;)\s*display\s*:/;function OD(t,e,n){const r=t.style,i=an(n);let s=!1;if(n&&!i){if(e)if(an(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&rh(r,o,"")}else for(const a in e)n[a]==null&&rh(r,a,"");for(const a in n)a==="display"&&(s=!0),rh(r,a,n[a])}else if(i){if(e!==n){const a=r[DD];a&&(n+=";"+a),r.cssText=n,s=PD.test(n)}}else e&&t.removeAttribute("style");Ah in t&&(t[Ah]=s?r.display:"",t[_S]&&(r.display="none"))}const Vb=/\s*!important$/;function rh(t,e,n){if(rt(n))n.forEach(r=>rh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=RD(t,e);Vb.test(n)?t.setProperty(eo(r),n.replace(Vb,""),"important"):t[r]=n}}const qb=["Webkit","Moz","ms"],nm={};function RD(t,e){const n=nm[e];if(n)return n;let r=Hi(e);if(r!=="filter"&&r in t)return nm[e]=r;r=yp(r);for(let i=0;i<qb.length;i++){const s=qb[i]+r;if(s in t)return nm[e]=s}return e}const Wb="http://www.w3.org/1999/xlink";function zb(t,e,n,r,i,s=$I(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Wb,e.slice(6,e.length)):t.setAttributeNS(Wb,e,n):n==null||s&&!ok(n)?t.removeAttribute(e):t.setAttribute(e,s?"":$i(n)?String(n):n)}function ND(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=ok(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function is(t,e,n,r){t.addEventListener(e,n,r)}function BD(t,e,n,r){t.removeEventListener(e,n,r)}const Gb=Symbol("_vei");function FD(t,e,n,r,i=null){const s=t[Gb]||(t[Gb]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=UD(e);if(r){const u=s[e]=HD(r,i);is(t,o,u,l)}else a&&(BD(t,o,a,l),s[e]=void 0)}}const Yb=/(?:Once|Passive|Capture)$/;function UD(t){let e;if(Yb.test(t)){e={};let r;for(;r=t.match(Yb);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):eo(t.slice(2)),e]}let rm=0;const jD=Promise.resolve(),$D=()=>rm||(jD.then(()=>rm=0),rm=Date.now());function HD(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qr(VD(r,n.value),e,5,[r])};return n.value=t,n.attached=$D(),n}function VD(t,e){if(rt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Kb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qD=(t,e,n,r,i,s,a,o,l)=>{const u=i==="svg";e==="class"?MD(t,r,u):e==="style"?OD(t,n,r):Ic(e)?zy(e)||FD(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WD(t,e,r,u))?(ND(t,e,r,s,a,o,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zb(t,e,r,u,a,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zb(t,e,r,u))};function WD(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kb(e)&&ct(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kb(e)&&an(n)?!1:e in t}const ea=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?n=>$o(e,n):e};function zD(t){t.target.composing=!0}function Xb(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zr=Symbol("_assign"),Iu={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Zr]=ea(i);const s=r||i.props&&i.props.type==="number";is(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=_h(o)),t[Zr](o)}),n&&is(t,"change",()=>{t.value=t.value.trim()}),e||(is(t,"compositionstart",zD),is(t,"compositionend",Xb),is(t,"change",Xb))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[Zr]=ea(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?_h(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},bS={deep:!0,created(t,e,n){t[Zr]=ea(n),is(t,"change",()=>{const r=t._modelValue,i=sl(t),s=t.checked,a=t[Zr];if(rt(r)){const o=Xy(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const u=[...r];u.splice(o,1),a(u)}}else if(Al(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(TS(t,s))})},mounted:Qb,beforeUpdate(t,e,n){t[Zr]=ea(n),Qb(t,e,n)}};function Qb(t,{value:e,oldValue:n},r){t._modelValue=e,rt(e)?t.checked=Xy(e,r.props.value)>-1:Al(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=za(e,TS(t,!0)))}const ih={created(t,{value:e},n){t.checked=za(e,n.props.value),t[Zr]=ea(n),is(t,"change",()=>{t[Zr](sl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Zr]=ea(r),e!==n&&(t.checked=za(e,r.props.value))}},GD={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Al(e);is(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?_h(sl(a)):sl(a));t[Zr](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,on(()=>{t._assigning=!1})}),t[Zr]=ea(r)},mounted(t,{value:e,modifiers:{number:n}}){Zb(t,e)},beforeUpdate(t,e,n){t[Zr]=ea(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Zb(t,e)}};function Zb(t,e,n){const r=t.multiple,i=rt(e);if(!(r&&!i&&!Al(e))){for(let s=0,a=t.options.length;s<a;s++){const o=t.options[s],l=sl(o);if(r)if(i){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Xy(e,l)>-1}else o.selected=e.has(l);else if(za(sl(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function sl(t){return"_value"in t?t._value:t.value}function TS(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const YD=["ctrl","shift","alt","meta"],KD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YD.some(n=>t[`${n}Key`]&&!e.includes(n))},Mr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=KD[e[a]];if(o&&o(i,e))return}return t(i,...s)})},XD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ta=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=eo(i.key);if(e.some(a=>a===s||XD[a]===s))return t(i)})},wS=Ln({patchProp:qD},xD);let qu,Jb=!1;function kS(){return qu||(qu=XM(wS))}function QD(){return qu=Jb?qu:QM(wS),Jb=!0,qu}const eT=(...t)=>{kS().render(...t)},ZD=(...t)=>{const e=kS().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xS(r);if(!i)return;const s=e._component;!ct(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,SS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},JD=(...t)=>{const e=QD().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xS(r);if(i)return n(i,!0,SS(i))},e};function SS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xS(t){return an(t)?document.querySelector(t):t}const e7=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,t7=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,n7=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function r7(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){i7(t);return}return e}function i7(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Lh(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!n7.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(e7.test(t)||t7.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,r7)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const s7=/#/g,a7=/&/g,o7=/\//g,l7=/=/g,hv=/\+/g,u7=/%5e/gi,c7=/%60/gi,d7=/%7c/gi,h7=/%20/gi;function p7(t){return encodeURI(""+t).replace(d7,"|")}function bg(t){return p7(typeof t=="string"?t:JSON.stringify(t)).replace(hv,"%2B").replace(h7,"+").replace(s7,"%23").replace(a7,"%26").replace(c7,"`").replace(u7,"^").replace(o7,"%2F")}function im(t){return bg(t).replace(l7,"%3D")}function Ih(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function f7(t){return Ih(t.replace(hv," "))}function m7(t){return Ih(t.replace(hv," "))}function ES(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=f7(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=m7(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function g7(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${im(t)}=${bg(n)}`).join("&"):`${im(t)}=${bg(e)}`:im(t)}function y7(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>g7(e,t[e])).filter(Boolean).join("&")}const v7=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,_7=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,b7=/^([/\\]\s*){2,}[^/\\]/,T7=/^[\s\0]*(blob|data|javascript|vbscript):$/i,w7=/\/$|\/\?|\/#/,k7=/^\.?\//;function _s(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?v7.test(t):_7.test(t)||(e.acceptRelative?b7.test(t):!1)}function S7(t){return!!t&&T7.test(t)}function Tg(t="",e){return e?w7.test(t):t.endsWith("/")}function Cp(t="",e){if(!e)return(Tg(t)?t.slice(0,-1):t)||"/";if(!Tg(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");i>=0&&(n=t.slice(0,i),r=t.slice(i));const[s,...a]=n.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(a.length>0?`?${a.join("?")}`:"")+r}function Mh(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Tg(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");if(i>=0&&(n=t.slice(0,i),r=t.slice(i),!n))return r;const[s,...a]=n.split("?");return s+"/"+(a.length>0?`?${a.join("?")}`:"")+r}function x7(t=""){return t.startsWith("/")}function tT(t=""){return x7(t)?t:"/"+t}function E7(t,e){if(AS(e)||_s(t))return t;const n=Cp(e);return t.startsWith(n)?t:Ap(n,t)}function nT(t,e){if(AS(e))return t;const n=Cp(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function CS(t,e){const n=L7(t),r={...ES(n.search),...e};return n.search=y7(r),I7(n)}function AS(t){return!t||t==="/"}function C7(t){return t&&t!=="/"}function Ap(t,...e){let n=t||"";for(const r of e.filter(i=>C7(i)))if(n){const i=r.replace(k7,"");n=Mh(n)+i}else n=r;return n}function LS(...t){var a,o,l,u;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let i=0;for(const c of n)if(!(!c||c==="/")){for(const[d,p]of c.split(e).entries())if(!(!p||p===".")){if(p===".."){if(r.length===1&&_s(r[0]))continue;r.pop(),i--;continue}if(d===1&&((a=r[r.length-1])!=null&&a.endsWith(":/"))){r[r.length-1]+="/"+p;continue}r.push(p),i++}}let s=r.join("/");return i>=0?(o=n[0])!=null&&o.startsWith("/")&&!s.startsWith("/")?s="/"+s:(l=n[0])!=null&&l.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*i)+s,(u=n[n.length-1])!=null&&u.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function A7(t,e,n={}){return n.trailingSlash||(t=Mh(t),e=Mh(e)),n.leadingSlash||(t=tT(t),e=tT(e)),n.encoding||(t=Ih(t),e=Ih(e)),t===e}const IS=Symbol.for("ufo:protocolRelative");function L7(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!_s(t,{acceptRelative:!0}))return rT(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:l,search:u,hash:c}=rT(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:l,search:u,hash:c,[IS]:!r}}function rT(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function I7(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[IS]?(t.protocol||"")+"//":"")+i+s+e+n+r}class M7 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function D7(t){var l,u,c,d,p;const e=((l=t.error)==null?void 0:l.message)||((u=t.error)==null?void 0:u.toString())||"",n=((c=t.request)==null?void 0:c.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((p=t.request)==null?void 0:p.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,o=new M7(a,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(o,f,{get(){return t[f]}});for(const[f,y]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,f,{get(){return t.response&&t.response[y]}});return o}const P7=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function iT(t="GET"){return P7.has(t.toUpperCase())}function O7(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const R7=new Set(["image/svg","application/xml","application/xhtml","application/html"]),N7=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function B7(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return N7.test(e)?"json":R7.has(e)||e.startsWith("text/")?"text":"blob"}function F7(t,e,n=globalThis.Headers){const r={...e,...t};if(e!=null&&e.params&&(t!=null&&t.params)&&(r.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&(t!=null&&t.query)&&(r.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&(t!=null&&t.headers)){r.headers=new n((e==null?void 0:e.headers)||{});for(const[i,s]of new n((t==null?void 0:t.headers)||{}))r.headers.set(i,s)}return r}const U7=new Set([408,409,425,429,500,502,503,504]),j7=new Set([101,204,205,304]);function MS(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let c;typeof o.options.retry=="number"?c=o.options.retry:c=iT(o.options.method)?0:1;const d=o.response&&o.response.status||500;if(c>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(d):U7.has(d))){const p=o.options.retryDelay||0;return p>0&&await new Promise(f=>setTimeout(f,p)),s(o.request,{...o.options,retry:c-1})}}const u=D7(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,s),u}const s=async function(l,u={}){var f;const c={request:l,options:F7(u,t.defaults,n),response:void 0,error:void 0};c.options.method=(f=c.options.method)==null?void 0:f.toUpperCase(),c.options.onRequest&&await c.options.onRequest(c),typeof c.request=="string"&&(c.options.baseURL&&(c.request=E7(c.request,c.options.baseURL)),(c.options.query||c.options.params)&&(c.request=CS(c.request,{...c.options.params,...c.options.query}))),c.options.body&&iT(c.options.method)&&(O7(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new n(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let d;if(!c.options.signal&&c.options.timeout){const y=new r;d=setTimeout(()=>y.abort(),c.options.timeout),c.options.signal=y.signal}try{c.response=await e(c.request,c.options)}catch(y){return c.error=y,c.options.onRequestError&&await c.options.onRequestError(c),await i(c)}finally{d&&clearTimeout(d)}if(c.response.body&&!j7.has(c.response.status)&&c.options.method!=="HEAD"){const y=(c.options.parseResponse?"json":c.options.responseType)||B7(c.response.headers.get("content-type")||"");switch(y){case"json":{const b=await c.response.text(),S=c.options.parseResponse||Lh;c.response._data=S(b);break}case"stream":{c.response._data=c.response.body;break}default:c.response._data=await c.response[y]()}}return c.options.onResponse&&await c.options.onResponse(c),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await c.options.onResponseError(c),await i(c)):c.response},a=async function(l,u){return(await s(l,u))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={})=>MS({...t,defaults:{...t.defaults,...o}}),a}const pv=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),$7=pv.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),H7=pv.Headers,V7=pv.AbortController,q7=MS({fetch:$7,Headers:H7,AbortController:V7}),W7=q7,z7=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},Dh=z7().app,G7=()=>Dh.baseURL,Y7=()=>Dh.buildAssetsDir,fv=(...t)=>LS(DS(),Y7(),...t),DS=(...t)=>{const e=Dh.cdnURL||Dh.baseURL;return t.length?LS(e,...t):e};globalThis.__buildAssetsURL=fv,globalThis.__publicAssetsURL=DS;globalThis.$fetch||(globalThis.$fetch=W7.create({baseURL:G7()}));function wg(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?wg(i,e,s):typeof i=="function"&&(e[s]=i)}return e}const K7={run:t=>t()},X7=()=>K7,PS=typeof console.createTask<"u"?console.createTask:X7;function Q7(t,e){const n=e.shift(),r=PS(n);return t.reduce((i,s)=>i.then(()=>r.run(()=>s(...e))),Promise.resolve())}function Z7(t,e){const n=e.shift(),r=PS(n);return Promise.all(t.map(i=>r.run(()=>i(...e))))}function sm(t,e){for(const n of[...t])n(e)}class J7{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let a=s.message;a||(a=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=wg(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=wg(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(Q7,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Z7,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&sm(this._before,i);const s=e(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&sm(this._after,i)}):(this._after&&i&&sm(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function OS(){return new J7}function eP(t={}){let e,n=!1;const r=a=>{if(e&&e!==a)throw new Error("Context conflict")};let i;if(t.asyncContext){const a=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?i=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(i&&e===void 0){const a=i.getStore();if(a!==void 0)return a}return e};return{use:()=>{const a=s();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>s(),set:(a,o)=>{o||r(a),e=a,n=!0},unset:()=>{e=void 0,n=!1},call:(a,o)=>{r(a),e=a;try{return i?i.run(a,o):o()}finally{n||(e=void 0)}},async callAsync(a,o){e=a;const l=()=>{e=a},u=()=>e===a?l:void 0;kg.add(u);try{const c=i?i.run(a,o):o();return n||(e=void 0),await c}finally{kg.delete(u)}}}}function tP(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=eP({...t,...r})),e[n],e[n]}}}const Ph=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},sT="__unctx__",nP=Ph[sT]||(Ph[sT]=tP()),rP=(t,e={})=>nP.get(t,e),aT="__unctx_async_handlers__",kg=Ph[aT]||(Ph[aT]=new Set);function al(t){const e=[];for(const i of kg){const s=i();s&&e.push(s)}const n=()=>{for(const i of e)i()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(i=>{throw n(),i})),[r,n]}const Sg={name:"fade",mode:"out-in"},iP=!1,sP=!1,aP={componentName:"NuxtLink"},Io={value:null,errorValue:null,deep:!0},oP=null,lP={},uP="#__nuxt",RS="nuxt-app",oT=36e5;function NS(t=RS){return rP(t,{asyncContext:!1})}const cP="__nuxt_plugin";function dP(t){let e=0;const n={_name:RS,_scope:vp(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.12.3"},get vue(){return n.vueApp.version}},payload:os({data:os({}),state:xn({}),once:new Set,_errors:os({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!aa()?n._scope.run(()=>lT(n,i)):lT(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:os({}),_payloadRevivers:{},...t};if(window.__NUXT__)for(const i in window.__NUXT__)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],window.__NUXT__[i]);break;default:n.payload[i]=window.__NUXT__[i]}n.hooks=OS(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,s)=>{const a="$"+i;jd(n,a,s),jd(n.vueApp.config.globalProperties,a,s)},jd(n.vueApp,"$nuxt",n),jd(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})}),window.useNuxtApp=window.useNuxtApp||Pt;const i=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function hP(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function pP(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function fP(t,e){const n=[],r=[],i=[],s=[];let a=0;async function o(l){var c;const u=((c=l.dependsOn)==null?void 0:c.filter(d=>e.some(p=>p._name===d)&&!n.includes(d)))??[];if(u.length>0)r.push([new Set(u),l]);else{const d=pP(t,l).then(async()=>{l._name&&(n.push(l._name),await Promise.all(r.map(async([p,f])=>{p.has(l._name)&&(p.delete(l._name),p.size===0&&(a++,await o(f)))})))});l.parallel?i.push(d.catch(p=>s.push(p))):await d}}for(const l of e)hP(t,l);for(const l of e)await o(l);if(await Promise.all(i),a)for(let l=0;l<a;l++)await Promise.all(i);if(s.length)throw s[0]}function En(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[cP]:!0,_name:e})}function lT(t,e,n){const r=()=>e();return NS(t._name).set(t),t.vueApp.runWithContext(r)}function mP(t){var n;let e;return xp()&&(e=(n=Ml())==null?void 0:n.appContext.app.$nuxt),e=e||NS(t).tryUse(),e||null}function Pt(t){const e=mP(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function ni(t){return Pt().$config}function jd(t,e,n){Object.defineProperty(t,e,{get:()=>n})}const uT=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function gP(t,e){e?e={...uT,...e}:e=uT;const n=BS(e);return n.dispatch(t),n.toString()}const yP=Object.freeze(["prototype","__proto__","constructor"]);function BS(t){let e="",n=new Map;const r=i=>{e+=i};return{toString(){return e},getContext(){return n},dispatch(i){return t.replacer&&(i=t.replacer(i)),this[i===null?"null":typeof i](i)},object(i){if(i&&typeof i.toJSON=="function")return this.object(i.toJSON());const s=Object.prototype.toString.call(i);let a="";const o=s.length;o<10?a="unknown:["+s+"]":a=s.slice(8,o-1),a=a.toLowerCase();let l=null;if((l=n.get(i))===void 0)n.set(i,n.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return r("buffer:"),r(i.toString("utf8"));if(a!=="object"&&a!=="function"&&a!=="asyncfunction")this[a]?this[a](i):t.ignoreUnknown||this.unkown(i,a);else{let u=Object.keys(i);t.unorderedObjects&&(u=u.sort());let c=[];t.respectType!==!1&&!cT(i)&&(c=yP),t.excludeKeys&&(u=u.filter(p=>!t.excludeKeys(p)),c=c.filter(p=>!t.excludeKeys(p))),r("object:"+(u.length+c.length)+":");const d=p=>{this.dispatch(p),r(":"),t.excludeValues||this.dispatch(i[p]),r(",")};for(const p of u)d(p);for(const p of c)d(p)}},array(i,s){if(s=s===void 0?t.unorderedArrays!==!1:s,r("array:"+i.length+":"),!s||i.length<=1){for(const l of i)this.dispatch(l);return}const a=new Map,o=i.map(l=>{const u=BS(t);u.dispatch(l);for(const[c,d]of u.getContext())a.set(c,d);return u.toString()});return n=a,o.sort(),this.array(o,!1)},date(i){return r("date:"+i.toJSON())},symbol(i){return r("symbol:"+i.toString())},unkown(i,s){if(r(s),!!i&&(r(":"),i&&typeof i.entries=="function"))return this.array(Array.from(i.entries()),!0)},error(i){return r("error:"+i.toString())},boolean(i){return r("bool:"+i)},string(i){r("string:"+i.length+":"),r(i)},function(i){r("fn:"),cT(i)?this.dispatch("[native]"):this.dispatch(i.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),t.respectFunctionProperties&&this.object(i)},number(i){return r("number:"+i)},xml(i){return r("xml:"+i.toString())},null(){return r("Null")},undefined(){return r("Undefined")},regexp(i){return r("regex:"+i.toString())},uint8array(i){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},uint8clampedarray(i){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},int8array(i){return r("int8array:"),this.dispatch(Array.prototype.slice.call(i))},uint16array(i){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},int16array(i){return r("int16array:"),this.dispatch(Array.prototype.slice.call(i))},uint32array(i){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},int32array(i){return r("int32array:"),this.dispatch(Array.prototype.slice.call(i))},float32array(i){return r("float32array:"),this.dispatch(Array.prototype.slice.call(i))},float64array(i){return r("float64array:"),this.dispatch(Array.prototype.slice.call(i))},arraybuffer(i){return r("arraybuffer:"),this.dispatch(new Uint8Array(i))},url(i){return r("url:"+i.toString())},map(i){r("map:");const s=[...i];return this.array(s,t.unorderedSets!==!1)},set(i){r("set:");const s=[...i];return this.array(s,t.unorderedSets!==!1)},file(i){return r("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},blob(){if(t.ignoreUnknown)return r("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return r("domwindow")},bigint(i){return r("bigint:"+i.toString())},process(){return r("process")},timer(){return r("timer")},pipe(){return r("pipe")},tcp(){return r("tcp")},udp(){return r("udp")},tty(){return r("tty")},statwatcher(){return r("statwatcher")},securecontext(){return r("securecontext")},connection(){return r("connection")},zlib(){return r("zlib")},context(){return r("context")},nodescript(){return r("nodescript")},httpparser(){return r("httpparser")},dataview(){return r("dataview")},signal(){return r("signal")},fsevent(){return r("fsevent")},tlswrap(){return r("tlswrap")}}}const FS="[native code] }",vP=FS.length;function cT(t){return typeof t!="function"?!1:Function.prototype.toString.call(t).slice(-vP)===FS}class Xs{constructor(e,n){e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}toString(e){return(e||_P).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Xs([...this.words])}}const _P={stringify(t){const e=[];for(let n=0;n<t.sigBytes;n++){const r=t.words[n>>>2]>>>24-n%4*8&255;e.push((r>>>4).toString(16),(r&15).toString(16))}return e.join("")}},bP={stringify(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];for(let r=0;r<t.sigBytes;r+=3){const i=t.words[r>>>2]>>>24-r%4*8&255,s=t.words[r+1>>>2]>>>24-(r+1)%4*8&255,a=t.words[r+2>>>2]>>>24-(r+2)%4*8&255,o=i<<16|s<<8|a;for(let l=0;l<4&&r*8+l*6<t.sigBytes*8;l++)n.push(e.charAt(o>>>6*(3-l)&63))}return n.join("")}},TP={parse(t){const e=t.length,n=[];for(let r=0;r<e;r++)n[r>>>2]|=(t.charCodeAt(r)&255)<<24-r%4*8;return new Xs(n,e)}},wP={parse(t){return TP.parse(unescape(encodeURIComponent(t)))}};class kP{constructor(){this._data=new Xs,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Xs,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=wP.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,n){}_process(e){let n,r=this._data.sigBytes/(this.blockSize*4);e?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const i=r*this.blockSize,s=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=s}return new Xs(n,s)}}class SP extends kP{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const dT=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],xP=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],xa=[];class EP extends SP{constructor(){super(...arguments),this._hash=new Xs([...dT])}reset(){super.reset(),this._hash=new Xs([...dT])}_doProcessBlock(e,n){const r=this._hash.words;let i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5],c=r[6],d=r[7];for(let p=0;p<64;p++){if(p<16)xa[p]=e[n+p]|0;else{const k=xa[p-15],L=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,A=xa[p-2],D=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;xa[p]=L+xa[p-7]+D+xa[p-16]}const f=l&u^~l&c,y=i&s^i&a^s&a,b=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),S=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),E=d+S+f+xP[p]+xa[p],x=b+y;d=c,c=u,u=l,l=o+E|0,o=a,a=s,s=i,i=E+x|0}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+a|0,r[3]=r[3]+o|0,r[4]=r[4]+l|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+d|0}finalize(e){super.finalize(e);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function CP(t){return new EP().finalize(t).toString(bP)}function AP(t,e={}){const n=typeof t=="string"?t:gP(t,e);return CP(n).slice(0,10)}function LP(t,e){return{ctx:{table:t},matchAll:n=>jS(n,t)}}function US(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,i])=>[r,US(i)])):new Map(Object.entries(t[n]));return e}function IP(t){return LP(US(t))}function jS(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[s,a]of hT(e.wildcard))(t===s||t.startsWith(s+"/"))&&r.push(a);for(const[s,a]of hT(e.dynamic))if(t.startsWith(s+"/")){const o="/"+t.slice(s.length).split("/").splice(2).join("/");r.push(...jS(o,a))}const i=e.static.get(t);return i&&r.push(i),r.filter(Boolean)}function hT(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function am(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function xg(t,e,n=".",r){if(!am(e))return xg(t,{},n,r);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const a=t[s];a!=null&&(r&&r(i,s,a,n)||(Array.isArray(a)&&Array.isArray(i[s])?i[s]=[...a,...i[s]]:am(a)&&am(i[s])?i[s]=xg(a,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=a))}return i}function MP(t){return(...e)=>e.reduce((n,r)=>xg(n,r,"",t),{})}const $S=MP();function DP(t,e){try{return e in t}catch{return!1}}var PP=Object.defineProperty,OP=(t,e,n)=>e in t?PP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ca=(t,e,n)=>(OP(t,typeof e!="symbol"?e+"":e,n),n);class Eg extends Error{constructor(e,n={}){super(e,n),Ca(this,"statusCode",500),Ca(this,"fatal",!1),Ca(this,"unhandled",!1),Ca(this,"statusMessage"),Ca(this,"data"),Ca(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Ag(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=HS(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}Ca(Eg,"__h3_error__",!0);function Cg(t){if(typeof t=="string")return new Eg(t);if(RP(t))return t;const e=new Eg(t.message??t.statusMessage??"",{cause:t.cause||t});if(DP(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Ag(t.statusCode,e.statusCode):t.status&&(e.statusCode=Ag(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;HS(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function RP(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const NP=/[^\u0009\u0020-\u007E]/g;function HS(t=""){return t.replace(NP,"")}function Ag(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const VS=Symbol("layout-meta"),Oc=Symbol("route"),Qn=()=>{var t;return(t=Pt())==null?void 0:t.$router},Dl=()=>xp()?Et(Oc,Pt()._route):Pt()._route;const BP=()=>{try{if(Pt()._processingMiddleware)return!0}catch{return!1}return!1},FP=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?Lg(t):Qn().resolve(t).href;if(e!=null&&e.open){const{target:l="_blank",windowFeatures:u={}}=e.open,c=Object.entries(u).filter(([d,p])=>p!==void 0).map(([d,p])=>`${d.toLowerCase()}=${p}`).join(", ");return open(n,l,c),Promise.resolve()}const r=_s(n,{acceptRelative:!0}),i=(e==null?void 0:e.external)||r;if(i){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&S7(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const s=BP();if(!i&&s)return t;const a=Qn(),o=Pt();return i?(o._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,s?o.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?a.replace(t):a.push(t)};function Lg(t){return CS(t.path||"",t.query||{})+(t.hash||"")}const qS="__nuxt_error",Lp=()=>Vi(Pt().payload,"error"),Mo=t=>{const e=Rc(t);try{const n=Pt(),r=Lp();n.hooks.callHook("app:error",e),r.value=r.value||e}catch{throw e}return e},UP=async(t={})=>{const e=Pt(),n=Lp();e.callHook("app:error:cleared",t),t.redirect&&await Qn().replace(t.redirect),n.value=oP},jP=t=>!!t&&typeof t=="object"&&qS in t,Rc=t=>{const e=Cg(t);return Object.defineProperty(e,qS,{value:!0,configurable:!1,writable:!1}),e},$P=-1,HP=-2,VP=-3,qP=-4,WP=-5,zP=-6;function GP(t,e){return YP(JSON.parse(t),e)}function YP(t,e){if(typeof t=="number")return i(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function i(s,a=!1){if(s===$P)return;if(s===VP)return NaN;if(s===qP)return 1/0;if(s===WP)return-1/0;if(s===zP)return-0;if(a)throw new Error("Invalid input");if(s in r)return r[s];const o=n[s];if(!o||typeof o!="object")r[s]=o;else if(Array.isArray(o))if(typeof o[0]=="string"){const l=o[0],u=e==null?void 0:e[l];if(u)return r[s]=u(i(o[1]));switch(l){case"Date":r[s]=new Date(o[1]);break;case"Set":const c=new Set;r[s]=c;for(let f=1;f<o.length;f+=1)c.add(i(o[f]));break;case"Map":const d=new Map;r[s]=d;for(let f=1;f<o.length;f+=2)d.set(i(o[f]),i(o[f+1]));break;case"RegExp":r[s]=new RegExp(o[1],o[2]);break;case"Object":r[s]=Object(o[1]);break;case"BigInt":r[s]=BigInt(o[1]);break;case"null":const p=Object.create(null);r[s]=p;for(let f=1;f<o.length;f+=2)p[o[f]]=i(o[f+1]);break;default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(o.length);r[s]=l;for(let u=0;u<o.length;u+=1){const c=o[u];c!==HP&&(l[u]=i(c))}}else{const l={};r[s]=l;for(const u in o){const c=o[u];l[u]=i(c)}}return r[s]}return i(0)}function KP(t){return Array.isArray(t)?t:[t]}const XP=["title","titleTemplate","script","style","noscript"],sh=["base","meta","link","style","script","noscript"],QP=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],ZP=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],WS=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],JP=typeof window<"u";function mv(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function pT(t){return t._h||mv(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,n])=>`${e}:${String(n)}`).join(",")}`)}function zS(t,e){const{props:n,tag:r}=t;if(ZP.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const s of i)if(typeof n[s]<"u"){const a=String(n[s]);return`${r}:${s}:${a}`}return!1}function fT(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function e9(t,e,n){const r={tag:t,props:await GS(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return WS.forEach(i=>{const s=typeof r.props[i]<"u"?r.props[i]:n[i];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(i)||XP.includes(r.tag))&&(r[i==="children"?"innerHTML":i]=s),delete r.props[i])}),r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function t9(t,e){var r;const n=t==="class"?" ":";";return typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,i])=>i).map(([i,s])=>t==="style"?`${i}:${s}`:i)),(r=String(Array.isArray(e)?e.join(n):e))==null?void 0:r.split(n).filter(i=>i.trim()).filter(Boolean).join(n)}async function GS(t,e){for(const n of Object.keys(t)){if(["class","style"].includes(n)){t[n]=t9(n,t[n]);continue}if(t[n]instanceof Promise&&(t[n]=await t[n]),!e&&!WS.includes(n)){const r=String(t[n]),i=n.startsWith("data-");r==="true"||r===""?t[n]=i?"true":!0:t[n]||(i&&r==="false"?t[n]="false":delete t[n])}}return t}const n9=10;async function r9(t){const e=[];return Object.entries(t.resolvedInput).filter(([n,r])=>typeof r<"u"&&QP.includes(n)).forEach(([n,r])=>{const i=KP(r);e.push(...i.map(s=>e9(n,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((n,r)=>(n._e=t._i,t.mode&&(n._m=t.mode),n._p=(t._i<<n9)+r,n))}const mT={base:-10,title:10},gT={critical:-80,high:-10,low:20};function Oh(t){let e=100;const n=t.tagPriority;return typeof n=="number"?n:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in mT&&(e=mT[t.tag]),typeof n=="string"&&n in gT?e+gT[n]:e)}const i9=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],yT=["onload","onerror","onabort","onprogress","onloadstart"],Is="%separator";function ah(t,e,n){if(typeof t!="string"||!t.includes("%"))return t;function r(a){let o;return["s","pageTitle"].includes(a)?o=e.pageTitle:a.includes(".")?o=a.split(".").reduce((l,u)=>l&&l[u]||void 0,e):o=e[a],typeof o<"u"?(o||"").replace(/"/g,'\\"'):!1}let i=t;try{i=decodeURI(t)}catch{}return(i.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const o=r(a.slice(1));typeof o=="string"&&(t=t.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(l,u)=>`${o}${u}`).trim())}),t.includes(Is)&&(t.endsWith(Is)&&(t=t.slice(0,-Is.length).trim()),t.startsWith(Is)&&(t=t.slice(Is.length).trim()),t=t.replace(new RegExp(`\\${Is}\\s*\\${Is}`,"g"),Is),t=ah(t,{separator:n},n)),t}async function YS(t,e={}){var c;const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!r.shouldRender)return;const i=(await t.resolveTags()).map(d=>({tag:d,id:sh.includes(d.tag)?pT(d):d.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const d of["body","head"]){const p=(c=n[d])==null?void 0:c.children,f=[];for(const y of[...p].filter(b=>sh.includes(b.tagName.toLowerCase()))){const b={tag:y.tagName.toLowerCase(),props:await GS(y.getAttributeNames().reduce((x,k)=>({...x,[k]:y.getAttribute(k)}),{})),innerHTML:y.innerHTML};let S=1,E=zS(b);for(;E&&f.find(x=>x._d===E);)E=`${E}:${S++}`;b._d=E||void 0,f.push(b),s.elMap[y.getAttribute("data-hid")||pT(b)]=y}}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function a(d,p,f){const y=`${d}:${p}`;s.sideEffects[y]=f,delete s.pendingSideEffects[y]}function o({id:d,$el:p,tag:f}){const y=f.tag.endsWith("Attrs");s.elMap[d]=p,y||(["textContent","innerHTML"].forEach(b=>{f[b]&&f[b]!==p[b]&&(p[b]=f[b])}),a(d,"el",()=>{var b;(b=s.elMap[d])==null||b.remove(),delete s.elMap[d]}));for(const[b,S]of Object.entries(f._eventHandlers||{}))p.getAttribute(`data-${b}`)!==""&&((f.tag==="bodyAttrs"?n.defaultView:p).addEventListener(b.replace("on",""),S.bind(p)),p.setAttribute(`data-${b}`,""));Object.entries(f.props).forEach(([b,S])=>{const E=`attr:${b}`;if(b==="class")for(const x of(S||"").split(" ").filter(Boolean))y&&a(d,`${E}:${x}`,()=>p.classList.remove(x)),!p.classList.contains(x)&&p.classList.add(x);else if(b==="style")for(const x of(S||"").split(";").filter(Boolean)){const[k,...L]=x.split(":").map(A=>A.trim());a(d,`${E}:${k}`,()=>{p.style.removeProperty(k)}),p.style.setProperty(k,L.join(":"))}else p.getAttribute(b)!==S&&p.setAttribute(b,S===!0?"":String(S)),y&&a(d,E,()=>p.removeAttribute(b))})}const l=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const d of i){const{tag:p,shouldRender:f,id:y}=d;if(f){if(p.tag==="title"){n.title=p.textContent;continue}d.$el=d.$el||s.elMap[y],d.$el?o(d):sh.includes(p.tag)&&l.push(d)}}for(const d of l){const p=d.tag.tagPosition||"head";d.$el=n.createElement(d.tag.tag),o(d),u[p]=u[p]||n.createDocumentFragment(),u[p].appendChild(d.$el)}for(const d of i)await t.hooks.callHook("dom:renderTag",d,n,a);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose),Object.values(s.pendingSideEffects).forEach(d=>d()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:i})}async function s9(t,e={}){const n=e.delayFn||(r=>setTimeout(r,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(r=>n(async()=>{await YS(t,e),delete t._domUpdatePromise,r()}))}function a9(t){return e=>{var r,i;const n=((i=(r=e.resolvedOptions.document)==null?void 0:r.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(s){s9(s,t)}}}}}const o9=["templateParams","htmlAttrs","bodyAttrs"],l9={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(r=>{t.props[r]&&(t.key=t.props[r],delete t.props[r])});const n=zS(t)||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":function(t){const e={};t.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,s=e[i];if(s){let o=r==null?void 0:r.tagDuplicateStrategy;if(!o&&o9.includes(r.tag)&&(o="merge"),o==="merge"){const l=s.props;["class","style"].forEach(u=>{l[u]&&(r.props[u]?(u==="style"&&!l[u].endsWith(";")&&(l[u]+=";"),r.props[u]=`${l[u]} ${r.props[u]}`):r.props[u]=l[u])}),e[i].props={...l,...r.props};return}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);return}else if(Oh(r)>Oh(s))return}const a=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(sh.includes(r.tag)&&a===0){delete e[i];return}e[i]=r});const n=[];Object.values(e).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),t.tags=n,t.tags=t.tags.filter(r=>!(r.tag==="meta"&&(r.props.name||r.props.property)&&!r.props.content))}}},u9={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{e[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},c9=["script","link","bodyAttrs"],d9=t=>({hooks:{"tags:resolve":function(e){for(const n of e.tags.filter(r=>c9.includes(r.tag)))Object.entries(n.props).forEach(([r,i])=>{r.startsWith("on")&&typeof i=="function"&&(t.ssr&&yT.includes(r)?n.props[r]=`this.dataset.${r}fired = true`:delete n.props[r],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[r]=i)}),t.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||mv(n.props.src||n.props.href))},"dom:renderTag":function({$el:e,tag:n}){var r,i;for(const s of Object.keys((e==null?void 0:e.dataset)||{}).filter(a=>yT.some(o=>`${o}fired`===a))){const a=s.replace("fired","");(i=(r=n._eventHandlers)==null?void 0:r[a])==null||i.call(e,new Event(a.replace("on","")))}}}}),h9=["link","style","script","noscript"],p9={hooks:{"tag:normalise":({tag:t})=>{t.key&&h9.includes(t.tag)&&(t.props["data-hid"]=t._h=mv(t.key))}}},f9={hooks:{"tags:resolve":t=>{const e=n=>{var r;return(r=t.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of i9)for(const i of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=e(i.tagPriority.replace(n,""));typeof s<"u"&&(i._p=s+r)}t.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>Oh(n)-Oh(r))}}},m9={meta:"content",link:"href",htmlAttrs:"lang"},g9=t=>({hooks:{"tags:resolve":e=>{var o;const{tags:n}=e,r=(o=n.find(l=>l.tag==="title"))==null?void 0:o.textContent,i=n.findIndex(l=>l.tag==="templateParams"),s=i!==-1?n[i].props:{},a=s.separator||"|";delete s.separator,s.pageTitle=ah(s.pageTitle||r||"",s,a);for(const l of n.filter(u=>u.processTemplateParams!==!1)){const u=m9[l.tag];u&&typeof l.props[u]=="string"?l.props[u]=ah(l.props[u],s,a):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(c=>{typeof l[c]=="string"&&(l[c]=ah(l[c],s,a))})}t._templateParams=s,t._separator=a,e.tags=n.filter(l=>l.tag!=="templateParams")}}}),y9={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n=e.findIndex(i=>i.tag==="titleTemplate");const r=e.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=fT(e[n].textContent,e[r].textContent);i!==null?e[r].textContent=i||e[r].textContent:delete e[r]}else if(n!==-1){const i=fT(e[n].textContent);i!==null&&(e[n].textContent=i,e[n].tag="title",n=-1)}n!==-1&&delete e[n],t.tags=e.filter(Boolean)}}},v9={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let KS;function _9(t={}){const e=b9(t);return e.use(a9()),KS=e}function vT(t,e){return!t||t==="server"&&e||t==="client"&&!e}function b9(t={}){const e=OS();e.addHooks(t.hooks||{}),t.document=t.document||(JP?document:void 0);const n=!t.document,r=()=>{o.dirty=!0,e.callHook("entries:updated",o)};let i=0,s=[];const a=[],o={plugins:a,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(l){const u=typeof l=="function"?l(o):l;(!u.key||!a.some(c=>c.key===u.key))&&(a.push(u),vT(u.mode,n)&&e.addHooks(u.hooks||{}))},push(l,u){u==null||delete u.head;const c={_i:i++,input:l,...u};return vT(c.mode,n)&&(s.push(c),r()),{dispose(){s=s.filter(d=>d._i!==c._i),e.callHook("entries:updated",o),r()},patch(d){s=s.map(p=>(p._i===c._i&&(p.input=c.input=d),p)),r()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const u of l.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const d of await r9(u)){const p={tag:d,entry:u,resolvedOptions:o.resolvedOptions};await e.callHook("tag:normalise",p),l.tags.push(p.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:n};return[l9,u9,d9,p9,f9,g9,y9,v9,...(t==null?void 0:t.plugins)||[]].forEach(l=>o.use(l)),o.hooks.callHook("init",o),o}function T9(){return KS}const w9=yS.startsWith("3");function k9(t){return typeof t=="function"?t():$(t)}function Ig(t,e=""){if(t instanceof Promise)return t;const n=k9(t);return!t||!n?n:Array.isArray(n)?n.map(r=>Ig(r,e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,$(i)]:[r,Ig(i,r)])):n}const S9={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=Ig(e.input)}}},XS="usehead";function x9(t){return{install(n){w9&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(XS,t))}}.install}function E9(t={}){t.domDelayFn=t.domDelayFn||(n=>on(()=>setTimeout(()=>n(),0)));const e=_9(t);return e.use(S9),e.install=x9(e),e}const Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dg="__unhead_injection_handler__";function C9(t){Mg[Dg]=t}function xxe(){if(Dg in Mg)return Mg[Dg]();const t=Et(XS);return t||T9()}let oh,lh;function A9(){return oh=$fetch(fv(`builds/meta/${ni().app.buildId}.json`),{responseType:"json"}),oh.then(t=>{lh=IP(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),oh}function Ip(){return oh||A9()}async function gv(t){if(await Ip(),!lh)return console.error("[nuxt] Error creating app manifest matcher.",lh),{};try{return $S({},...lh.matchAll(t).reverse())}catch(e){return console.error("[nuxt] Error matching route rules.",e),{}}}async function _T(t,e={}){const n=await I9(t,e),r=Pt(),i=r._payloadCache=r._payloadCache||{};return n in i||(i[n]=ZS(t).then(s=>s?QS(n).then(a=>a||(delete i[n],null)):(i[n]=null,null))),i[n]}const L9="_payload.json";async function I9(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||_s(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=ni(),i=e.hash||(e.fresh?Date.now():r.app.buildId),s=r.app.cdnURL,a=s&&await ZS(t)?s:r.app.baseURL;return Ap(a,n.pathname,L9+(i?`?${i}`:""))}async function QS(t){const e=fetch(t).then(n=>n.text().then(JS));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function ZS(t=Dl().path){if(t=Cp(t),(await Ip()).prerendered.includes(t))return!0;const n=await gv(t);return!!n.prerender&&!n.redirect}let $d=null;async function M9(){if($d)return $d;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await JS(t.textContent||""),n=t.dataset.src?await QS(t.dataset.src):void 0;return $d={...e,...n,...window.__NUXT__},$d}async function JS(t){return await GP(t,Pt()._payloadRevivers)}function D9(t,e){Pt()._payloadRevivers[t]=e}const bT={NuxtError:t=>Rc(t),EmptyShallowRef:t=>tl(t==="_"?void 0:t==="0n"?BigInt(0):Lh(t)),EmptyRef:t=>de(t==="_"?void 0:t==="0n"?BigInt(0):Lh(t)),ShallowRef:t=>tl(t),ShallowReactive:t=>os(t),Ref:t=>de(t),Reactive:t=>xn(t)},P9=En({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const r in bT)D9(r,bT[r]);Object.assign(t.payload,([e,n]=al(()=>t.runWithContext(M9)),e=await e,n(),e)),window.__NUXT__=t.payload}}),O9=[],R9=En({name:"nuxt:head",enforce:"pre",setup(t){const e=E9({plugins:O9});C9(()=>Pt().vueApp._context.provides.usehead),t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await YS(e)};e.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Co=typeof document<"u";function N9(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ut=Object.assign;function om(t,e){const n={};for(const r in e){const i=e[r];n[r]=vi(i)?i.map(t):t(i)}return n}const Wu=()=>{},vi=Array.isArray,e5=/#/g,B9=/&/g,F9=/\//g,U9=/=/g,j9=/\?/g,t5=/\+/g,$9=/%5B/g,H9=/%5D/g,n5=/%5E/g,V9=/%60/g,r5=/%7B/g,q9=/%7C/g,i5=/%7D/g,W9=/%20/g;function yv(t){return encodeURI(""+t).replace(q9,"|").replace($9,"[").replace(H9,"]")}function z9(t){return yv(t).replace(r5,"{").replace(i5,"}").replace(n5,"^")}function Pg(t){return yv(t).replace(t5,"%2B").replace(W9,"+").replace(e5,"%23").replace(B9,"%26").replace(V9,"`").replace(r5,"{").replace(i5,"}").replace(n5,"^")}function G9(t){return Pg(t).replace(U9,"%3D")}function Y9(t){return yv(t).replace(e5,"%23").replace(j9,"%3F")}function K9(t){return t==null?"":Y9(t).replace(F9,"%2F")}function fc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const X9=/\/$/,Q9=t=>t.replace(X9,"");function lm(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=tO(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:fc(a)}}function Z9(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function TT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function J9(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ol(e.matched[r],n.matched[i])&&s5(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ol(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function s5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!eO(t[n],e[n]))return!1;return!0}function eO(t,e){return vi(t)?wT(t,e):vi(e)?wT(e,t):t===e}function wT(t,e){return vi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function tO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var mc;(function(t){t.pop="pop",t.push="push"})(mc||(mc={}));var zu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(zu||(zu={}));function nO(t){if(!t)if(Co){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Q9(t)}const rO=/^[^#]+#/;function iO(t,e){return t.replace(rO,"#")+e}function sO(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Mp=()=>({left:window.scrollX,top:window.scrollY});function aO(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=sO(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function kT(t,e){return(history.state?history.state.position-e:-1)+t}const Og=new Map;function oO(t,e){Og.set(t,e)}function lO(t){const e=Og.get(t);return Og.delete(t),e}let uO=()=>location.protocol+"//"+location.host;function a5(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),TT(l,"")}return TT(n,t)+r+i}function cO(t,e,n,r){let i=[],s=[],a=null;const o=({state:p})=>{const f=a5(t,location),y=n.value,b=e.value;let S=0;if(p){if(n.value=f,e.value=p,a&&a===y){a=null;return}S=b?p.position-b.position:0}else r(f);i.forEach(E=>{E(n.value,y,{delta:S,type:mc.pop,direction:S?S>0?zu.forward:zu.back:zu.unknown})})};function l(){a=n.value}function u(p){i.push(p);const f=()=>{const y=i.indexOf(p);y>-1&&i.splice(y,1)};return s.push(f),f}function c(){const{history:p}=window;p.state&&p.replaceState(Ut({},p.state,{scroll:Mp()}),"")}function d(){for(const p of s)p();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ST(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Mp():null}}function dO(t){const{history:e,location:n}=window,r={value:a5(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:uO()+t+l;try{e[c?"replaceState":"pushState"](u,"",p),i.value=u}catch(f){console.error(f),n[c?"replace":"assign"](p)}}function a(l,u){const c=Ut({},e.state,ST(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function o(l,u){const c=Ut({},i.value,e.state,{forward:l,scroll:Mp()});s(c.current,c,!0);const d=Ut({},ST(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function o5(t){t=nO(t);const e=dO(t),n=cO(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Ut({location:"",base:t,go:r,createHref:iO.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function hO(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),o5(t)}function pO(t){return typeof t=="string"||t&&typeof t=="object"}function l5(t){return typeof t=="string"||typeof t=="symbol"}const u5=Symbol("");var xT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xT||(xT={}));function ll(t,e){return Ut(new Error,{type:t,[u5]:!0},e)}function es(t,e){return t instanceof Error&&u5 in t&&(e==null||!!(t.type&e))}const ET="[^/]+?",fO={sensitive:!1,strict:!1,start:!0,end:!0},mO=/[.+*?^${}()[\]/\\]/g;function gO(t,e){const n=Ut({},fO,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const p=u[d];let f=40+(n.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(mO,"\\$&"),f+=40;else if(p.type===1){const{value:y,repeatable:b,optional:S,regexp:E}=p;s.push({name:y,repeatable:b,optional:S});const x=E||ET;if(x!==ET){f+=10;try{new RegExp(`(${x})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${y}" (${x}): `+L.message)}}let k=b?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||(k=S&&u.length<2?`(?:/${k})`:"/"+k),S&&(k+="?"),i+=k,f+=20,S&&(f+=-8),b&&(f+=-20),x===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let p=1;p<c.length;p++){const f=c[p]||"",y=s[p-1];d[y.name]=f&&y.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const p of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of p)if(f.type===0)c+=f.value;else if(f.type===1){const{value:y,repeatable:b,optional:S}=f,E=y in u?u[y]:"";if(vi(E)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const x=vi(E)?E.join("/"):E;if(!x)if(S)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${y}"`);c+=x}}return c||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function yO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function c5(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=yO(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(CT(r))return 1;if(CT(i))return-1}return i.length-r.length}function CT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vO={type:0,value:""},_O=/[a-zA-Z0-9_]/;function bO(t){if(!t)return[[]];if(t==="/")return[[vO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:l==="("?n=2:_O.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function TO(t,e,n){const r=gO(bO(t.path),n),i=Ut(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function wO(t,e){const n=[],r=new Map;e=IT({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,p,f){const y=!f,b=kO(d);b.aliasOf=f&&f.record;const S=IT(e,d),E=[b];if("alias"in d){const L=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of L)E.push(Ut({},b,{components:f?f.record.components:b.components,path:A,aliasOf:f?f.record:b}))}let x,k;for(const L of E){const{path:A}=L;if(p&&A[0]!=="/"){const D=p.record.path,M=D[D.length-1]==="/"?"":"/";L.path=p.record.path+(A&&M+A)}if(x=TO(L,p,S),f?f.alias.push(x):(k=k||x,k!==x&&k.alias.push(x),y&&d.name&&!LT(x)&&a(d.name)),d5(x)&&l(x),b.children){const D=b.children;for(let M=0;M<D.length;M++)s(D[M],x,f&&f.children[M])}f=f||x}return k?()=>{a(k)}:Wu}function a(d){if(l5(d)){const p=r.get(d);p&&(r.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return n}function l(d){const p=EO(d,n);n.splice(p,0,d),d.record.name&&!LT(d)&&r.set(d.record.name,d)}function u(d,p){let f,y={},b,S;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw ll(1,{location:d});S=f.record.name,y=Ut(AT(p.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),d.params&&AT(d.params,f.keys.map(k=>k.name))),b=f.stringify(y)}else if(d.path!=null)b=d.path,f=n.find(k=>k.re.test(b)),f&&(y=f.parse(b),S=f.record.name);else{if(f=p.name?r.get(p.name):n.find(k=>k.re.test(p.path)),!f)throw ll(1,{location:d,currentLocation:p});S=f.record.name,y=Ut({},p.params,d.params),b=f.stringify(y)}const E=[];let x=f;for(;x;)E.unshift(x.record),x=x.parent;return{name:S,path:b,params:y,matched:E,meta:xO(E)}}t.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:i}}function AT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function kO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:SO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function SO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function LT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xO(t){return t.reduce((e,n)=>Ut(e,n.meta),{})}function IT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function EO(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;c5(t,e[s])<0?r=s:n=s+1}const i=CO(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function CO(t){let e=t;for(;e=e.parent;)if(d5(e)&&c5(t,e)===0)return e}function d5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function AO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(t5," "),a=s.indexOf("="),o=fc(a<0?s:s.slice(0,a)),l=a<0?null:fc(s.slice(a+1));if(o in e){let u=e[o];vi(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function MT(t){let e="";for(let n in t){const r=t[n];if(n=G9(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vi(r)?r.map(s=>s&&Pg(s)):[r&&Pg(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function LO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const IO=Symbol(""),DT=Symbol(""),Dp=Symbol(""),vv=Symbol(""),Rg=Symbol("");function hu(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Hs(t,e,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=p=>{p===!1?l(ll(4,{from:n,to:e})):p instanceof Error?l(p):pO(p)?l(ll(2,{from:e,to:p})):(a&&r.enterCallbacks[i]===a&&typeof p=="function"&&a.push(p),o())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(p=>l(p))})}function um(t,e,n,r,i=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(MO(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Hs(c,n,r,a,o,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const d=N9(c)?c.default:c;a.components[o]=d;const f=(d.__vccOpts||d)[e];return f&&Hs(f,n,r,a,o,i)()}))}}return s}function MO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function PT(t){const e=Et(Dp),n=Et(vv),r=U(()=>{const l=$(t.to);return e.resolve(l)}),i=U(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const p=d.findIndex(ol.bind(null,c));if(p>-1)return p;const f=OT(l[u-2]);return u>1&&OT(c)===f&&d[d.length-1].path!==f?d.findIndex(ol.bind(null,l[u-2])):p}),s=U(()=>i.value>-1&&RO(n.params,r.value.params)),a=U(()=>i.value>-1&&i.value===n.matched.length-1&&s5(n.params,r.value.params));function o(l={}){return OO(l)?e[$(t.replace)?"replace":"push"]($(t.to)).catch(Wu):Promise.resolve()}return{route:r,href:U(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}const DO=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:PT,setup(t,{slots:e}){const n=xn(PT(t)),{options:r}=Et(Dp),i=U(()=>({[RT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[RT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:sn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),PO=DO;function OO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function RO(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function OT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const RT=(t,e,n)=>t??e??n,NO=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Et(Rg),i=U(()=>t.route||r.value),s=Et(DT,0),a=U(()=>{let u=$(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=U(()=>i.value.matched[a.value]);Dn(DT,U(()=>a.value+1)),Dn(IO,o),Dn(Rg,i);const l=de();return St(()=>[l.value,o.value,t.name],([u,c,d],[p,f,y])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===p&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!ol(c,f)||!p)&&(c.enterCallbacks[d]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=o.value,p=d&&d.components[c];if(!p)return NT(n.default,{Component:p,route:u});const f=d.props[c],y=f?f===!0?u.params:typeof f=="function"?f(u):f:null,S=sn(p,Ut({},y,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return NT(n.default,{Component:S,route:u})||S}}});function NT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const h5=NO;function BO(t){const e=wO(t.routes,t),n=t.parseQuery||AO,r=t.stringifyQuery||MT,i=t.history,s=hu(),a=hu(),o=hu(),l=tl(li);let u=li;Co&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=om.bind(null,V=>""+V),d=om.bind(null,K9),p=om.bind(null,fc);function f(V,ve){let Ee,ue;return l5(V)?(Ee=e.getRecordMatcher(V),ue=ve):ue=V,e.addRoute(ue,Ee)}function y(V){const ve=e.getRecordMatcher(V);ve&&e.removeRoute(ve)}function b(){return e.getRoutes().map(V=>V.record)}function S(V){return!!e.getRecordMatcher(V)}function E(V,ve){if(ve=Ut({},ve||l.value),typeof V=="string"){const N=lm(n,V,ve.path),Q=e.resolve({path:N.path},ve),ee=i.createHref(N.fullPath);return Ut(N,Q,{params:p(Q.params),hash:fc(N.hash),redirectedFrom:void 0,href:ee})}let Ee;if(V.path!=null)Ee=Ut({},V,{path:lm(n,V.path,ve.path).path});else{const N=Ut({},V.params);for(const Q in N)N[Q]==null&&delete N[Q];Ee=Ut({},V,{params:d(N)}),ve.params=d(ve.params)}const ue=e.resolve(Ee,ve),Ge=V.hash||"";ue.params=c(p(ue.params));const K=Z9(r,Ut({},V,{hash:z9(Ge),path:ue.path})),O=i.createHref(K);return Ut({fullPath:K,hash:Ge,query:r===MT?LO(V.query):V.query||{}},ue,{redirectedFrom:void 0,href:O})}function x(V){return typeof V=="string"?lm(n,V,l.value.path):Ut({},V)}function k(V,ve){if(u!==V)return ll(8,{from:ve,to:V})}function L(V){return M(V)}function A(V){return L(Ut(x(V),{replace:!0}))}function D(V){const ve=V.matched[V.matched.length-1];if(ve&&ve.redirect){const{redirect:Ee}=ve;let ue=typeof Ee=="function"?Ee(V):Ee;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=x(ue):{path:ue},ue.params={}),Ut({query:V.query,hash:V.hash,params:ue.path!=null?{}:V.params},ue)}}function M(V,ve){const Ee=u=E(V),ue=l.value,Ge=V.state,K=V.force,O=V.replace===!0,N=D(Ee);if(N)return M(Ut(x(N),{state:typeof N=="object"?Ut({},Ge,N.state):Ge,force:K,replace:O}),ve||Ee);const Q=Ee;Q.redirectedFrom=ve;let ee;return!K&&J9(r,ue,Ee)&&(ee=ll(16,{to:Q,from:ue}),ze(ue,ue,!0,!1)),(ee?Promise.resolve(ee):W(Q,ue)).catch(me=>es(me)?es(me,2)?me:$e(me):se(me,Q,ue)).then(me=>{if(me){if(es(me,2))return M(Ut({replace:O},x(me.to),{state:typeof me.to=="object"?Ut({},Ge,me.to.state):Ge,force:K}),ve||Q)}else me=re(Q,ue,!0,O,Ge);return Y(Q,ue,me),me})}function q(V,ve){const Ee=k(V,ve);return Ee?Promise.reject(Ee):Promise.resolve()}function j(V){const ve=X.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(V):V()}function W(V,ve){let Ee;const[ue,Ge,K]=FO(V,ve);Ee=um(ue.reverse(),"beforeRouteLeave",V,ve);for(const N of ue)N.leaveGuards.forEach(Q=>{Ee.push(Hs(Q,V,ve))});const O=q.bind(null,V,ve);return Ee.push(O),je(Ee).then(()=>{Ee=[];for(const N of s.list())Ee.push(Hs(N,V,ve));return Ee.push(O),je(Ee)}).then(()=>{Ee=um(Ge,"beforeRouteUpdate",V,ve);for(const N of Ge)N.updateGuards.forEach(Q=>{Ee.push(Hs(Q,V,ve))});return Ee.push(O),je(Ee)}).then(()=>{Ee=[];for(const N of K)if(N.beforeEnter)if(vi(N.beforeEnter))for(const Q of N.beforeEnter)Ee.push(Hs(Q,V,ve));else Ee.push(Hs(N.beforeEnter,V,ve));return Ee.push(O),je(Ee)}).then(()=>(V.matched.forEach(N=>N.enterCallbacks={}),Ee=um(K,"beforeRouteEnter",V,ve,j),Ee.push(O),je(Ee))).then(()=>{Ee=[];for(const N of a.list())Ee.push(Hs(N,V,ve));return Ee.push(O),je(Ee)}).catch(N=>es(N,8)?N:Promise.reject(N))}function Y(V,ve,Ee){o.list().forEach(ue=>j(()=>ue(V,ve,Ee)))}function re(V,ve,Ee,ue,Ge){const K=k(V,ve);if(K)return K;const O=ve===li,N=Co?history.state:{};Ee&&(ue||O?i.replace(V.fullPath,Ut({scroll:O&&N&&N.scroll},Ge)):i.push(V.fullPath,Ge)),l.value=V,ze(V,ve,Ee,O),$e()}let le;function F(){le||(le=i.listen((V,ve,Ee)=>{if(!be.listening)return;const ue=E(V),Ge=D(ue);if(Ge){M(Ut(Ge,{replace:!0}),ue).catch(Wu);return}u=ue;const K=l.value;Co&&oO(kT(K.fullPath,Ee.delta),Mp()),W(ue,K).catch(O=>es(O,12)?O:es(O,2)?(M(O.to,ue).then(N=>{es(N,20)&&!Ee.delta&&Ee.type===mc.pop&&i.go(-1,!1)}).catch(Wu),Promise.reject()):(Ee.delta&&i.go(-Ee.delta,!1),se(O,ue,K))).then(O=>{O=O||re(ue,K,!1),O&&(Ee.delta&&!es(O,8)?i.go(-Ee.delta,!1):Ee.type===mc.pop&&es(O,20)&&i.go(-1,!1)),Y(ue,K,O)}).catch(Wu)}))}let R=hu(),H=hu(),B;function se(V,ve,Ee){$e(V);const ue=H.list();return ue.length?ue.forEach(Ge=>Ge(V,ve,Ee)):console.error(V),Promise.reject(V)}function Te(){return B&&l.value!==li?Promise.resolve():new Promise((V,ve)=>{R.add([V,ve])})}function $e(V){return B||(B=!V,F(),R.list().forEach(([ve,Ee])=>V?Ee(V):ve()),R.reset()),V}function ze(V,ve,Ee,ue){const{scrollBehavior:Ge}=t;if(!Co||!Ge)return Promise.resolve();const K=!Ee&&lO(kT(V.fullPath,0))||(ue||!Ee)&&history.state&&history.state.scroll||null;return on().then(()=>Ge(V,ve,K)).then(O=>O&&aO(O)).catch(O=>se(O,V,ve))}const ie=V=>i.go(V);let Se;const X=new Set,be={currentRoute:l,listening:!0,addRoute:f,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:b,resolve:E,options:t,push:L,replace:A,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:H.add,isReady:Te,install(V){const ve=this;V.component("RouterLink",PO),V.component("RouterView",h5),V.config.globalProperties.$router=ve,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>$(l)}),Co&&!Se&&l.value===li&&(Se=!0,L(i.location).catch(Ge=>{}));const Ee={};for(const Ge in li)Object.defineProperty(Ee,Ge,{get:()=>l.value[Ge],enumerable:!0});V.provide(Dp,ve),V.provide(vv,os(Ee)),V.provide(Rg,l);const ue=V.unmount;X.add(V),V.unmount=function(){X.delete(V),X.size<1&&(u=li,le&&le(),le=null,l.value=li,Se=!1,B=!1),ue()}}};function je(V){return V.reduce((ve,Ee)=>ve.then(()=>j(Ee)),Promise.resolve())}return be}function FO(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>ol(u,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>ol(u,l))||i.push(l))}return[n,r,i]}function UO(){return Et(Dp)}function ca(t){return Et(vv)}const jO=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Ng=(t,e)=>{const n=t.route.matched.find(i=>{var s;return((s=i.components)==null?void 0:s.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&jO(t.route,n));return typeof r=="function"?r(t.route):r},$O=(t,e)=>({default:()=>t?sn(iD,t===!0?{}:t,e):e});function _v(t){return Array.isArray(t)?t:[t]}const HO="modulepreload",VO=function(t,e){return t[0]==="."?new URL(t,e).href:t},BT={},qO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=VO(l,r),l in BT)return;BT[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const y=s[f];if(y.href===l&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":HO,u||(p.as="script",p.crossOrigin=""),p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((f,y)=>{p.addEventListener("load",f),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Ne=(...t)=>qO(...t).catch(e=>{const n=new Event("nuxt.preloadError");throw n.payload=e,window.dispatchEvent(n),e}),WO={layout:"default",path:"/collections/access",alias:["/listing-collections/access"]},zO={layout:"default",path:"/collections/explore",alias:["/listing-collections/explore"]},GO={layout:"impact"},YO={layout:"impact",path:"/impact/:year?",alias:["/impact"]},cm={redirect:t=>"/about/reports"},FT=[{name:"slug",path:"/:slug(.*)*",component:()=>Ne(()=>import("./D3H7ZqZV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url).then(t=>t.default||t)},{name:"about-jobs-staff-academic-jobs",path:"/about/jobs/staff-academic-jobs",component:()=>Ne(()=>import("./hfKR7hTA.js"),__vite__mapDeps([14,1,2,15,16,17]),import.meta.url).then(t=>t.default||t)},{name:"about-news-slug",path:"/about/news/:slug()",component:()=>Ne(()=>import("./BpOPtOnY.js"),__vite__mapDeps([18,1,2,16,3,4,5,6,7,8,9,10,11,12,19,20]),import.meta.url).then(t=>t.default||t)},{name:"about-news",path:"/about/news",component:()=>Ne(()=>import("./DvmO7GkD.js"),__vite__mapDeps([21,1,2,16,22,3,23,24,25,19,26]),import.meta.url).then(t=>t.default||t)},{name:"about-policies-slug",path:"/about/policies/:slug()",component:()=>Ne(()=>import("./DvU_aoMn.js"),__vite__mapDeps([27,1,2,16,3,4,5,6,7,8,9,10,11,12,26]),import.meta.url).then(t=>t.default||t)},{name:"about-policies",path:"/about/policies",component:()=>Ne(()=>import("./C3fgmlR7.js"),__vite__mapDeps([28,1,2,16,29,3,7,8,9,10,11,12,30]),import.meta.url).then(t=>t.default||t)},{name:"about-programs-slug",path:"/about/programs/:slug()",component:()=>Ne(()=>import("./DKPcedG8.js"),__vite__mapDeps([31,1,2,16,3,4,5,6,7,8,9,10,11,12,32]),import.meta.url).then(t=>t.default||t)},{name:"about-programs",path:"/about/programs",component:()=>Ne(()=>import("./-6lFxapQ.js"),__vite__mapDeps([33,1,2,23,24,25,22,16,3]),import.meta.url).then(t=>t.default||t)},{name:"about-reports",path:"/about/reports",component:()=>Ne(()=>import("./C_-eJYGo.js"),__vite__mapDeps([34,1,2,15,16,3,35]),import.meta.url).then(t=>t.default||t)},{name:"about-staff-slug",path:"/about/staff/:slug()",component:()=>Ne(()=>import("./CThbXHPJ.js"),__vite__mapDeps([36,1,2,16,3,37]),import.meta.url).then(t=>t.default||t)},{name:"about-staff",path:"/about/staff",component:()=>Ne(()=>import("./DyeZfsey.js"),__vite__mapDeps([38,1,2,39,3,15,23,24,16,25,40]),import.meta.url).then(t=>t.default||t)},{name:"about-student-opportunities",path:"/about/student-opportunities",component:()=>Ne(()=>import("./Cca6flSo.js"),__vite__mapDeps([41,1,2,15,16,42]),import.meta.url).then(t=>t.default||t)},{name:"collections-access",path:"/collections/access",meta:WO||{},alias:["/listing-collections/access"],component:()=>Ne(()=>import("./B4Howt1r.js"),__vite__mapDeps([43,1,2,16,24]),import.meta.url).then(t=>t.default||t)},{name:"collections-explore-slug",path:"/collections/explore/:slug()",component:()=>Ne(()=>import("./C3QUekPK.js"),__vite__mapDeps([44,1,2,15,16,3,45,5,6,12,7,11,8,10,46,47]),import.meta.url).then(t=>t.default||t)},{name:"collections-explore",path:"/collections/explore",meta:zO||{},alias:["/listing-collections/explore"],component:()=>Ne(()=>import("./Bha5nSUR.js"),__vite__mapDeps([48,1,2,16,3,23,24,25,22,26]),import.meta.url).then(t=>t.default||t)},{name:"collections",path:"/collections",component:()=>Ne(()=>import("./BYbI6CZy.js"),__vite__mapDeps([49,1,2,19,16,4,3,5,6,7,8,9,10,11,12,50]),import.meta.url).then(t=>t.default||t)},{name:"give-endowments-slug",path:"/give/endowments/:slug()",component:()=>Ne(()=>import("./DlOEbAf5.js"),__vite__mapDeps([51,1,2,16,3,29,7,8,9,10,11,12,52]),import.meta.url).then(t=>t.default||t)},{name:"give-endowments",path:"/give/endowments",component:()=>Ne(()=>import("./WdPfdZGY.js"),__vite__mapDeps([53,1,2,24,15,16,3,54]),import.meta.url).then(t=>t.default||t)},{name:"help-slug",path:"/help/:slug()",component:()=>Ne(()=>import("./BiaTtZg-.js"),__vite__mapDeps([55,1,2,16,9,10,11,12,26]),import.meta.url).then(t=>t.default||t)},{name:"help-services-resources-slug",path:"/help/services-resources/:slug()",component:()=>Ne(()=>import("./3p5JDHgz.js"),__vite__mapDeps([56,1,2,16,3,10,11,9,57,7,58]),import.meta.url).then(t=>t.default||t)},{name:"help-services-resources-ask-us",path:"/help/services-resources/ask-us",alias:["/help"],component:()=>Ne(()=>import("./B23s8gj9.js"),__vite__mapDeps([59,1,2,16,3,4,5,6,7,8,9,10,11,12,60]),import.meta.url).then(t=>t.default||t)},{name:"help-services-resources",path:"/help/services-resources",component:()=>Ne(()=>import("./Cz9qCqUo.js"),__vite__mapDeps([61,1,2,23,24,25,22,16,62,63]),import.meta.url).then(t=>t.default||t)},{name:"impact-year-slug",path:"/impact/:year()/:slug()",meta:GO||{},component:()=>Ne(()=>import("./04c49Syn.js"),__vite__mapDeps([64,1,2,16,4,3,5,6,7,8,9,10,11,12,65]),import.meta.url).then(t=>t.default||t)},{name:"impact-year",path:"/impact/:year?",meta:YO||{},alias:["/impact"],component:()=>Ne(()=>import("./C3OAVezL.js"),__vite__mapDeps([66,1,2,39,16,3,6,12,10,9,8,7,46,67]),import.meta.url).then(t=>t.default||t)},{name:"impact-all",path:"/impact/all",redirect:cm==null?void 0:cm.redirect,component:()=>Ne(()=>import("./BXnqpyPz.js"),[],import.meta.url).then(t=>t.default||t)},{name:"index",path:"/",component:()=>Ne(()=>import("./DjKHDSn5.js"),__vite__mapDeps([68,1,2,3,69]),import.meta.url).then(t=>t.default||t)},{name:"search-site",path:"/search-site",component:()=>Ne(()=>import("./ChrJydc_.js"),__vite__mapDeps([70,24,25,22,71]),import.meta.url).then(t=>t.default||t)},{name:"visit-events-exhibitions-slug",path:"/visit/events-exhibitions/:slug()",component:()=>Ne(()=>import("./CRimpjXS.js"),__vite__mapDeps([72,1,2,16,3,57,7,9,10,11,45,5,6,12,8,46]),import.meta.url).then(t=>t.default||t)},{name:"visit-events-exhibitions",path:"/visit/events-exhibitions",component:()=>Ne(()=>import("./CbQXvIGd.js"),__vite__mapDeps([73,1,2,3,24,23,25,16,62]),import.meta.url).then(t=>t.default||t)},{name:"visit-locations-slug",path:"/visit/locations/:slug()",component:()=>Ne(()=>import("./CGdTKFsa.js"),__vite__mapDeps([74,1,2,16,4,3,5,6,7,8,9,10,11,12,75]),import.meta.url).then(t=>t.default||t)},{name:"visit-locations",path:"/visit/locations",component:()=>Ne(()=>import("./kRRj83y4.js"),__vite__mapDeps([76,1,2,23,24,25,22,16,3,77]),import.meta.url).then(t=>t.default||t)}],p5=(t,e,n)=>(e=e===!0?{}:e,{default:()=>{var r;return e?sn(t,e,n):(r=n.default)==null?void 0:r.call(n)}});function UT(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function KO(t,e){return t===e||e===li?!1:UT(t)!==UT(e)?!0:!t.matched.every((r,i)=>{var s,a;return r.components&&r.components.default===((a=(s=e.matched[i])==null?void 0:s.components)==null?void 0:a.default)})}const XO={scrollBehavior(t,e,n){var u;const r=Pt(),i=((u=Qn().options)==null?void 0:u.scrollBehaviorType)??"auto";let s=n||void 0;const a=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!s&&e&&t&&a!==!1&&KO(t,e)&&(s={left:0,top:0}),t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:jT(t.hash),behavior:i}:!1;const o=c=>!!(c.meta.pageTransition??Sg),l=o(e)&&o(t)?"page:transition:finish":"page:finish";return new Promise(c=>{r.hooks.hookOnce(l,async()=>{await new Promise(d=>setTimeout(d,0)),t.hash&&(s={el:t.hash,top:jT(t.hash),behavior:i}),c(s)})})}};function jT(t){try{const e=document.querySelector(t);if(e)return Number.parseFloat(getComputedStyle(e).scrollMarginTop)}catch{}return 0}const QO={hashMode:!1,scrollBehaviorType:"auto"},Rr={...QO,...XO},ZO=async t=>{var l;let e,n;if(!((l=t.meta)!=null&&l.validate))return;const r=Pt(),i=Qn();if(([e,n]=al(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e)===!0)return;const a=Rc({statusCode:404,statusMessage:`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}}),o=i.beforeResolve(u=>{if(o(),u===t){const c=i.afterEach(async()=>{c(),await r.runWithContext(()=>Mo(a)),window.history.pushState({},"",t.fullPath)});return!1}})},JO=async t=>{let e,n;const r=([e,n]=al(()=>gv(t.path)),e=await e,n(),e);if(r.redirect)return _s(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},eR=[ZO,JO],Gu={};function tR(t,e,n){const{pathname:r,search:i,hash:s}=e,a=t.indexOf("#");if(a>-1){const u=s.includes(t.slice(a))?t.slice(a).length:1;let c=s.slice(u);return c[0]!=="/"&&(c="/"+c),nT(c,"")}const o=nT(r,t),l=!n||A7(o,n,{trailingSlash:!0})?o:n;return l+(l.includes("?")?"":i)+s}const nR=En({name:"nuxt:router",enforce:"pre",async setup(t){var S,E;let e,n,r=ni().app.baseURL;Rr.hashMode&&!r.includes("#")&&(r+="#");const i=((S=Rr.history)==null?void 0:S.call(Rr,r))??(Rr.hashMode?hO(r):o5(r)),s=((E=Rr.routes)==null?void 0:E.call(Rr,FT))??FT;let a;const o=BO({...Rr,scrollBehavior:(x,k,L)=>{if(k===li){a=L;return}if(Rr.scrollBehavior){if(o.options.scrollBehavior=Rr.scrollBehavior,"scrollRestoration"in window.history){const A=o.beforeEach(()=>{A(),window.history.scrollRestoration="manual"})}return Rr.scrollBehavior(x,li,a||L)}},history:i,routes:s});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(o);const l=tl(o.currentRoute.value);o.afterEach((x,k)=>{l.value=k}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const u=tR(r,window.location,t.payload.path),c=tl(o.currentRoute.value),d=()=>{c.value=o.currentRoute.value};t.hook("page:finish",d),o.afterEach((x,k)=>{var L,A,D,M;((A=(L=x.matched[0])==null?void 0:L.components)==null?void 0:A.default)===((M=(D=k.matched[0])==null?void 0:D.components)==null?void 0:M.default)&&d()});const p={};for(const x in c.value)Object.defineProperty(p,x,{get:()=>c.value[x]});t._route=os(p),t._middleware=t._middleware||{global:[],named:{}};const f=Lp();o.afterEach(async(x,k,L)=>{delete t._processingMiddleware,!t.isHydrating&&f.value&&await t.runWithContext(UP),L&&await t.callHook("page:loading:end"),x.matched.length===0&&await t.runWithContext(()=>Mo(Cg({statusCode:404,fatal:!1,statusMessage:`Page not found: ${x.fullPath}`,data:{path:x.fullPath}})))});try{[e,n]=al(()=>o.isReady()),await e,n()}catch(x){[e,n]=al(()=>t.runWithContext(()=>Mo(x))),await e,n()}const y=u!==o.currentRoute.value.fullPath?o.resolve(u):o.currentRoute.value;d();const b=t.payload.state._layout;return o.beforeEach(async(x,k)=>{var L;await t.callHook("page:loading:start"),x.meta=xn(x.meta),t.isHydrating&&b&&!el(x.meta.layout)&&(x.meta.layout=b),t._processingMiddleware=!0;{const A=new Set([...eR,...t._middleware.global]);for(const D of x.matched){const M=D.meta.middleware;if(M)for(const q of _v(M))A.add(q)}{const D=await t.runWithContext(()=>gv(x.path));if(D.appMiddleware)for(const M in D.appMiddleware)D.appMiddleware[M]?A.add(M):A.delete(M)}for(const D of A){const M=typeof D=="string"?t._middleware.named[D]||await((L=Gu[D])==null?void 0:L.call(Gu).then(j=>j.default||j)):D;if(!M)throw new Error(`Unknown route middleware: '${D}'.`);const q=await t.runWithContext(()=>M(x,k));if(!t.payload.serverRendered&&t.isHydrating&&(q===!1||q instanceof Error)){const j=q||Cg({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>Mo(j)),!1}if(q!==!0&&(q||q===!1))return q}}}),o.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),t.hooks.hookOnce("app:created",async()=>{try{"name"in y&&(y.name=void 0),await o.replace({...y,force:!0}),o.options.scrollBehavior=Rr.scrollBehavior}catch(x){await t.runWithContext(()=>Mo(x))}}),{provide:{router:o}}}}),rR="$s";function f5(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const i=rR+n,s=Pt(),a=Vi(s.payload.state,i);if(a.value===void 0&&r){const o=r();if(Wt(o))return s.payload.state[i]=o,o;a.value=o}return a}const iR=En({name:"nuxt-site-config:init",enforce:"pre",async setup(t){const e=f5("site-config");let n={};return n=e.value||window.__NUXT_SITE_CONFIG__,{provide:{nuxtSiteConfig:n}}}}),Bg=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),sR=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Nc=t=>{const e=Pt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Bg(()=>t())}):Bg(()=>t())},aR=En({name:"nuxt:payload",setup(t){Qn().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const r=await _T(e.path);r&&Object.assign(t.static.data,r.data)}),Nc(()=>{var e;t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await _T(n)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(Ip,1e3)})}}),oR=En(()=>{const t=Qn();Nc(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),lR=En(t=>{let e;async function n(){const r=await Ip();e&&clearTimeout(e),e=setTimeout(n,oT);try{const i=await $fetch(fv("builds/latest.json")+`?${Date.now()}`);i.id!==r.id&&t.hooks.callHook("app:manifest:update",i)}catch{}}Nc(()=>{e=setTimeout(n,oT)})});function uR(t={}){const e=t.path||window.location.pathname;let n={};try{n=Lh(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Pt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const cR=En({name:"nuxt:chunk-reload",setup(t){const e=Qn(),n=ni(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:s})=>{r.add(s)});function i(s){const o="href"in s&&s.href[0]==="#"?n.app.baseURL+s.href:Ap(n.app.baseURL,s.fullPath);uR({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(i)}),e.onError((s,a)=>{r.has(s)&&i(a)})}}),dR=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m5;const Bc=t=>m5=t,g5=Symbol();function Fg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yu||(Yu={}));function hR(){const t=vp(!0),e=t.run(()=>de({}));let n=[],r=[];const i=bp({install(s){Bc(i),i._a=s,s.provide(g5,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!dR?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const y5=()=>{};function $T(t,e,n,r=y5){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&aa()&&Ga(i),i}function mo(t,...e){t.slice().forEach(n=>{n(...e)})}const pR=t=>t();function Ug(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Fg(i)&&Fg(r)&&t.hasOwnProperty(n)&&!Wt(r)&&!cs(r)?t[n]=Ug(i,r):t[n]=r}return t}const fR=Symbol();function mR(t){return!Fg(t)||!t.hasOwnProperty(fR)}const{assign:Bs}=Object;function gR(t){return!!(Wt(t)&&t.effect)}function yR(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){o||(n.state.value[t]=i?i():{});const c=Ak(n.state.value[t]);return Bs(c,s,Object.keys(a||{}).reduce((d,p)=>(d[p]=bp(U(()=>{Bc(n);const f=n._s.get(t);return a[p].call(f,f)})),d),{}))}return l=v5(t,u,e,n,r,!0),l}function v5(t,e,n={},r,i,s){let a;const o=Bs({actions:{}},n),l={deep:!0};let u,c,d=[],p=[],f;const y=r.state.value[t];!s&&!y&&(r.state.value[t]={}),de({});let b;function S(q){let j;u=c=!1,typeof q=="function"?(q(r.state.value[t]),j={type:Yu.patchFunction,storeId:t,events:f}):(Ug(r.state.value[t],q),j={type:Yu.patchObject,payload:q,storeId:t,events:f});const W=b=Symbol();on().then(()=>{b===W&&(u=!0)}),c=!0,mo(d,j,r.state.value[t])}const E=s?function(){const{state:j}=n,W=j?j():{};this.$patch(Y=>{Bs(Y,W)})}:y5;function x(){a.stop(),d=[],p=[],r._s.delete(t)}function k(q,j){return function(){Bc(r);const W=Array.from(arguments),Y=[],re=[];function le(H){Y.push(H)}function F(H){re.push(H)}mo(p,{args:W,name:q,store:A,after:le,onError:F});let R;try{R=j.apply(this&&this.$id===t?this:A,W)}catch(H){throw mo(re,H),H}return R instanceof Promise?R.then(H=>(mo(Y,H),H)).catch(H=>(mo(re,H),Promise.reject(H))):(mo(Y,R),R)}}const L={_p:r,$id:t,$onAction:$T.bind(null,p),$patch:S,$reset:E,$subscribe(q,j={}){const W=$T(d,q,j.detached,()=>Y()),Y=a.run(()=>St(()=>r.state.value[t],re=>{(j.flush==="sync"?c:u)&&q({storeId:t,type:Yu.direct,events:f},re)},Bs({},l,j)));return W},$dispose:x},A=xn(L);r._s.set(t,A);const M=(r._a&&r._a.runWithContext||pR)(()=>r._e.run(()=>(a=vp()).run(e)));for(const q in M){const j=M[q];if(Wt(j)&&!gR(j)||cs(j))s||(y&&mR(j)&&(Wt(j)?j.value=y[q]:Ug(j,y[q])),r.state.value[t][q]=j);else if(typeof j=="function"){const W=k(q,j);M[q]=W,o.actions[q]=j}}return Bs(A,M),Bs(Ct(A),M),Object.defineProperty(A,"$state",{get:()=>r.state.value[t],set:q=>{S(j=>{Bs(j,q)})}}),r._p.forEach(q=>{Bs(A,a.run(()=>q({store:A,app:r._a,pinia:r,options:o})))}),y&&s&&n.hydrate&&n.hydrate(A.$state,y),u=!0,c=!0,A}function vR(t,e,n){let r,i;const s=typeof e=="function";r=t,i=s?n:e;function a(o,l){const u=xp();return o=o||(u?Et(g5,null):null),o&&Bc(o),o=m5,o._s.has(r)||(s?v5(r,e,i,o):yR(r,i,o)),o._s.get(r)}return a.$id=r,a}const _R=t=>t==="defer"||t===!1;function bR(...t){var y;const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);let[n,r,i={}]=t;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=Pt(),a=r,o=()=>Io.value,l=()=>s.isHydrating?s.payload.data[n]:s.static.data[n];i.server=i.server??!0,i.default=i.default??o,i.getCachedData=i.getCachedData??l,i.lazy=i.lazy??!1,i.immediate=i.immediate??!0,i.deep=i.deep??Io.deep,i.dedupe=i.dedupe??"cancel";const u=()=>i.getCachedData(n,s)!=null;if(!s._asyncData[n]||!i.immediate){(y=s.payload._errors)[n]??(y[n]=Io.errorValue);const b=i.deep?de:tl;s._asyncData[n]={data:b(i.getCachedData(n,s)??i.default()),pending:de(!u()),error:Vi(s.payload._errors,n),status:de("idle"),_default:i.default}}const c={...s._asyncData[n]};delete c._default,c.refresh=c.execute=(b={})=>{if(s._asyncDataPromises[n]){if(_R(b.dedupe??i.dedupe))return s._asyncDataPromises[n];s._asyncDataPromises[n].cancelled=!0}if((b._initial||s.isHydrating&&b._initial!==!1)&&u())return Promise.resolve(i.getCachedData(n,s));c.pending.value=!0,c.status.value="pending";const S=new Promise((E,x)=>{try{E(a(s))}catch(k){x(k)}}).then(async E=>{if(S.cancelled)return s._asyncDataPromises[n];let x=E;i.transform&&(x=await i.transform(E)),i.pick&&(x=wR(x,i.pick)),s.payload.data[n]=x,c.data.value=x,c.error.value=Io.errorValue,c.status.value="success"}).catch(E=>{if(S.cancelled)return s._asyncDataPromises[n];c.error.value=Rc(E),c.data.value=$(i.default()),c.status.value="error"}).finally(()=>{S.cancelled||(c.pending.value=!1,delete s._asyncDataPromises[n])});return s._asyncDataPromises[n]=S,s._asyncDataPromises[n]},c.clear=()=>TR(s,n);const d=()=>c.refresh({_initial:!0}),p=i.server!==!1&&s.payload.serverRendered;{const b=Ml();if(b&&!b._nuxtOnBeforeMountCbs){b._nuxtOnBeforeMountCbs=[];const x=b._nuxtOnBeforeMountCbs;Uk(()=>{x.forEach(k=>{k()}),x.splice(0,x.length)}),ua(()=>x.splice(0,x.length))}p&&s.isHydrating&&(c.error.value||u())?(c.pending.value=!1,c.status.value=c.error.value?"error":"success"):b&&(s.payload.serverRendered&&s.isHydrating||i.lazy)&&i.immediate?b._nuxtOnBeforeMountCbs.push(d):i.immediate&&d();const S=aa();if(i.watch){const x=St(i.watch,()=>c.refresh());S&&Ga(x)}const E=s.hook("app:data:refresh",async x=>{(!x||x.includes(n))&&await c.refresh()});S&&Ga(E)}const f=Promise.resolve(s._asyncDataPromises[n]).then(()=>c);return Object.assign(f,c),f}async function HT(t){await new Promise(n=>Nc(n)),await Pt().hooks.callHookParallel("app:data:refresh",void 0)}function TR(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=Io.errorValue),t._asyncData[e]&&(t._asyncData[e].data.value=void 0,t._asyncData[e].error.value=Io.errorValue,t._asyncData[e].pending.value=!1,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function wR(t,e){const n={};for(const r of e)n[r]=t[r];return n}function Hd(t,e,n){const[r={},i]=typeof e=="string"?[{},e]:[e,n],s=U(()=>Pa(t)),a=r.key||AP([i,typeof s.value=="string"?s.value:"",...kR(r)]);if(!a||typeof a!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+a);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const o=a===i?"$f"+a:a;if(!r.baseURL&&typeof s.value=="string"&&s.value[0]==="/"&&s.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:l,lazy:u,default:c,transform:d,pick:p,watch:f,immediate:y,getCachedData:b,deep:S,dedupe:E,...x}=r,k=xn({...lP,...x,cache:typeof r.cache=="boolean"?void 0:r.cache}),L={server:l,lazy:u,default:c,transform:d,pick:p,immediate:y,getCachedData:b,deep:S,dedupe:E,watch:f===!1?[]:[k,s,...f||[]]};let A;return bR(o,()=>{var W;(W=A==null?void 0:A.abort)==null||W.call(A),A=typeof AbortController<"u"?new AbortController:{};const M=Pa(r.timeout);let q;return M&&(q=setTimeout(()=>A.abort(),M),A.signal.onabort=()=>clearTimeout(q)),(r.$fetch||globalThis.$fetch)(s.value,{signal:A.signal,...k}).finally(()=>{clearTimeout(q)})},L)}function kR(t){var n;const e=[((n=Pa(t.method))==null?void 0:n.toUpperCase())||"GET",Pa(t.baseURL)];for(const r of[t.params||t.query]){const i=Pa(r);if(!i)continue;const s={};for(const[a,o]of Object.entries(i))s[Pa(a)]=Pa(o);e.push(s)}return e}async function _5(t,e=Qn()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const i=e._preloadPromises=e._preloadPromises||[];if(i.length>4)return Promise.all(i).then(()=>_5(t,e));e._routePreloaded.add(n);const s=r.map(a=>{var o;return(o=a.components)==null?void 0:o.default}).filter(a=>typeof a=="function");for(const a of s){const o=Promise.resolve(a()).catch(()=>{}).finally(()=>i.splice(i.indexOf(o)));i.push(o)}await Promise.all(i)}let pu;function SR(t={}){const e=f5("_preview-state",()=>({enabled:!1,state:{}}));if(e.value._initialized)return{enabled:Vi(e.value,"enabled"),state:e.value.state};if(e.value._initialized=!0,!e.value.enabled){const r=(t.shouldEnable??xR)(e.value.state);typeof r=="boolean"&&(e.value.enabled=r)}return St(()=>e.value.enabled,n=>{if(n){const i=(t.getState??ER)(e.value.state);i!==e.value.state&&Object.assign(e.value.state,i),pu||(HT(),pu=Qn().afterEach(()=>HT()))}else pu&&(pu(),pu=void 0)},{immediate:!0,flush:"sync"}),{enabled:Vi(e.value,"enabled"),state:e.value.state}}function xR(){return Dl().query["preview"]==="true"}function ER(t){if(t.token!==void 0)return t;const e=Dl();return t.token=Array.isArray(e.query.token)?e.query.token[0]:e.query.token,t}const CR=(...t)=>t.find(e=>e!==void 0);function AR(t){const e=t.componentName||"NuxtLink";function n(i,s){if(!i||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return i;if(typeof i=="string")return VT(i,t.trailingSlash);const a="path"in i&&i.path!==void 0?i.path:s(i).path;return{...i,name:void 0,path:VT(a,t.trailingSlash)}}function r(i){const s=Qn(),a=ni(),o=U(()=>!!i.target&&i.target!=="_self"),l=U(()=>{const b=i.to||i.href||"";return typeof b=="string"&&_s(b,{acceptRelative:!0})}),u=lt("RouterLink"),c=u&&typeof u!="string"?u.useLink:void 0,d=U(()=>{if(i.external)return!0;const b=i.to||i.href||"";return typeof b=="object"?!1:b===""||l.value}),p=U(()=>{const b=i.to||i.href||"";return d.value?b:n(b,s.resolve)}),f=d.value||c==null?void 0:c({...i,to:p}),y=U(()=>{var b;if(!p.value||l.value)return p.value;if(d.value){const S=typeof p.value=="object"&&"path"in p.value?Lg(p.value):p.value,E=typeof S=="object"?s.resolve(S).href:S;return n(E,s.resolve)}return typeof p.value=="object"?((b=s.resolve(p.value))==null?void 0:b.href)??null:n(Ap(a.app.baseURL,p.value),s.resolve)});return{to:p,hasTarget:o,isAbsoluteUrl:l,isExternal:d,href:y,isActive:(f==null?void 0:f.isActive)??U(()=>p.value===s.currentRoute.value.path),isExactActive:(f==null?void 0:f.isExactActive)??U(()=>p.value===s.currentRoute.value.path),route:(f==null?void 0:f.route)??U(()=>s.resolve(p.value)),async navigate(){await FP(y.value,{replace:i.replace,external:d.value||o.value})}}}return Be({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:r,setup(i,{slots:s}){const a=Qn(),{to:o,href:l,navigate:u,isExternal:c,hasTarget:d,isAbsoluteUrl:p}=r(i),f=de(!1),y=de(null),b=S=>{var E;y.value=i.custom?(E=S==null?void 0:S.$el)==null?void 0:E.nextElementSibling:S==null?void 0:S.$el};if(i.prefetch!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!MR()){const E=Pt();let x,k=null;Ht(()=>{const L=IR();Nc(()=>{x=Bg(()=>{var A;(A=y==null?void 0:y.value)!=null&&A.tagName&&(k=L.observe(y.value,async()=>{k==null||k(),k=null;const D=typeof o.value=="string"?o.value:c.value?Lg(o.value):a.resolve(o.value).fullPath;await Promise.all([E.hooks.callHook("link:prefetch",D).catch(()=>{}),!c.value&&!d.value&&_5(o.value,a).catch(()=>{})]),f.value=!0}))})})}),Mc(()=>{x&&sR(x),k==null||k(),k=null})}return()=>{var x;if(!c.value&&!d.value){const k={ref:b,to:o.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(f.value&&(k.class=i.prefetchedClass||t.prefetchedClass),k.rel=i.rel||void 0),sn(lt("RouterLink"),k,s.default)}const S=i.target||null,E=CR(i.noRel?"":i.rel,t.externalRelAttribute,p.value||d.value?"noopener noreferrer":"")||null;return i.custom?s.default?s.default({href:l.value,navigate:u,get route(){if(!l.value)return;const k=new URL(l.value,window.location.href);return{path:k.pathname,fullPath:k.pathname,get query(){return ES(k.search)},hash:k.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:E,target:S,isExternal:c.value||d.value,isActive:!1,isExactActive:!1}):null:sn("a",{ref:y,href:l.value||null,rel:E,target:S},(x=s.default)==null?void 0:x.call(s))}}})}const LR=AR(aP);function VT(t,e){const n=e==="append"?Mh:Cp;return _s(t)&&!t.startsWith("http")?t:n(t,!0)}function IR(){const t=Pt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(s,a)=>(e||(e=new IntersectionObserver(o=>{for(const l of o){const u=n.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&u&&u()}})),n.set(s,a),e.observe(s),()=>{n.delete(s),e.unobserve(s),n.size===0&&(e.disconnect(),e=null)});return t._observer={observe:r}}function MR(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}const DR=En(t=>{const e=hR();return t.vueApp.use(e),Bc(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}),PR=En({name:"nuxt:global-components"}),Ws={default:()=>Ne(()=>import("./ZBxKctQS.js"),__vite__mapDeps([78,1,79]),import.meta.url).then(t=>t.default||t),impact:()=>Ne(()=>import("./Cno3KflT.js"),__vite__mapDeps([80,1,81]),import.meta.url).then(t=>t.default||t)},OR=En({name:"nuxt:prefetch",setup(t){const e=Qn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var i;const r=(i=n==null?void 0:n.meta)==null?void 0:i.layout;r&&typeof Ws[r]=="function"&&await Ws[r]()})}),t.hooks.hook("link:prefetch",n=>{if(_s(n))return;const r=e.resolve(n);if(!r)return;const i=r.meta.layout;let s=_v(r.meta.middleware);s=s.filter(a=>typeof a=="string");for(const a of s)typeof Gu[a]=="function"&&Gu[a]();i&&typeof Ws[i]=="function"&&Ws[i]()})}});var qT=/^GTM-[0-9A-Z]+$/;function dm(t){if(typeof t!="string"||!qT.test(t)){let e=String(t).toUpperCase().replace(/.*-|[^0-9A-Z]/g,""),n=e.length===0?"":` Did you mean 'GTM-${e}'?`;throw new Error(`'${t}' is not a valid GTM-ID (${qT}).${n}`)}}function Mu(t,e="dataLayer"){return t[e]||(t[e]=[]),t[e]}function Wo(t,e){let n=document,r=n.createElement("script"),i=u=>{var c;(c=e.onReady)==null||c.call(e,{id:t,script:r}),r.removeEventListener("load",i)};r.addEventListener("load",i);let s=e.dataLayerName??"dataLayer";if(Mu(window,s).push({event:"gtm.js","gtm.start":new Date().getTime()}),!t)return r;r.async=!e.defer,r.defer=!!(e.defer||e.compatibility),e.nonce&&r.setAttribute("nonce",e.nonce),e.scriptType&&(r.type=e.scriptType);let a=new URLSearchParams({id:t,...e.dataLayerName?{l:e.dataLayerName}:{},...e.queryParams??{}}),o=e.source??"https://www.googletagmanager.com/gtm.js";r.src=`${o}?${a}`;let l=e.parentElement??n.body;if(typeof(l==null?void 0:l.appendChild)!="function")throw new Error("parentElement must be a DOM element");return l.appendChild(r),r}function RR(t="https://www.googletagmanager.com/gtm.js"){return Array.from(document.getElementsByTagName("script")).some(e=>e.src.includes(t))}var NR=class{constructor(t){uu(this,"id");uu(this,"options");uu(this,"scriptElements",[]);uu(this,"isInBrowserContext",()=>typeof window<"u");if(Array.isArray(t.id))for(let e of t.id)dm(typeof e=="string"?e:e.id);else dm(t.id);this.id=t.id,this.options={enabled:!0,debug:!1,loadScript:!0,defer:!1,compatibility:!1,dataLayerName:"dataLayer",...t},delete this.options.id}enabled(){return this.options.enabled??!0}enable(t=!0,e){if(this.options.enabled=t,this.isInBrowserContext()&&t&&!RR(e)&&this.options.loadScript)if(Array.isArray(this.id))this.id.forEach(n=>{let r;typeof n=="string"?r=Wo(n,{...this.options}):r=Wo(n.id,{...this.options,queryParams:n.queryParams}),this.scriptElements.push(r)});else{let n=Wo(this.id,{...this.options});this.scriptElements.push(n)}}debugEnabled(){return this.options.debug??!1}debug(t){this.options.debug=t}dataLayer(){return this.isInBrowserContext()&&this.options.enabled?Mu(window,this.options.dataLayerName):!1}trackView(t,e,n={}){let r=this.isInBrowserContext()&&(this.options.enabled??!1);this.options.debug&&console.log(`[GTM-Support${r?"":"(disabled)"}]: Dispatching TrackView`,{screenName:t,path:e}),r&&Mu(window,this.options.dataLayerName).push({...n,event:this.options.trackViewEventProperty??"content-view","content-name":e,"content-view-name":t})}trackEvent({event:t,category:e=null,action:n=null,label:r=null,value:i=null,noninteraction:s=!1,...a}={}){let o=this.isInBrowserContext()&&(this.options.enabled??!1);this.options.debug&&console.log(`[GTM-Support${o?"":"(disabled)"}]: Dispatching event`,{event:t,category:e,action:n,label:r,value:i,...a}),o&&Mu(window,this.options.dataLayerName).push({event:t??"interaction",target:e,action:n,"target-properties":r,value:i,"interaction-type":s,...a})}push(t){let e=this.isInBrowserContext()&&(this.options.enabled??!1);this.options.debug&&console.log(`[GTM-Support${e?"":"(disabled)"}]: Dispatching event`,t),e&&Mu(window,this.options.dataLayerName).push(t)}},Yn;function BR(t,e={id:""}){e={trackOnNextTick:!1,...e},Yn=new NR(e),t.config.globalProperties.$gtm=Yn,Yn.isInBrowserContext()&&(e.vueRouter&&FR(t,e.vueRouter,e.ignoredViews,e.trackOnNextTick,e.vueRouterAdditionalEventData),Yn.options.enabled&&Yn.options.loadScript&&(Array.isArray(e.id)?e.id.forEach(n=>{if(typeof n=="string")Wo(n,e);else{let r={...e};n.queryParams!=null&&(r.queryParams={...r.queryParams,...n.queryParams}),Wo(n.id,r)}}):Wo(e.id,e))),t.provide("gtm",e)}function FR(t,e,n=[],r,i=()=>({})){function s(a,o){return a instanceof Error?!!(a.type&o):!1}e.afterEach(async(a,o,l)=>{var p,f,y;if(typeof a.name!="string"||Array.isArray(n)&&n.includes(a.name)||typeof n=="function"&&n(a,o))return;let u=a.meta&&typeof a.meta.gtm=="string"&&a.meta.gtm?a.meta.gtm:a.name;s(l,4)?Yn!=null&&Yn.debugEnabled()&&console.log(`[VueGtm]: '${u}' not tracked due to navigation aborted`):s(l,8)&&(Yn!=null&&Yn.debugEnabled())&&console.log(`[VueGtm]: '${u}' not tracked due to navigation cancelled`);let c={...await i(a,o),...(p=a.meta)==null?void 0:p.gtmAdditionalEventData},d=((y=(f=e.options)==null?void 0:f.history)==null?void 0:y.base)??"";d.endsWith("/")||(d+="/"),d+=a.fullPath.startsWith("/")?a.fullPath.substring(1):a.fullPath,r?on(()=>{Yn==null||Yn.trackView(u,d,c)}):Yn==null||Yn.trackView(u,d,c)})}function UR(t){return{install:e=>BR(e,t)}}const jR=En(t=>{{const e=t.$config.public.gtm,n=Qn(),r={...e,vueRouter:e.enableRouterSync&&n?n:void 0};t.vueApp.use(UR(r))}}),bv=JSON,$R=t=>t.toUpperCase(),HR=t=>{const e={};return t.forEach((n,r)=>{e[r]=n}),e},VR=(t,e,n)=>t.document?t:{document:t,variables:e,requestHeaders:n,signal:void 0},qR=(t,e,n)=>t.query?t:{query:t,variables:e,requestHeaders:n,signal:void 0},WR=(t,e)=>t.documents?t:{documents:t,requestHeaders:e,signal:void 0};function uh(t,e){if(!!!t)throw new Error(e)}function zR(t){return typeof t=="object"&&t!==null}function GR(t,e){if(!!!t)throw new Error("Unexpected invariant triggered.")}const YR=/\r\n|[\n\r]/g;function jg(t,e){let n=0,r=1;for(const i of t.body.matchAll(YR)){if(typeof i.index=="number"||GR(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function KR(t){return b5(t.source,jg(t.source,t.start))}function b5(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,a=e.line+s,o=e.line===1?n:0,l=e.column+o,u=`${t.name}:${a}:${l}
`,c=r.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){const p=Math.floor(l/80),f=l%80,y=[];for(let b=0;b<d.length;b+=80)y.push(d.slice(b,b+80));return u+WT([[`${a} |`,y[0]],...y.slice(1,p+1).map(b=>["|",b]),["|","^".padStart(f)],["|",y[p+1]]])}return u+WT([[`${a-1} |`,c[i-1]],[`${a} |`,d],["|","^".padStart(l)],[`${a+1} |`,c[i+1]]])}function WT(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function XR(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class Tv extends Error{constructor(e,...n){var r,i,s;const{nodes:a,source:o,positions:l,path:u,originalError:c,extensions:d}=XR(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=zT(Array.isArray(a)?a:a?[a]:void 0);const p=zT((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=o??(p==null||(i=p[0])===null||i===void 0?void 0:i.source),this.positions=l??(p==null?void 0:p.map(y=>y.start)),this.locations=l&&o?l.map(y=>jg(o,y)):p==null?void 0:p.map(y=>jg(y.source,y.start));const f=zR(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(s=d??f)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Tv):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+KR(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+b5(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function zT(t){return t===void 0||t.length===0?void 0:t}function Vn(t,e,n){return new Tv(`Syntax Error: ${n}`,{source:t,positions:[e]})}class QR{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class T5{constructor(e,n,r,i,s,a){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=a,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const w5={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ZR=new Set(Object.keys(w5));function GT(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&ZR.has(e)}var Do;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(Do||(Do={}));var $g;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})($g||($g={}));var ut;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ut||(ut={}));function Hg(t){return t===9||t===32}function gc(t){return t>=48&&t<=57}function k5(t){return t>=97&&t<=122||t>=65&&t<=90}function S5(t){return k5(t)||t===95}function JR(t){return k5(t)||gc(t)||t===95}function eN(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let a=0;a<t.length;++a){var s;const o=t[a],l=tN(o);l!==o.length&&(r=(s=r)!==null&&s!==void 0?s:a,i=a,a!==0&&l<n&&(n=l))}return t.map((a,o)=>o===0?a:a.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function tN(t){let e=0;for(;e<t.length&&Hg(t.charCodeAt(e));)++e;return e}function nN(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(f=>f.length===0||Hg(f.charCodeAt(0))),a=n.endsWith('\\"""'),o=t.endsWith('"')&&!a,l=t.endsWith("\\"),u=o||l,c=!i||t.length>70||u||s||a;let d="";const p=i&&Hg(t.charCodeAt(0));return(c&&!p||s)&&(d+=`
`),d+=n,(c||u)&&(d+=`
`),'"""'+d+'"""'}var Pe;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(Pe||(Pe={}));class rN{constructor(e){const n=new T5(Pe.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Pe.EOF)do if(e.next)e=e.next;else{const n=sN(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===Pe.COMMENT);return e}}function iN(t){return t===Pe.BANG||t===Pe.DOLLAR||t===Pe.AMP||t===Pe.PAREN_L||t===Pe.PAREN_R||t===Pe.SPREAD||t===Pe.COLON||t===Pe.EQUALS||t===Pe.AT||t===Pe.BRACKET_L||t===Pe.BRACKET_R||t===Pe.BRACE_L||t===Pe.PIPE||t===Pe.BRACE_R}function Pl(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Pp(t,e){return x5(t.charCodeAt(e))&&E5(t.charCodeAt(e+1))}function x5(t){return t>=55296&&t<=56319}function E5(t){return t>=56320&&t<=57343}function Ka(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return Pe.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Cn(t,e,n,r,i){const s=t.line,a=1+n-t.lineStart;return new T5(e,n,r,s,a,i)}function sN(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return aN(t,i);case 33:return Cn(t,Pe.BANG,i,i+1);case 36:return Cn(t,Pe.DOLLAR,i,i+1);case 38:return Cn(t,Pe.AMP,i,i+1);case 40:return Cn(t,Pe.PAREN_L,i,i+1);case 41:return Cn(t,Pe.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Cn(t,Pe.SPREAD,i,i+3);break;case 58:return Cn(t,Pe.COLON,i,i+1);case 61:return Cn(t,Pe.EQUALS,i,i+1);case 64:return Cn(t,Pe.AT,i,i+1);case 91:return Cn(t,Pe.BRACKET_L,i,i+1);case 93:return Cn(t,Pe.BRACKET_R,i,i+1);case 123:return Cn(t,Pe.BRACE_L,i,i+1);case 124:return Cn(t,Pe.PIPE,i,i+1);case 125:return Cn(t,Pe.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?hN(t,i):lN(t,i)}if(gc(s)||s===45)return oN(t,i,s);if(S5(s))return pN(t,i);throw Vn(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Pl(s)||Pp(n,i)?`Unexpected character: ${Ka(t,i)}.`:`Invalid character: ${Ka(t,i)}.`)}return Cn(t,Pe.EOF,r,r)}function aN(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(Pl(s))++i;else if(Pp(n,i))i+=2;else break}return Cn(t,Pe.COMMENT,e,i,n.slice(e+1,i))}function oN(t,e,n){const r=t.source.body;let i=e,s=n,a=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),gc(s))throw Vn(t.source,i,`Invalid number, unexpected digit after 0: ${Ka(t,i)}.`)}else i=hm(t,i,s),s=r.charCodeAt(i);if(s===46&&(a=!0,s=r.charCodeAt(++i),i=hm(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(a=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=hm(t,i,s),s=r.charCodeAt(i)),s===46||S5(s))throw Vn(t.source,i,`Invalid number, expected digit but got: ${Ka(t,i)}.`);return Cn(t,a?Pe.FLOAT:Pe.INT,e,i,r.slice(e,i))}function hm(t,e,n){if(!gc(n))throw Vn(t.source,e,`Invalid number, expected digit but got: ${Ka(t,e)}.`);const r=t.source.body;let i=e+1;for(;gc(r.charCodeAt(i));)++i;return i}function lN(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,a="";for(;i<r;){const o=n.charCodeAt(i);if(o===34)return a+=n.slice(s,i),Cn(t,Pe.STRING,e,i+1,a);if(o===92){a+=n.slice(s,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?uN(t,i):cN(t,i):dN(t,i);a+=l.value,i+=l.size,s=i;continue}if(o===10||o===13)break;if(Pl(o))++i;else if(Pp(n,i))i+=2;else throw Vn(t.source,i,`Invalid character within String: ${Ka(t,i)}.`)}throw Vn(t.source,i,"Unterminated string.")}function uN(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!Pl(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Du(s),r<0)break}throw Vn(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function cN(t,e){const n=t.source.body,r=YT(n,e+2);if(Pl(r))return{value:String.fromCodePoint(r),size:6};if(x5(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=YT(n,e+8);if(E5(i))return{value:String.fromCodePoint(r,i),size:12}}throw Vn(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function YT(t,e){return Du(t.charCodeAt(e))<<12|Du(t.charCodeAt(e+1))<<8|Du(t.charCodeAt(e+2))<<4|Du(t.charCodeAt(e+3))}function Du(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function dN(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Vn(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function hN(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,a=s,o="";const l=[];for(;s<r;){const u=n.charCodeAt(s);if(u===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){o+=n.slice(a,s),l.push(o);const c=Cn(t,Pe.BLOCK_STRING,e,s+3,eN(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,c}if(u===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){o+=n.slice(a,s),a=s+1,s+=4;continue}if(u===10||u===13){o+=n.slice(a,s),l.push(o),u===13&&n.charCodeAt(s+1)===10?s+=2:++s,o="",a=s,i=s;continue}if(Pl(u))++s;else if(Pp(n,s))s+=2;else throw Vn(t.source,s,`Invalid character within String: ${Ka(t,s)}.`)}throw Vn(t.source,s,"Unterminated string.")}function pN(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(JR(s))++i;else break}return Cn(t,Pe.NAME,e,i,n.slice(e,i))}const fN=10,C5=2;function wv(t){return Op(t,[])}function Op(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return mN(t,e);default:return String(t)}}function mN(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(gN(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Op(r,n)}else if(Array.isArray(t))return vN(t,n);return yN(t,n)}function gN(t){return typeof t.toJSON=="function"}function yN(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>C5?"["+_N(t)+"]":"{ "+n.map(([i,s])=>i+": "+Op(s,e)).join(", ")+" }"}function vN(t,e){if(t.length===0)return"[]";if(e.length>C5)return"[Array]";const n=Math.min(fN,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(Op(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function _N(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const bN=globalThis.process&&!0,TN=bN?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;const i=n.prototype[Symbol.toStringTag],s=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===s){const a=wv(e);throw new Error(`Cannot use ${i} "${a}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class A5{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||uh(!1,`Body must be a string. Received: ${wv(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||uh(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||uh(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function wN(t){return TN(t,A5)}function kN(t,e){return new SN(t,e).parseDocument()}class SN{constructor(e,n={}){const r=wN(e)?e:new A5(e);this._lexer=new rN(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(Pe.NAME);return this.node(e,{kind:ut.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ut.DOCUMENT,definitions:this.many(Pe.SOF,this.parseDefinition,Pe.EOF)})}parseDefinition(){if(this.peek(Pe.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===Pe.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Vn(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Pe.BRACE_L))return this.node(e,{kind:ut.OPERATION_DEFINITION,operation:Do.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(Pe.NAME)&&(r=this.parseName()),this.node(e,{kind:ut.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Pe.NAME);switch(e.value){case"query":return Do.QUERY;case"mutation":return Do.MUTATION;case"subscription":return Do.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Pe.PAREN_L,this.parseVariableDefinition,Pe.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ut.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Pe.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Pe.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Pe.DOLLAR),this.node(e,{kind:ut.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ut.SELECTION_SET,selections:this.many(Pe.BRACE_L,this.parseSelection,Pe.BRACE_R)})}parseSelection(){return this.peek(Pe.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(Pe.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:ut.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Pe.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Pe.PAREN_L,n,Pe.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(Pe.COLON),this.node(n,{kind:ut.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Pe.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(Pe.NAME)?this.node(e,{kind:ut.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ut.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:ut.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ut.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case Pe.BRACKET_L:return this.parseList(e);case Pe.BRACE_L:return this.parseObject(e);case Pe.INT:return this.advanceLexer(),this.node(n,{kind:ut.INT,value:n.value});case Pe.FLOAT:return this.advanceLexer(),this.node(n,{kind:ut.FLOAT,value:n.value});case Pe.STRING:case Pe.BLOCK_STRING:return this.parseStringLiteral();case Pe.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:ut.BOOLEAN,value:!0});case"false":return this.node(n,{kind:ut.BOOLEAN,value:!1});case"null":return this.node(n,{kind:ut.NULL});default:return this.node(n,{kind:ut.ENUM,value:n.value})}case Pe.DOLLAR:if(e)if(this.expectToken(Pe.DOLLAR),this._lexer.token.kind===Pe.NAME){const r=this._lexer.token.value;throw Vn(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ut.STRING,value:e.value,block:e.kind===Pe.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:ut.LIST,values:this.any(Pe.BRACKET_L,n,Pe.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:ut.OBJECT,fields:this.any(Pe.BRACE_L,n,Pe.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(Pe.COLON),this.node(n,{kind:ut.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(Pe.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(Pe.AT),this.node(n,{kind:ut.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(Pe.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(Pe.BRACKET_R),n=this.node(e,{kind:ut.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(Pe.BANG)?this.node(e,{kind:ut.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:ut.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Pe.STRING)||this.peek(Pe.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(Pe.BRACE_L,this.parseOperationTypeDefinition,Pe.BRACE_R);return this.node(e,{kind:ut.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(Pe.COLON);const r=this.parseNamedType();return this.node(e,{kind:ut.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:ut.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:ut.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:a})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Pe.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Pe.BRACE_L,this.parseFieldDefinition,Pe.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(Pe.COLON);const s=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(e,{kind:ut.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:a})}parseArgumentDefs(){return this.optionalMany(Pe.PAREN_L,this.parseInputValueDef,Pe.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(Pe.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(Pe.EQUALS)&&(s=this.parseConstValueLiteral());const a=this.parseConstDirectives();return this.node(e,{kind:ut.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:a})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:ut.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:a})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:ut.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(Pe.EQUALS)?this.delimitedMany(Pe.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:ut.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(Pe.BRACE_L,this.parseEnumValueDefinition,Pe.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:ut.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Vn(this._lexer.source,this._lexer.token.start,`${Vd(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:ut.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(Pe.BRACE_L,this.parseInputValueDef,Pe.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Pe.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(Pe.BRACE_L,this.parseOperationTypeDefinition,Pe.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:ut.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:ut.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ut.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:ut.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ut.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ut.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ut.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Pe.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const a=this.parseDirectiveLocations();return this.node(e,{kind:ut.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:a})}parseDirectiveLocations(){return this.delimitedMany(Pe.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call($g,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new QR(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw Vn(this._lexer.source,n.start,`Expected ${L5(e)}, found ${Vd(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===Pe.NAME&&n.value===e)this.advanceLexer();else throw Vn(this._lexer.source,n.start,`Expected "${e}", found ${Vd(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===Pe.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return Vn(this._lexer.source,n.start,`Unexpected ${Vd(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==Pe.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Vn(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Vd(t){const e=t.value;return L5(t.kind)+(e!=null?` "${e}"`:"")}function L5(t){return iN(t)?`"${t}"`:t}function xN(t){return`"${t.replace(EN,CN)}"`}const EN=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function CN(t){return AN[t.charCodeAt(0)]}const AN=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],LN=Object.freeze({});function IN(t,e,n=w5){const r=new Map;for(const E of Object.values(ut))r.set(E,MN(e,E));let i,s=Array.isArray(t),a=[t],o=-1,l=[],u=t,c,d;const p=[],f=[];do{o++;const E=o===a.length,x=E&&l.length!==0;if(E){if(c=f.length===0?void 0:p[p.length-1],u=d,d=f.pop(),x)if(s){u=u.slice();let L=0;for(const[A,D]of l){const M=A-L;D===null?(u.splice(M,1),L++):u[M]=D}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[L,A]of l)u[L]=A}o=i.index,a=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(d){if(c=s?o:a[o],u=d[c],u==null)continue;p.push(c)}let k;if(!Array.isArray(u)){var y,b;GT(u)||uh(!1,`Invalid AST Node: ${wv(u)}.`);const L=E?(y=r.get(u.kind))===null||y===void 0?void 0:y.leave:(b=r.get(u.kind))===null||b===void 0?void 0:b.enter;if(k=L==null?void 0:L.call(e,u,c,d,p,f),k===LN)break;if(k===!1){if(!E){p.pop();continue}}else if(k!==void 0&&(l.push([c,k]),!E))if(GT(k))u=k;else{p.pop();continue}}if(k===void 0&&x&&l.push([c,u]),E)p.pop();else{var S;i={inArray:s,index:o,keys:a,edits:l,prev:i},s=Array.isArray(u),a=s?u:(S=n[u.kind])!==null&&S!==void 0?S:[],o=-1,l=[],d&&f.push(d),d=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function MN(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function DN(t){return IN(t,ON)}const PN=80,ON={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>et(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Tt("(",et(t.variableDefinitions,", "),")"),n=et([t.operation,et([t.name,e]),et(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Tt(" = ",n)+Tt(" ",et(r," "))},SelectionSet:{leave:({selections:t})=>ai(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=Tt("",t,": ")+e;let a=s+Tt("(",et(n,", "),")");return a.length>PN&&(a=s+Tt(`(
`,ch(et(n,`
`)),`
)`)),et([a,et(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Tt(" ",et(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>et(["...",Tt("on ",t),et(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Tt("(",et(n,", "),")")} on ${e} ${Tt("",et(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?nN(t):xN(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+et(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+et(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Tt("(",et(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Tt("",t,`
`)+et(["schema",et(e," "),ai(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Tt("",t,`
`)+et(["scalar",e,et(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Tt("",t,`
`)+et(["type",e,Tt("implements ",et(n," & ")),et(r," "),ai(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Tt("",t,`
`)+e+(KT(n)?Tt(`(
`,ch(et(n,`
`)),`
)`):Tt("(",et(n,", "),")"))+": "+r+Tt(" ",et(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Tt("",t,`
`)+et([e+": "+n,Tt("= ",r),et(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Tt("",t,`
`)+et(["interface",e,Tt("implements ",et(n," & ")),et(r," "),ai(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Tt("",t,`
`)+et(["union",e,et(n," "),Tt("= ",et(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Tt("",t,`
`)+et(["enum",e,et(n," "),ai(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Tt("",t,`
`)+et([e,et(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Tt("",t,`
`)+et(["input",e,et(n," "),ai(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Tt("",t,`
`)+"directive @"+e+(KT(n)?Tt(`(
`,ch(et(n,`
`)),`
)`):Tt("(",et(n,", "),")"))+(r?" repeatable":"")+" on "+et(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>et(["extend schema",et(t," "),ai(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>et(["extend scalar",t,et(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>et(["extend type",t,Tt("implements ",et(e," & ")),et(n," "),ai(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>et(["extend interface",t,Tt("implements ",et(e," & ")),et(n," "),ai(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>et(["extend union",t,et(e," "),Tt("= ",et(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>et(["extend enum",t,et(e," "),ai(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>et(["extend input",t,et(e," "),ai(n)]," ")}};function et(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ai(t){return Tt(`{
`,ch(et(t,`
`)),`
}`)}function Tt(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function ch(t){return Tt("  ",t.replace(/\n/g,`
  `))}function KT(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}const XT=t=>{var r,i;let e;const n=t.definitions.filter(s=>s.kind==="OperationDefinition");return n.length===1&&(e=(i=(r=n[0])==null?void 0:r.name)==null?void 0:i.value),e},pm=t=>{if(typeof t=="string"){let n;try{const r=kN(t);n=XT(r)}catch{}return{query:t,operationName:n}}const e=XT(t);return{query:DN(t),operationName:e}};class Ku extends Error{constructor(e,n){const r=`${Ku.extractMessage(e)}: ${JSON.stringify({response:e,request:n})}`;super(r),Object.setPrototypeOf(this,Ku.prototype),this.response=e,this.request=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ku)}static extractMessage(e){var n,r;return((r=(n=e.errors)==null?void 0:n[0])==null?void 0:r.message)??`GraphQL Error (Code: ${e.status})`}}var RN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vg={exports:{}};(function(t,e){var n=typeof self<"u"?self:RN,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(F){return F&&DataView.prototype.isPrototypeOf(F)}if(o.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(F){return F&&u.indexOf(Object.prototype.toString.call(F))>-1};function d(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(F))throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function p(F){return typeof F!="string"&&(F=String(F)),F}function f(F){var R={next:function(){var H=F.shift();return{done:H===void 0,value:H}}};return o.iterable&&(R[Symbol.iterator]=function(){return R}),R}function y(F){this.map={},F instanceof y?F.forEach(function(R,H){this.append(H,R)},this):Array.isArray(F)?F.forEach(function(R){this.append(R[0],R[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(R){this.append(R,F[R])},this)}y.prototype.append=function(F,R){F=d(F),R=p(R);var H=this.map[F];this.map[F]=H?H+", "+R:R},y.prototype.delete=function(F){delete this.map[d(F)]},y.prototype.get=function(F){return F=d(F),this.has(F)?this.map[F]:null},y.prototype.has=function(F){return this.map.hasOwnProperty(d(F))},y.prototype.set=function(F,R){this.map[d(F)]=p(R)},y.prototype.forEach=function(F,R){for(var H in this.map)this.map.hasOwnProperty(H)&&F.call(R,this.map[H],H,this)},y.prototype.keys=function(){var F=[];return this.forEach(function(R,H){F.push(H)}),f(F)},y.prototype.values=function(){var F=[];return this.forEach(function(R){F.push(R)}),f(F)},y.prototype.entries=function(){var F=[];return this.forEach(function(R,H){F.push([H,R])}),f(F)},o.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function b(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function S(F){return new Promise(function(R,H){F.onload=function(){R(F.result)},F.onerror=function(){H(F.error)}})}function E(F){var R=new FileReader,H=S(R);return R.readAsArrayBuffer(F),H}function x(F){var R=new FileReader,H=S(R);return R.readAsText(F),H}function k(F){for(var R=new Uint8Array(F),H=new Array(R.length),B=0;B<R.length;B++)H[B]=String.fromCharCode(R[B]);return H.join("")}function L(F){if(F.slice)return F.slice(0);var R=new Uint8Array(F.byteLength);return R.set(new Uint8Array(F)),R.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(F){this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:o.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:o.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():o.arrayBuffer&&o.blob&&l(F)?(this._bodyArrayBuffer=L(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||c(F))?this._bodyArrayBuffer=L(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var F=b(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var F=b(this);if(F)return F;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(F){var R=F.toUpperCase();return D.indexOf(R)>-1?R:F}function q(F,R){R=R||{};var H=R.body;if(F instanceof q){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,R.headers||(this.headers=new y(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!H&&F._bodyInit!=null&&(H=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new y(R.headers)),this.method=M(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function j(F){var R=new FormData;return F.trim().split("&").forEach(function(H){if(H){var B=H.split("="),se=B.shift().replace(/\+/g," "),Te=B.join("=").replace(/\+/g," ");R.append(decodeURIComponent(se),decodeURIComponent(Te))}}),R}function W(F){var R=new y,H=F.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(B){var se=B.split(":"),Te=se.shift().trim();if(Te){var $e=se.join(":").trim();R.append(Te,$e)}}),R}A.call(q.prototype);function Y(F,R){R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new y(R.headers),this.url=R.url||"",this._initBody(F)}A.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},Y.error=function(){var F=new Y(null,{status:0,statusText:""});return F.type="error",F};var re=[301,302,303,307,308];Y.redirect=function(F,R){if(re.indexOf(R)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:R,headers:{location:F}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(R,H){this.message=R,this.name=H;var B=Error(R);this.stack=B.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function le(F,R){return new Promise(function(H,B){var se=new q(F,R);if(se.signal&&se.signal.aborted)return B(new a.DOMException("Aborted","AbortError"));var Te=new XMLHttpRequest;function $e(){Te.abort()}Te.onload=function(){var ze={status:Te.status,statusText:Te.statusText,headers:W(Te.getAllResponseHeaders()||"")};ze.url="responseURL"in Te?Te.responseURL:ze.headers.get("X-Request-URL");var ie="response"in Te?Te.response:Te.responseText;H(new Y(ie,ze))},Te.onerror=function(){B(new TypeError("Network request failed"))},Te.ontimeout=function(){B(new TypeError("Network request failed"))},Te.onabort=function(){B(new a.DOMException("Aborted","AbortError"))},Te.open(se.method,se.url,!0),se.credentials==="include"?Te.withCredentials=!0:se.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&o.blob&&(Te.responseType="blob"),se.headers.forEach(function(ze,ie){Te.setRequestHeader(ie,ze)}),se.signal&&(se.signal.addEventListener("abort",$e),Te.onreadystatechange=function(){Te.readyState===4&&se.signal.removeEventListener("abort",$e)}),Te.send(typeof se._bodyInit>"u"?null:se._bodyInit)})}return le.polyfill=!0,s.fetch||(s.fetch=le,s.Headers=y,s.Request=q,s.Response=Y),a.Headers=y,a.Request=q,a.Response=Y,a.fetch=le,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Vg,Vg.exports);var Rh=Vg.exports;const dh=NN(Rh),BN=LI({__proto__:null,default:dh},[Rh]),go=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||BN&&Rh.Headers&&t instanceof Rh.Headers?e=HR(t):Array.isArray(t)?t.forEach(([n,r])=>{n&&r!==void 0&&(e[n]=r)}):e=t),e},QT=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),FN=t=>{if(!Array.isArray(t.query)){const r=t,i=[`query=${encodeURIComponent(QT(r.query))}`];return t.variables&&i.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&i.push(`operationName=${encodeURIComponent(r.operationName)}`),i.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const e=t,n=t.query.reduce((r,i,s)=>(r.push({query:QT(i),variables:e.variables?e.jsonSerializer.stringify(e.variables[s]):void 0}),r),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(n))}`},UN=t=>async e=>{const{url:n,query:r,variables:i,operationName:s,fetch:a,fetchOptions:o,middleware:l}=e,u={...e.headers};let c="",d;t==="POST"?(d=jN(r,i,s,o.jsonSerializer),typeof d=="string"&&(u["Content-Type"]="application/json")):c=FN({query:r,variables:i,operationName:s,jsonSerializer:o.jsonSerializer??bv});const p={method:t,headers:u,body:d,...o};let f=n,y=p;if(l){const b=await Promise.resolve(l({...p,url:n,operationName:s,variables:i})),{url:S,...E}=b;f=S,y=E}return c&&(f=`${f}?${c}`),await a(f,y)};class ZT{constructor(e,n={}){this.url=e,this.requestConfig=n,this.rawRequest=async(...r)=>{const[i,s,a]=r,o=qR(i,s,a),{headers:l,fetch:u=dh,method:c="POST",requestMiddleware:d,responseMiddleware:p,...f}=this.requestConfig,{url:y}=this;o.signal!==void 0&&(f.signal=o.signal);const{operationName:b}=pm(o.query);return fm({url:y,query:o.query,variables:o.variables,headers:{...go(mm(l)),...go(o.requestHeaders)},operationName:b,fetch:u,method:c,fetchOptions:f,middleware:d}).then(S=>(p&&p(S),S)).catch(S=>{throw p&&p(S),S})}}async request(e,...n){const[r,i]=n,s=VR(e,r,i),{headers:a,fetch:o=dh,method:l="POST",requestMiddleware:u,responseMiddleware:c,...d}=this.requestConfig,{url:p}=this;s.signal!==void 0&&(d.signal=s.signal);const{query:f,operationName:y}=pm(s.document);return fm({url:p,query:f,variables:s.variables,headers:{...go(mm(a)),...go(s.requestHeaders)},operationName:y,fetch:o,method:l,fetchOptions:d,middleware:u}).then(b=>(c&&c(b),b.data)).catch(b=>{throw c&&c(b),b})}batchRequests(e,n){const r=WR(e,n),{headers:i,...s}=this.requestConfig;r.signal!==void 0&&(s.signal=r.signal);const a=r.documents.map(({document:l})=>pm(l).query),o=r.documents.map(({variables:l})=>l);return fm({url:this.url,query:a,variables:o,headers:{...go(mm(i)),...go(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??dh,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware}).then(l=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l.data)).catch(l=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,n){const{headers:r}=this.requestConfig;return r?r[e]=n:this.requestConfig.headers={[e]:n},this}setEndpoint(e){return this.url=e,this}}const fm=async t=>{const{query:e,variables:n,fetchOptions:r}=t,i=UN($R(t.method??"post")),s=Array.isArray(t.query),a=await i(t),o=await $N(a,r.jsonSerializer??bv),l=Array.isArray(o)?!o.some(({data:c})=>!c):!!o.data,u=Array.isArray(o)||!o.errors||Array.isArray(o.errors)&&!o.errors.length||r.errorPolicy==="all"||r.errorPolicy==="ignore";if(a.ok&&u&&l){const{errors:c,...d}=(Array.isArray(o),o),p=r.errorPolicy==="ignore"?d:o;return{...s?{data:p}:p,headers:a.headers,status:a.status}}else{const c=typeof o=="string"?{error:o}:o;throw new Ku({...c,status:a.status,headers:a.headers},{query:e,variables:n})}},jN=(t,e,n,r)=>{const i=r??bv;if(!Array.isArray(t))return i.stringify({query:t,variables:e,operationName:n});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const s=t.reduce((a,o,l)=>(a.push({query:o,variables:e?e[l]:void 0}),a),[]);return i.stringify(s)},$N=async(t,e)=>{let n;return t.headers.forEach((r,i)=>{i.toLowerCase()==="content-type"&&(n=r)}),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await t.text()):t.text()},mm=t=>typeof t=="function"?t():t;var Nh=function(){return Nh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nh.apply(this,arguments)};function JT(t){return t.reduce(function(e,n){return Nh(Nh({},e),n)},{})}function e2(t){return Object.entries(t)}const qd={includeNodeModules:!1,useFetchPolyfill:!1,options:{method:"get"},clients:{default:{endpoint:"https://test-craft.library.ucla.edu/api",options:{}}}},HN=En(async t=>{let e,n;qd.useFetchPolyfill&&(globalThis.fetch=([e,n]=al(()=>Ne(()=>import("./CP1z4fhg.js"),[],import.meta.url)),e=await e,n(),e).fetch);const r=t.$config.public.graphql,i=(r==null?void 0:r.clients)??{},s={};for(const[a,o]of e2(qd.clients)){const l=i==null?void 0:i[a],u=JT([qd,o,l??{}]);s[a]=new ZT(u.endpoint,u.options)}for(const[a,o]of e2(i)){if(a in s)continue;const l=JT([qd,o??{}]);s[a]=new ZT(l.endpoint,l.options)}return{provide:{graphql:s}}});var VN={},qN=Object.defineProperty,WN=(t,e,n)=>e in t?qN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ze=(t,e,n)=>WN(t,typeof e!="symbol"?e+"":e,n);const Me=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},zN={name:"AlphabeticalBrowseBy",props:{selectedLetterProp:{type:String,default:"All"}},emits:["selectedLetter"],data(){return{alphabet:[{letter:"All"},{letter:"A"},{letter:"B"},{letter:"C"},{letter:"D"},{letter:"E"},{letter:"F"},{letter:"G"},{letter:"H"},{letter:"I"},{letter:"J"},{letter:"K"},{letter:"L"},{letter:"M"},{letter:"N"},{letter:"O"},{letter:"P"},{letter:"Q"},{letter:"R"},{letter:"S"},{letter:"T"},{letter:"U"},{letter:"V"},{letter:"W"},{letter:"X"},{letter:"Y"},{letter:"Z"}],selectedLetter:""}},computed:{parsedAlphabet:{get(){return this.alphabet.map(t=>{let e="letter";return t.letter===this.selectedLetterProp&&this.selectedLetter===""&&(e=`${e} is-selected`),t.letter===this.selectedLetter&&(e=`${e} is-selected`),{...t,class:e}})},set(t){this.alphabet=t}}},methods:{checkIfLetterIsSelected(){this.parsedAlphabet=this.alphabet.map(t=>{let e="letter";return this.selectedLetter===t.letter&&(e=`${e} is-selected`),{...t,class:e}})},handleSelectedLetter(t){this.selectedLetter=t.letter,this.checkIfLetterIsSelected(),this.$emit("selectedLetter",this.selectedLetter)}}},GN=t=>(Ot("data-v-4cdfe747"),t=t(),Rt(),t),YN={class:"alphabetical-browse-by"},KN=GN(()=>I("h2",{class:"title"}," Browse by Last Name ",-1)),XN={class:"alphabet-list"},QN=["onClick"];function ZN(t,e,n,r,i,s){return m(),T("div",YN,[KN,I("ul",XN,[(m(!0),T(we,null,Fe(s.parsedAlphabet,a=>(m(),T("li",{key:a.letter,class:Oe(a.class),onClick:o=>s.handleSelectedLetter(a)},[I("a",null,ye(a.letter),1)],10,QN))),128))])])}const JN=Me(zN,[["render",ZN],["__scopeId","data-v-4cdfe747"]]);function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function gr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function eB(t){return gr(1,arguments),t instanceof Date||Bh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ki(t){gr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Bh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function tB(t){if(gr(1,arguments),!eB(t)&&typeof t!="number")return!1;var e=Ki(t);return!isNaN(Number(e))}function Xa(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function nB(t,e){gr(2,arguments);var n=Ki(t).getTime(),r=Xa(e);return new Date(n+r)}function rB(t,e){gr(2,arguments);var n=Xa(e);return nB(t,-n)}var iB=864e5;function sB(t){gr(1,arguments);var e=Ki(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/iB)+1}function Fh(t){gr(1,arguments);var e=1,n=Ki(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function I5(t){gr(1,arguments);var e=Ki(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Fh(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=Fh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function aB(t){gr(1,arguments);var e=I5(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Fh(n);return r}var oB=6048e5;function lB(t){gr(1,arguments);var e=Ki(t),n=Fh(e).getTime()-aB(e).getTime();return Math.round(n/oB)+1}var uB={};function Rp(){return uB}function Uh(t,e){var n,r,i,s,a,o,l,u;gr(1,arguments);var c=Rp(),d=Xa((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ki(t),f=p.getUTCDay(),y=(f<d?7:0)+f-d;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function M5(t,e){var n,r,i,s,a,o,l,u;gr(1,arguments);var c=Ki(t),d=c.getUTCFullYear(),p=Rp(),f=Xa((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(d+1,0,f),y.setUTCHours(0,0,0,0);var b=Uh(y,e),S=new Date(0);S.setUTCFullYear(d,0,f),S.setUTCHours(0,0,0,0);var E=Uh(S,e);return c.getTime()>=b.getTime()?d+1:c.getTime()>=E.getTime()?d:d-1}function cB(t,e){var n,r,i,s,a,o,l,u;gr(1,arguments);var c=Rp(),d=Xa((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=M5(t,e),f=new Date(0);f.setUTCFullYear(p,0,d),f.setUTCHours(0,0,0,0);var y=Uh(f,e);return y}var dB=6048e5;function hB(t,e){gr(1,arguments);var n=Ki(t),r=Uh(n,e).getTime()-cB(n,e).getTime();return Math.round(r/dB)+1}function Bt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ms={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return Bt(e==="yy"?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):Bt(n+1,2)},d:function(t,e){return Bt(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return Bt(t.getUTCHours()%12||12,e.length)},H:function(t,e){return Bt(t.getUTCHours(),e.length)},m:function(t,e){return Bt(t.getUTCMinutes(),e.length)},s:function(t,e){return Bt(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,n-3));return Bt(i,e.length)}},yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pB={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ms.y(t,e)},Y:function(t,e,n,r){var i=M5(t,r),s=i>0?i:1-i;if(e==="YY"){var a=s%100;return Bt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Bt(s,e.length)},R:function(t,e){var n=I5(t);return Bt(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return Bt(n,e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Ms.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=hB(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Bt(i,e.length)},I:function(t,e,n){var r=lB(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ms.d(t,e)},D:function(t,e,n){var r=sB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours(),i=r/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r=t.getUTCHours(),i;switch(r===12?i=yo.noon:r===0?i=yo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r=t.getUTCHours(),i;switch(r>=17?i=yo.evening:r>=12?i=yo.afternoon:r>=4?i=yo.morning:i=yo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ms.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ms.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ms.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ms.s(t,e)},S:function(t,e){return Ms.S(t,e)},X:function(t,e,n,r){var i=r._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return n2(s);case"XXXX":case"XX":return Aa(s);case"XXXXX":case"XXX":default:return Aa(s,":")}},x:function(t,e,n,r){var i=r._originalDate||t,s=i.getTimezoneOffset();switch(e){case"x":return n2(s);case"xxxx":case"xx":return Aa(s);case"xxxxx":case"xxx":default:return Aa(s,":")}},O:function(t,e,n,r){var i=r._originalDate||t,s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t2(s,":");case"OOOO":default:return"GMT"+Aa(s,":")}},z:function(t,e,n,r){var i=r._originalDate||t,s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t2(s,":");case"zzzz":default:return"GMT"+Aa(s,":")}},t:function(t,e,n,r){var i=r._originalDate||t,s=Math.floor(i.getTime()/1e3);return Bt(s,e.length)},T:function(t,e,n,r){var i=r._originalDate||t,s=i.getTime();return Bt(s,e.length)}};function t2(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var a=e;return n+String(i)+a+Bt(s,2)}function n2(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Bt(Math.abs(t)/60,2)}return Aa(t,e)}function Aa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Bt(Math.floor(i/60),2),a=Bt(i%60,2);return r+s+n+a}var r2=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},D5=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},fB=function(t,e){var n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return r2(t,e);var s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",r2(r,e)).replace("{{time}}",D5(i,e))},mB={p:D5,P:fB};function gB(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var yB=["D","DD"],vB=["YY","YYYY"];function _B(t){return yB.indexOf(t)!==-1}function bB(t){return vB.indexOf(t)!==-1}function i2(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var TB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wB=function(t,e,n){var r,i=TB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var kB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EB={date:gm({formats:kB,defaultWidth:"full"}),time:gm({formats:SB,defaultWidth:"full"}),dateTime:gm({formats:xB,defaultWidth:"full"})},CB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AB=function(t,e,n,r){return CB[t]};function fu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{var o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var LB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RB=function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NB={ordinalNumber:RB,era:fu({values:LB,defaultWidth:"wide"}),quarter:fu({values:IB,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:fu({values:MB,defaultWidth:"wide"}),day:fu({values:DB,defaultWidth:"wide"}),dayPeriod:fu({values:PB,defaultWidth:"wide",formattingValues:OB,defaultFormattingWidth:"wide"})};function mu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?FB(o,function(d){return d.test(a)}):BB(o,function(d){return d.test(a)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(a.length);return{value:u,rest:c}}}function BB(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function FB(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function UB(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;var o=e.slice(i.length);return{value:a,rest:o}}}var jB=/^(\d+)(th|st|nd|rd)?/i,$B=/\d+/i,HB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VB={any:[/^b/i,/^(a|c)/i]},qB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WB={any:[/1/i,/2/i,/3/i,/4/i]},zB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZB={ordinalNumber:UB({matchPattern:jB,parsePattern:$B,valueCallback:function(t){return parseInt(t,10)}}),era:mu({matchPatterns:HB,defaultMatchWidth:"wide",parsePatterns:VB,defaultParseWidth:"any"}),quarter:mu({matchPatterns:qB,defaultMatchWidth:"wide",parsePatterns:WB,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:mu({matchPatterns:zB,defaultMatchWidth:"wide",parsePatterns:GB,defaultParseWidth:"any"}),day:mu({matchPatterns:YB,defaultMatchWidth:"wide",parsePatterns:KB,defaultParseWidth:"any"}),dayPeriod:mu({matchPatterns:XB,defaultMatchWidth:"any",parsePatterns:QB,defaultParseWidth:"any"})},JB={code:"en-US",formatDistance:wB,formatLong:EB,formatRelative:AB,localize:NB,match:ZB,options:{weekStartsOn:0,firstWeekContainsDate:1}},eF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nF=/^'([^]*?)'?$/,rF=/''/g,iF=/[a-zA-Z]/;function Cr(t,e,n){var r,i,s,a,o,l,u,c,d,p,f,y,b,S;gr(2,arguments);var E=String(e),x=Rp(),k=(r=(i=void 0)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:JB,L=Xa((s=(a=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&a!==void 0?a:(u=x.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Xa((d=(p=(f=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&f!==void 0?f:x.weekStartsOn)!==null&&p!==void 0?p:(b=x.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&d!==void 0?d:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var D=Ki(t);if(!tB(D))throw new RangeError("Invalid time value");var M=gB(D),q=rB(D,M),j={firstWeekContainsDate:L,weekStartsOn:A,locale:k,_originalDate:D},W=E.match(tF).map(function(Y){var re=Y[0];if(re==="p"||re==="P"){var le=mB[re];return le(Y,k.formatLong)}return Y}).join("").match(eF).map(function(Y){if(Y==="''")return"'";var re=Y[0];if(re==="'")return sF(Y);var le=pB[re];if(le)return bB(Y)&&i2(Y,e,String(t)),_B(Y)&&i2(Y,e,String(t)),le(q,Y,k.localize,j);if(re.match(iF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return Y}).join("");return W}function sF(t){var e=t.match(nF);return e?e[1].replace(rF,"'"):t}const aF={width:"225",height:"496",viewBox:"0 0 225 496",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oF=I("g",null,[I("path",{opacity:"0.25",d:"M71.1732 72.8843L243 0.393311V49.8933L105.538 107.886L48.6001 247.893L105.538 387.9L243 445.893V495.393L71.1732 422.902L0 247.893L71.1732 72.8843Z",fill:"#F2F2F2"})],-1),lF=[oF];function uF(t,e){return m(),T("svg",aF,[...lF])}const P5={render:uF},cF={width:"900",height:"300",viewBox:"0 0 900 300",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__graphic-hatch-lines"},dF=Yi('<path d="M144.445 318.242L12.7009 0.182617" stroke="#C099FF" stroke-width="1.5" class="svg__stroke--wayfinder"></path><path d="M160.445 318.242L28.7009 0.182617" stroke="#C099FF" stroke-width="1.5" class="svg__stroke--wayfinder"></path><path d="M176.445 318.242L44.7009 0.182617" stroke="#C099FF" stroke-width="1.5" class="svg__stroke--wayfinder"></path><path d="M192.445 318.242L60.7009 0.182617" stroke="#C099FF" stroke-width="1.5" class="svg__stroke--wayfinder"></path><path d="M208.445 318.242L76.7009 0.182617" stroke="#C099FF" stroke-width="2" class="svg__stroke--wayfinder"></path><path d="M224.445 318.242L92.7009 0.182617" stroke="#C099FF" stroke-width="2" class="svg__stroke--wayfinder"></path><path d="M240.445 318.242L108.701 0.182617" stroke="#C099FF" stroke-width="2" class="svg__stroke--wayfinder"></path><path d="M256.445 318.242L124.701 0.182617" stroke="#C099FF" stroke-width="2" class="svg__stroke--wayfinder"></path><path d="M272.445 318.242L140.701 0.182617" stroke="#C099FF" stroke-width="2.5" class="svg__stroke--wayfinder"></path><path d="M288.445 318.242L156.701 0.182617" stroke="#C099FF" stroke-width="2.5" class="svg__stroke--wayfinder"></path><path d="M304.445 318.242L172.701 0.182617" stroke="#C099FF" stroke-width="2.5" class="svg__stroke--wayfinder"></path><path d="M320.445 318.242L188.701 0.182617" stroke="#C099FF" stroke-width="2.5" class="svg__stroke--wayfinder"></path><path d="M336.445 318.242L204.701 0.182617" stroke="#C099FF" stroke-width="3" class="svg__stroke--wayfinder"></path><path d="M352.445 318.242L220.701 0.182617" stroke="#C099FF" stroke-width="3" class="svg__stroke--wayfinder"></path><path d="M368.445 318.242L236.701 0.182617" stroke="#C099FF" stroke-width="3" class="svg__stroke--wayfinder"></path><path d="M384.445 318.242L252.701 0.182617" stroke="#C099FF" stroke-width="3" class="svg__stroke--wayfinder"></path><path d="M400.445 318.242L268.701 0.182617" stroke="#C099FF" stroke-width="3.5" class="svg__stroke--wayfinder"></path><path d="M416.445 318.242L284.701 0.182617" stroke="#C099FF" stroke-width="3.5" class="svg__stroke--wayfinder"></path><path d="M432.445 318.242L300.701 0.182617" stroke="#C099FF" stroke-width="3.5" class="svg__stroke--wayfinder"></path><path d="M448.445 318.242L316.701 0.182617" stroke="#C099FF" stroke-width="3.5" class="svg__stroke--wayfinder"></path><path d="M464.445 318.242L332.701 0.182617" stroke="#C099FF" stroke-width="4" class="svg__stroke--wayfinder"></path><path d="M480.445 318.242L348.701 0.182617" stroke="#C099FF" stroke-width="4" class="svg__stroke--wayfinder"></path><path d="M496.445 318.242L364.701 0.182617" stroke="#C099FF" stroke-width="4" class="svg__stroke--wayfinder"></path><path d="M512.445 318.242L380.701 0.182617" stroke="#C099FF" stroke-width="4" class="svg__stroke--wayfinder"></path><path d="M528.445 318.242L396.701 0.182617" stroke="#C099FF" stroke-width="4.5" class="svg__stroke--wayfinder"></path><path d="M544.445 318.242L412.701 0.182617" stroke="#C099FF" stroke-width="4.5" class="svg__stroke--wayfinder"></path><path d="M560.445 318.242L428.701 0.182617" stroke="#C099FF" stroke-width="4.5" class="svg__stroke--wayfinder"></path><path d="M576.445 318.242L444.701 0.182617" stroke="#C099FF" stroke-width="4.5" class="svg__stroke--wayfinder"></path><path d="M592.445 318.242L460.701 0.182617" stroke="#C099FF" stroke-width="5" class="svg__stroke--wayfinder"></path><path d="M608.445 318.242L476.701 0.182617" stroke="#C099FF" stroke-width="5" class="svg__stroke--wayfinder"></path><path d="M624.445 318.242L492.701 0.182617" stroke="#C099FF" stroke-width="5" class="svg__stroke--wayfinder"></path><path d="M640.445 318.242L508.701 0.182617" stroke="#C099FF" stroke-width="5" class="svg__stroke--wayfinder"></path><path d="M656.445 318.242L524.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M672.445 318.242L540.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M688.445 318.242L556.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M704.445 318.242L572.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M720.445 318.242L588.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M736.445 318.242L604.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M752.445 318.242L620.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M768.445 318.242L636.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M784.445 318.242L654.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M800.445 318.242L670.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M816.445 318.242L686.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M832.445 318.242L702.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M848.445 318.242L718.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M864.445 318.242L734.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path><path d="M880.445 318.242L750.701 0.182617" stroke="#C099FF" stroke-width="5.5" class="svg__stroke--wayfinder"></path>',47),hF=[dF];function pF(t,e){return m(),T("svg",cF,[...hF])}const O5={render:pF},fF={width:"42",height:"100",viewBox:"0 0 42 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__graphic-category-slash"},mF=I("path",{d:"M40.8666 1L20.4532 51.5248L7.48442 83.6237L1.00001 99.6732",stroke:"#0AA5FF","stroke-width":"1.5",class:"svg__stroke--default-cyan-03"},null,-1),gF=[mF];function R5(t,e){return m(),T("svg",fF,[...gF])}const N5={render:R5},B5=Object.freeze(Object.defineProperty({__proto__:null,default:N5,render:R5},Symbol.toStringTag,{value:"Module"}));function Ol(){return Et("theme")}function kv(t=""){let e=!1;return(t==null||String(t).indexOf("/")===0||!t.includes(".")&&t.length!==0)&&(e=!0),e}const yF=["1","_blank","blank"],vF=["",null];function F5(t="",e=""){let n="";return yF.includes(t)||vF.includes(t)&&!kv(e)?n="_blank":n="",n}function _F(t=""){let e=!1;switch(!0){case String(t).indexOf("/")===0:e=!0;break}return e}const bF={name:"SmartLink",props:{to:{type:String,default:""},linkTarget:{type:String,default:""},isDownload:{type:Boolean,default:!1}},computed:{parsedTarget(){return F5(this.linkTarget,this.to)},isRelative(){return!!_F(this.to)}}},TF=["href"],wF=["href","target"],kF={key:3,class:"smart-link is-link"};function SF(t,e,n,r,i,s){const a=lt("router-link");return s.isRelative&&!n.isDownload&&!s.parsedTarget?(m(),oe(a,{key:0,class:"smart-link is-router-link",to:n.to},{default:Ie(()=>[We(t.$slots,"default",{},void 0,!0)]),_:3},8,["to"])):n.isDownload?(m(),T("a",{key:1,href:n.to,class:"smart-link is-link",download:""},[We(t.$slots,"default",{},void 0,!0)],8,TF)):n.to?(m(),T("a",{key:2,href:n.to,target:s.parsedTarget,class:"smart-link is-link"},[We(t.$slots,"default",{},void 0,!0)],8,wF)):(m(),T("button",kF,[We(t.$slots,"default",{},void 0,!0)]))}const pt=Me(bF,[["render",SF],["__scopeId","data-v-09af3d28"]]),xF={class:"label"},EF={class:"hover"},CF={class:"label"},AF={__name:"ButtonLink",props:{to:{type:String,default:""},label:{type:String,default:""},iconName:{type:String,default:""},isSecondary:{type:Boolean,default:!1},isTertiary:{type:Boolean,default:!1},isQuaternary:{type:Boolean,default:!1},isDownload:{type:Boolean,default:!1},linkTarget:{type:String,default:""}},setup(t){const e=t,n=Re(()=>Promise.resolve().then(()=>Rx)),r=Re(()=>Promise.resolve().then(()=>rX)),i=Re(()=>Ne(()=>import("./DA5bfOX-.js"),[],import.meta.url)),s=Re(()=>Promise.resolve().then(()=>H5)),a=Ol(),o=U(()=>["button-link",(a==null?void 0:a.value)||"",e.isSecondary?"is-secondary":e.isTertiary?"is-tertiary":e.isQuaternary?"is-quaternary":""]),l=U(()=>{switch(!0){case e.isDownload:return i;case kv(e.to):return r;case(e.linkTarget==="_blank"||e.iconName==="svg-external-link"):return n;case e.iconName==="icon-close":return s;case e.iconName==="none":return"";default:return n}});return(u,c)=>(m(),oe(pt,{to:t.to,class:Oe(o.value),"is-download":t.isDownload,"link-target":t.linkTarget},{default:Ie(()=>[I("span",xF,ye(t.label),1),l.value!==""?(m(),oe(Lt(l.value),{key:0,class:"arrow","aria-hidden":"true"})):P("",!0),I("div",EF,[I("span",CF,ye(t.label),1),l.value!==""?(m(),oe(Lt(l.value),{key:0,class:"arrow","aria-hidden":"true"})):P("",!0)])]),_:1},8,["to","class","is-download","link-target"]))}},bs=Me(AF,[["__scopeId","data-v-0628b56c"]]),Fc=Object.freeze(Object.defineProperty({__proto__:null,default:bs},Symbol.toStringTag,{value:"Module"})),LF={name:"IconWithLink",components:{SmartLink:pt,SvgIconConsultation:Re(()=>Ne(()=>import("./DMQ3aFv1.js"),[],import.meta.url)),SvgIconList:Re(()=>Promise.resolve().then(()=>Fke)),SvgIconLocation:Re(()=>Ne(()=>import("./CTia1ZT8.js"),[],import.meta.url)),SvgIconPhone:Re(()=>Ne(()=>import("./CxBKLtKu.js"),[],import.meta.url)),SvgIconSearch:Re(()=>Promise.resolve().then(()=>X1e)),SvgIconVirtual:Re(()=>Ne(()=>import("./_7cJYPql.js"),[],import.meta.url)),SvgIconHeadphones:Re(()=>Ne(()=>import("./BmqOuh_1.js"),[],import.meta.url)),SvgIconVideo:Re(()=>Ne(()=>import("./D_m3C8HF.js"),[],import.meta.url)),SvgIconImageStack:Re(()=>Ne(()=>import("./BxijTdEB.js"),[],import.meta.url)),SvgIconMoney:Re(()=>Ne(()=>import("./SqZJTNbG.js"),[],import.meta.url)),SvgIconMessage:Re(()=>Ne(()=>import("./BwS4mFxX.js"),[],import.meta.url)),SvgIconPlay:Re(()=>Ne(()=>import("./C30EAN1W.js"),[],import.meta.url)),SvgIconPlayFilled:Re(()=>Ne(()=>import("./C4tmCuon.js"),[],import.meta.url)),SvgIconEye:Re(()=>Ne(()=>import("./GdzzPrQT.js"),[],import.meta.url)),SvgIconCheck:Re(()=>Ne(()=>import("./BiLN_Jb9.js"),[],import.meta.url)),SvgIconEmail:Re(()=>Ne(()=>import("./DQpadQW2.js"),[],import.meta.url)),SvgIconCard:Re(()=>Promise.resolve().then(()=>Oke)),SvgIconCalendar:Re(()=>Promise.resolve().then(()=>E6)),SvgIconLaptop:Re(()=>Ne(()=>import("./3Mt4oOwI.js"),[],import.meta.url)),SvgIconBook:Re(()=>Ne(()=>import("./udQ65OBv.js"),[],import.meta.url)),SvgIconLocker:Re(()=>Ne(()=>import("./BbJOdKoS.js"),[],import.meta.url)),SvgIconPerson:Re(()=>Ne(()=>import("./CBzLEAew.js"),[],import.meta.url)),SvgIconAccessible:Re(()=>Ne(()=>import("./NLw7hrsJ.js"),[],import.meta.url)),SvgIconClock:Re(()=>Ne(()=>import("./CQNP4Mh6.js"),[],import.meta.url)),SvgIconChair:Re(()=>Ne(()=>import("./B-fZeNxQ.js"),[],import.meta.url)),SvgIconLight:Re(()=>Ne(()=>import("./CrfRVeit.js"),[],import.meta.url)),SvgIconLocationFilled:Re(()=>Ne(()=>import("./BNLJZzJH.js"),[],import.meta.url)),SvgIconAlert:Re(()=>Promise.resolve().then(()=>a5e)),SvgIconShareEmail:Re(()=>Ne(()=>import("./BQ49-a-p.js"),[],import.meta.url)),SvgIconSharePrinter:Re(()=>Promise.resolve().then(()=>ex)),SvgIconShareFacebook:Re(()=>Ne(()=>import("./Dj-v937f.js"),[],import.meta.url)),SvgIconShareInstagram:Re(()=>Ne(()=>import("./CwHvVuor.js"),[],import.meta.url)),SvgIconShareLinkedin:Re(()=>Ne(()=>import("./Dj2N2T05.js"),[],import.meta.url)),SvgIconShareTwitter:Re(()=>Ne(()=>import("./Bn2_Bu2X.js"),[],import.meta.url)),SvgIconShareWhatsapp:Re(()=>Ne(()=>import("./BI2GRskL.js"),[],import.meta.url))},props:{text:{type:String,required:!0},iconName:{type:String,required:!0},to:{type:String,default:""}}},IF={class:"icon-with-link"},MF=["textContent"],DF={key:1,class:"icon-with-link-container"},PF=["textContent"];function OF(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("div",IF,[n.to?(m(),oe(a,{key:0,to:n.to,class:"icon-with-link-container link"},{default:Ie(()=>[(m(),oe(Lt(n.iconName),{class:"icon","aria-hidden":"true"})),I("div",{class:"text",textContent:ye(n.text)},null,8,MF)]),_:1},8,["to"])):(m(),T("div",DF,[(m(),oe(Lt(n.iconName),{class:"icon","aria-hidden":"true"})),I("div",{class:"text",textContent:ye(n.text)},null,8,PF)]))])}const Bn=Me(LF,[["render",OF],["__scopeId","data-v-01f720f5"]]),U5=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"}));function RF(t=""){return t==null?t:t.includes("https://test-craft.library.ucla.edu")?t.replaceAll("https://test-craft.library.ucla.edu",""):t.includes("https://stage-craft.library.ucla.edu")?t.replaceAll("https://stage-craft.library.ucla.edu",""):t.replaceAll("https://craft.library.ucla.edu","")}function NF(t=""){if(t==null)return t;const e=/<a\s+(?:[^>]*?\s+)?target=(["_blank'])(.*?)\1*>(.*?)<\/a>/g;return t.replace(e,n=>`${n.replace("</a>","")}<span class="visually-hidden">(opens in a new tab)</span></a>`)}const BF={name:"RichText",components:{},props:{richTextContent:{type:String,default:""}},computed:{parsedContent(){const t=RF(this.richTextContent);return NF(t)}}},FF={class:"rich-text"},UF=["innerHTML"];function jF(t,e,n,r,i,s){return m(),T("div",FF,[I("div",{class:"parsed-content",innerHTML:s.parsedContent},null,8,UF),We(t.$slots,"default",{},void 0,!0)])}const ir=Me(BF,[["render",jF],["__scopeId","data-v-2b9868ae"]]),j5=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),$F=["src","height","width","alt","srcset","sizes","object-fit"],HF=["innerHTML"],VF={key:1,class:"credit"},qF={class:"credit-text"},WF=Be({__name:"ResponsiveImage",props:{media:{type:Object,default:()=>{}},src:{type:String,default:""},height:{type:Number,default:0},width:{type:Number,default:0},alt:{type:String,default:""},srcset:{type:String,default:""},sizes:{type:String,default:""},caption:{type:String,default:""},aspectRatio:{type:Number,default:0},objectFit:{type:String,default:""}},setup(t){const e=t,n=de(!1),r=de(!1);function i(){n.value=!0}function s(){r.value=!0}const a=U(()=>{let c="";return e.media.focalPoint&&e.media.focalPoint.length>0&&(c=`object-position:${e.media.focalPoint.map(d=>`${d*100}%`).join(" ")}`),c}),o=U(()=>{const c=e.media.height||e.height,d=e.media.width||e.width;return e.aspectRatio||c/d*100}),l=U(()=>({paddingBottom:`${o.value}%`})),u=U(()=>["responsive-image",`object-fit-${e.objectFit}`,{"has-loaded":n},{"has-errored":r}]);return(c,d)=>e.media&&e.media.src?(m(),T("figure",{key:0,class:Oe(u.value)},[I("img",{src:e.media.src||e.src,height:e.media.width||e.width,width:e.media.height||e.height,alt:e.media.alt||e.alt,srcset:e.media.srcset||e.srcset,sizes:e.media.sizes||e.sizes,"object-fit":e.objectFit,style:gn(a.value),class:"media",onLoad:i,onError:s},null,44,$F),e.media.caption||e.caption?(m(),T("figcaption",{key:0,class:"caption",innerHTML:e.media.caption||e.caption},null,8,HF)):P("",!0),I("div",{class:"sizer",style:gn(l.value)},null,4),We(c.$slots,"default",{},void 0,!0),c.$slots.credit?(m(),T("div",VF,[I("div",qF,[We(c.$slots,"credit",{},void 0,!0)])])):P("",!0)],2)):P("",!0)}}),Fn=Me(WF,[["__scopeId","data-v-7d111af4"]]),zF=t=>(Ot("data-v-bcb2de16"),t=t(),Rt(),t),GF=["src","alt","controls","autoplay","muted","loop","playsinline"],YF=zF(()=>I("div",{class:"background-color"},null,-1)),KF=Be({__name:"ResponsiveVideo",props:{media:{type:Object,default:()=>({})},mode:{type:String,default:"intrinsic-ratio"},aspectRatio:{type:Number,default:0},objectFit:{type:String,default:"cover"},playsinline:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},controls:{type:Boolean,default:!1}},emits:["ended","error","error-image","error-video","loaded","loaded-image","loaded-video","playing"],setup(t,{emit:e}){const n=t,r=e,i=de(null),s=xn({video:!1}),a=de({video:!1}),o=U(()=>Object.values(a.value).includes(!0)),l=U(()=>Object.values(s).every(Boolean)),u=U(()=>n.media.src),c=U(()=>{const M=n.media.height;return M&&typeof M=="string"?Number.parseInt(M):M}),d=U(()=>{const M=n.media.width;return M&&typeof M=="string"?Number.parseInt(M):M}),p=U(()=>{let M="landscape";switch(!0){case c.value>d.value:M="portrait";break;case c.value===d.value:M="square";break}return M}),f=U(()=>["responsive-video",`mode-${n.mode}`,{"has-loaded":l.value},{"has-error":o.value},{"has-video-error":a.value.video},`is-orientation-${p.value}`,`object-fit-${n.objectFit}`]),y=U(()=>{let M=n.aspectRatio||c.value/d.value*100;return M||(M=0),M}),b=U(()=>n.media.focalPoint.length>0?{x:n.media.focalPoint[0],y:n.media.focalPoint[1]}:{x:"0.5",y:"0.5"}),S=U(()=>n.media.alt),E=U(()=>{const M={};return n.mode==="intrinsic-ratio"&&(M.paddingBottom=`${y.value}%`),M}),x=U(()=>{const M={};return b.value.x!==""&&b.value.y!==""&&(M.objectPosition=`${b.value.x}% ${b.value.y}%`),M});St(u,M=>{M&&(s.video=!1,a.value.video=!1)}),Ht(()=>{u.value&&(s.video=i.value.readyState>=3)});function k(M){s[M]=!0,r("loaded",M),r(`loaded-${M}`)}function L(M){a.value[M]=!0,r("error",M),r(`error-${M}`)}function A(M){r("ended",M)}function D(){r("playing")}return(M,q)=>(m(),T("figure",{class:Oe(f.value)},[u.value?(m(),T("video",{key:0,ref_key:"videoRef",ref:i,class:"media media-video",src:u.value,alt:S.value,style:gn(x.value),controls:t.controls,autoplay:t.autoplay,muted:t.muted,loop:t.loop,playsinline:t.playsinline,onLoadeddata:q[0]||(q[0]=j=>k("video")),onError:q[1]||(q[1]=j=>L("video")),onEnded:A,onPlaying:D},null,44,GF)):P("",!0),I("div",{class:"sizer",style:gn(E.value)},null,4),YF,We(M.$slots,"default",{},void 0,!0)],2))}}),Sv=Me(KF,[["__scopeId","data-v-bcb2de16"]]),XF={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-close"},QF=I("circle",{cx:"16",cy:"15.8645",r:"12",fill:"#F2F2F2",class:"svg__fill--secondary-grey-01"},null,-1),ZF=I("path",{d:"M22 21.8088 10 9.91943",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),JF=I("path",{d:"m10.0497 21.8645 11.9017-12",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),eU=[QF,ZF,JF];function $5(t,e){return m(),T("svg",XF,[...eU])}const yc={render:$5},H5=Object.freeze(Object.defineProperty({__proto__:null,default:yc,render:$5},Symbol.toStringTag,{value:"Module"})),Ts=t=>(Ot("data-v-a5726d35"),t=t(),Rt(),t),tU={key:0,class:"success-message"},nU=Ts(()=>I("h3",null,"Registration complete",-1)),rU=Ts(()=>I("p",null,"Please check your email to view your booking.",-1)),iU={key:1,id:"app",method:"post",class:"form"},sU={class:"formTitleWrapper"},aU=Ts(()=>I("h3",{class:"formTitle"}," Registration ",-1)),oU={key:0,class:"form-errors"},lU=Ts(()=>I("p",null," Please complete the required fields to complete registration ",-1)),uU=[lU],cU={key:1},dU=Ts(()=>I("div",{class:"registrationInfo"},[I("p",null,"Registration is required for this event.")],-1)),hU={key:2,class:"input-wrapper input-radio"},pU=Ts(()=>I("legend",null,[tt(" Registration Type "),I("span",{class:"required"},"(required)")],-1)),fU={for:"in-person"},mU={for:"online"},gU={class:"input-wrapper"},yU=Ts(()=>I("label",null,[tt("Full Name "),I("span",{class:"required"},"(required)")],-1)),vU={class:"input-container"},_U={key:3,class:"input-wrapper"},bU={for:"email"},TU={key:0},wU=Ts(()=>I("span",{class:"required"},"(required)",-1)),kU={key:1},SU=["required"],xU=["for"],EU={key:0,class:"required"},CU={key:1,class:"textareaWrapper"},AU=["for"],LU={key:0,class:"required"},IU=["onUpdate:modelValue"],MU={key:2,class:"radio-wrapper"},DU=["for"],PU=["id","onUpdate:modelValue","value","name"],OU={key:3,class:"checkbox-wrapper"},RU=["id","onUpdate:modelValue","true-value","value"],NU=["for"],BU=["id","onUpdate:modelValue","name"],FU=Ts(()=>I("option",{disabled:"",value:""}," Please select one ",-1)),UU=["value"],jU={__name:"BlockForm",setup(t){const e=Re(()=>Promise.resolve().then(()=>Fc)),n=Et("eventId"),r=Et("blockFormData"),i=Et("registrationType"),s=Et("libcalWaitlist"),a=Et("libcalEndpoint");console.log("BlockForm eventId",n.value),console.log("BlockForm blockFormData",r.value),console.log("BlockForm registrationType",i.value),console.log("BlockForm libcalWaitlist",s.value),console.log("BlockForm libcalEndpoint",a);const o=de([]),l=de(""),u=de(""),c=de(""),d=de({}),p=de({}),f=de(null),y=de(!1),b=de(!1),S=de({}),E=de(!1),x=de(""),k=U(()=>r.value.questions?r.value.questions.map(j=>(j.type==="string"||j.type==="radio"||j.type==="dropdown"?p.value[j.id]="":p.value[j.id]=[],d.value[j.id]=j.required,{...j,classes:`input-${j.type}`})):[]);function L(){console.log("registrationTypeInput",x.value,i.value&&i==="both");const j={form:{first_name:l.value,last_name:u.value,email:c.value,questions:[]},registration_type:i&&i.value!=="both"&&i.value!==""?i.value:i.value&&i.value==="both"?x.value:"",is_waitlist:s.value&&s.value!==""?s.value:"0"};j.form.questions=r.value.questions.map(Y=>({id:Y.id,answer:p.value[Y.id]})),console.log("data submitting",JSON.stringify(j));let W="";console.log("eventId",n),a?W=`${a}api/1.1/events/${n.value}/register`:W=`${VN.VUE_APP_CALENDAR_LIBRARY_URL}${n}/register`,fetch(W,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(j)}).then(()=>{b.value=!0,S.value={code:"success",text:"One seat is sent to LibCal to be registered or will be on wait list"}}).catch(Y=>{console.error(Y),b.value=!0,S.value={code:"error",text:Y}})}function A(){let j=!1,W=!1,Y=!1;l.value&&u.value&&(j=!0),r.value.emailMethod.status==="required"&&c.value&&(W=!0),i&&i.value==="both"&&x.value===""?Y=!1:(i&&i.value,Y=!0),o.value=[],j||o.value.push("Full Name 1 required."),W||o.value.push("Email 2 required."),Y||o.value.push("Registration Type 3 required.");for(const re of r.value.questions)d.value[re.id]&&!p.value[re.id]?re.type==="string"?o.value.push(`${r.value.questions.label} 4a required.`):o.value.push(`${re.label} 4b required.`):d.value[re.id]&&re.type==="checkbox"&&p.value[re.id].length===0&&o.value.push(`${re.label} 4c required.`);o.value.length===0?L():window.scrollTo(0,0)}function D(){E.value=!0}function M(){E.value=!1}function q(){clearTimeout(f.value),y.value=!1,E.value=!1}return St(S,()=>{y.value=!0,f.value=setTimeout(q,113e3)}),(j,W)=>E.value?(m(),T("div",{key:1,class:Oe(["block-form",{"form-error":o.value.length,"form-success":y.value}])},[y.value?(m(),T("div",tU,[nU,rU,I("button",{type:"button",class:"notification--remove",onClick:W[1]||(W[1]=Y=>q())},[ae($(yc),{class:"svg-glyph-close"})])])):(m(),T("form",iU,[I("div",sU,[aU,I("button",{type:"button",onClick:W[2]||(W[2]=Y=>M())},[ae($(yc),{class:"svg-glyph-close"})])]),o.value.length?(m(),T("div",oU,uU)):P("",!0),o.value.length?(m(),T("br",cU)):P("",!0),dU,$(i)==="both"?(m(),T("div",hU,[pU,I("label",fU,[un(I("input",{id:"in-person","onUpdate:modelValue":W[3]||(W[3]=Y=>x.value=Y),type:"radio",value:"in-person",required:""},null,512),[[ih,x.value]]),tt("in-person")]),I("label",mU,[un(I("input",{id:"online","onUpdate:modelValue":W[4]||(W[4]=Y=>x.value=Y),type:"radio",value:"online"},null,512),[[ih,x.value]]),tt(" online")])])):P("",!0),I("div",gU,[yU,I("div",vU,[un(I("input",{id:"firstName","onUpdate:modelValue":W[5]||(W[5]=Y=>l.value=Y),type:"text",name:"firstName",required:"",placeholder:"First Name"},null,512),[[Iu,l.value]]),un(I("input",{id:"lastName","onUpdate:modelValue":W[6]||(W[6]=Y=>u.value=Y),type:"text",name:"lastName",required:"",placeholder:"Last Name"},null,512),[[Iu,u.value]])])]),$(r).emailMethod?(m(),T("div",_U,[I("label",bU,[$(r).emailMethod.status==="required"?(m(),T("span",TU,[tt(" Email "),wU])):(m(),T("span",kU,"Email"))]),un(I("input",Xt({id:"email","onUpdate:modelValue":W[7]||(W[7]=Y=>c.value=Y),type:"email",name:"email",required:$(r).emailMethod.status},{}),null,16,SU),[[Iu,c.value]])])):P("",!0),(m(!0),T(we,null,Fe(k.value,Y=>(m(),T("div",{key:Y.id,class:"input-wrapper parsedQuestionsLabelWrapper"},[Y.type!=="string"?(m(),T("label",{key:0,for:Y.id,class:Oe(Y.required?"questionRequired":"")},[tt(ye(Y.label)+" ",1),Y.required?(m(),T("span",EU," (required) ")):P("",!0)],10,xU)):P("",!0),Y.type==="string"?(m(),T("div",CU,[I("label",{for:Y.id,class:Oe(Y.required?"questionRequired":"")},[tt(ye(Y.label)+" ",1),Y.required?(m(),T("span",LU,"(required)")):P("",!0)],10,AU),un(I("textarea",{"onUpdate:modelValue":re=>p.value[Y.id]=re,placeholder:"Add multiple lines"},null,8,IU),[[Iu,p.value[Y.id]]])])):P("",!0),Y.type==="radio"?(m(),T("div",MU,[(m(!0),T(we,null,Fe(Y.options,(re,le)=>(m(),T("div",{key:le,class:"radioWrapper"},[I("label",{for:re},[un(I("input",{id:re,"onUpdate:modelValue":F=>p.value[Y.id]=F,type:"radio",value:re,name:Y.id},null,8,PU),[[ih,p.value[Y.id]]]),tt(" "+ye(re),1)],8,DU)]))),128))])):P("",!0),Y.type==="checkbox"?(m(),T("div",OU,[(m(!0),T(we,null,Fe(Y.options,(re,le)=>(m(),T("div",{key:le,class:"checkboxWrapper"},[un(I("input",{id:re,"onUpdate:modelValue":F=>p.value[Y.id]=F,type:"checkbox","true-value":re,value:re},null,8,RU),[[bS,p.value[Y.id]]]),I("label",{for:re},ye(re),9,NU)]))),128))])):P("",!0),Y.type==="dropdown"?un((m(),T("select",{key:4,id:Y.id,"onUpdate:modelValue":re=>p.value[Y.id]=re,name:Y.id,class:Oe(["input-dropdown",Y.classes])},[FU,(m(!0),T(we,null,Fe(Y.options,(re,le)=>(m(),T("option",{key:le,value:re},ye(re),9,UU))),128))],10,BU)),[[GD,p.value[Y.id]]]):P("",!0)]))),128)),ae($(e),{type:"submit",label:"Register","icon-name":"none","is-secondary":!0,onClick:Mr(A,["prevent"])})]))],2)):(m(),oe($(e),{key:0,label:"Register","icon-name":"none","is-secondary":!0,class:"register-button",onClick:W[0]||(W[0]=Mr(Y=>D(),["prevent"]))}))}},Np=Me(jU,[["__scopeId","data-v-a5726d35"]]);function Uc(t="",e=""){const n=Cr(new Date(t),"h:mm aaa"),r=Cr(new Date(e),"h:mm aaa");let i=`${n} - ${r}`;return n===r&&(i=Cr(new Date(t),"h:mm aaa")),e||(i=n),i}function no(t="",e=""){const n=Cr(new Date(t),"MMMM d, Y"),r=Cr(new Date(e),"MMMM d, Y");let i=`${n} - ${r}`;return n===r&&(i=Cr(new Date(t),"MMMM d, Y")),e||(i=n),i}function qr(t=""){let e="default";if(t==null)return e;switch(!0){case t.includes("/help/"):case t.includes("/projects/"):e="help";break;case t.includes("/about/"):case t.includes("/impact/"):case t.includes("/applicants/"):e="about";break;case t.includes("/visit/"):case t.includes("/events-exhibits/"):case t.includes("/who-we-are/"):e="visit";break}return e}function xv(t=""){return t===null||t.match(/^(http|https):\/\//)||t.startsWith("/")||(t=`/${t}`),t}const $U={class:"slot"},HU={key:0,class:"breadcrumb"},VU={class:"text"},qU={key:0,class:"gradient"},WU={class:"hatch-box"},zU={class:"clipped-box"},GU=["innerHTML"],YU={class:"hatch"},KU={class:"meta"},XU=["innerHTML"],QU={key:1},ZU={key:2},JU=["innerHTML"],ej={class:"meta-text"},tj={key:0,class:"date-created"},nj=["innerHTML"],rj={key:1,class:"byline"},ij=["innerHTML"],sj={key:3,class:"schedule"},aj=["innerHTML"],oj=["innerHTML"],lj={key:4,class:"location-group"},uj={key:0,class:"block-form-container"},cj=Be({__name:"BannerFeatured",props:{media:{type:Object,default:()=>{}},title:{type:String,required:!0},description:{type:String,default:""},category:{type:String,default:""},dateCreated:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},locations:{type:Array,default:()=>[]},byline:{type:Array,default:()=>[]},to:{type:String,default:""},breadcrumb:{type:String,default:""},prompt:{type:String,default:""},alignRight:{type:Boolean,default:!0},ratio:{type:Number,default:56.25},registerEvent:{type:Boolean,default:!1},titleLink:{type:String,default:""},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=U(()=>{if(e.media&&e.media.src){const y=e.media.src.toLowerCase().split(".").pop();return y==="mp4"||y==="m4a"||y==="f4v"||y==="m4b"||y==="mov"}else return!1}),r=U(()=>n.value?Sv:Fn),i=U(()=>n.value?null:e.media),s=U(()=>{if(!n.value)return null;const y=e.media;return{src:y.src,focalPoint:y.focalPoint,sizes:y.sizes,height:y.height,width:y.width,alt:y.alt,caption:y.caption,poster:y.poster}}),a=U(()=>n.value?s.value:i.value),o=U(()=>e.ratio),l=U(()=>e.locations.map(y=>({...y,svg:y.title==="Online"?"svg-icon-virtual":"svg-icon-location",class:y.title==="Online"?"location-online":"location-link",to:y.to!=null?xv(y.to):""}))),u=U(()=>no(e.startDate,e.endDate)),c=U(()=>Cr(new Date(e.dateCreated),"MMMM d, Y")),d=U(()=>e.startDate&&e.sectionHandle==="event"?Uc(e.startDate,e.endDate):""),p=U(()=>qr(e.to)),f=U(()=>["banner-featured",{"hatch-left":!e.alignRight},`color-${p.value}`]);return(y,b)=>(m(),T("div",{class:Oe(f.value)},[I("div",$U,[We(y.$slots,"default",{},()=>[t.breadcrumb?(m(),T("div",HU,[ae($(N5),{class:"heading-line","aria-hidden":"true"}),I("h2",VU,ye(t.breadcrumb),1)])):P("",!0)],!0)]),(m(),oe(Lt(r.value),{class:"media",media:a.value,"aspect-ratio":o.value},{default:Ie(()=>[n.value?P("",!0):(m(),T("div",qU)),ae($(P5),{class:"molecule","aria-hidden":"true"})]),_:1},8,["media","aspect-ratio"])),I("div",WU,[I("div",zU,[t.category?(m(),T("h2",{key:0,class:"category category-mobile",innerHTML:t.category},null,8,GU)):P("",!0)]),I("div",YU,[ae($(O5),{class:"svg","aria-hidden":"true"})])]),I("div",KU,[t.category?(m(),T("div",{key:0,class:"category category-desktop",innerHTML:t.category},null,8,XU)):P("",!0),t.titleLink.length>0?(m(),T("div",QU,[ae(pt,{id:"banner-featured",to:t.titleLink,class:"title title-linked"},{default:Ie(()=>[tt(ye(t.title),1)]),_:1},8,["to"])])):(m(),T("div",ZU,[I("h3",{id:"banner-featured",class:"title",innerHTML:t.title},null,8,JU)])),I("div",ej,[t.dateCreated?(m(),T("div",tj,[t.dateCreated?(m(),T("time",{key:0,class:"date-created",innerHTML:c.value},null,8,nj)):P("",!0)])):P("",!0),t.byline.length?(m(),T("div",rj,[(m(!0),T(we,null,Fe(t.byline,(S,E)=>(m(),T("div",{key:`external-${E}`,class:"byline-item",innerHTML:S},null,8,ij))),128))])):P("",!0),t.description?(m(),oe(ir,{key:2,class:"description","rich-text-content":t.description},null,8,["rich-text-content"])):P("",!0),t.startDate||t.endDate?(m(),T("div",sj,[t.startDate?(m(),T("time",{key:0,class:"schedule-item",innerHTML:u.value},null,8,aj)):P("",!0),d.value?(m(),T("time",{key:1,class:"schedule-item",innerHTML:d.value},null,8,oj)):P("",!0)])):P("",!0),t.locations.length?(m(),T("div",lj,[(m(!0),T(we,null,Fe(l.value,S=>(m(),oe(Bn,{key:`location-${S.id}`,text:S.title,"icon-name":S.svg,to:S.to,class:Oe(S.class)},null,8,["text","icon-name","to","class"]))),128))])):P("",!0)]),t.to?(m(),oe(bs,{key:3,id:"banner-featured-button",label:t.prompt,to:t.to,"aria-labelledby":"banner-featured-button banner-featured",class:"button"},null,8,["label","to"])):P("",!0)]),!t.to&&t.registerEvent?(m(),T("div",uj,[ae(Np)])):P("",!0)],2))}}),qg=Me(cj,[["__scopeId","data-v-22c151a4"]]),dj=t=>(Ot("data-v-3a64bf88"),t=t(),Rt(),t),hj={key:0,class:"category"},pj=["innerHTML"],fj={class:"hatch-box"},mj=dj(()=>I("div",{class:"clipped-box"},null,-1)),gj={class:"hatch"},yj={class:"meta"},vj=["innerHTML"],_j={class:"meta-text"},bj={class:"meta-block"},Tj={key:0,class:"byline-item"},wj={key:1,class:"subject-areas"},kj=["innerHTML"],Sj=["innerHTML"],xj=["innerHTML"],Ej={key:0,class:"contact-info-group"},Cj={key:1,class:"location-group"},Aj={key:1,class:"block-form-container"},Lj=Be({__name:"BannerHeader",props:{media:{type:Object,default:()=>{}},title:{type:String,required:!0},text:{type:String,default:""},byline:{type:Array,default:()=>[]},contributors:{type:Array,default:()=>[]},subjectAreas:{type:Array,default:()=>[]},dateCreated:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},locations:{type:Array,default:()=>[]},to:{type:String,default:""},category:{type:String,default:""},prompt:{type:String,default:""},alignRight:{type:Boolean,default:!0},ratio:{type:Number,default:56.25},email:{type:String,default:""},phone:{type:String,default:""},address:{type:String,default:""},addressLink:{type:String,default:""},staffDirectoryLink:{type:String,default:""},isEvent:{type:Boolean,default:!1},registerEvent:{type:Boolean,default:!1},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=Re(()=>Promise.resolve().then(()=>Fc)),r=Re(()=>Promise.resolve().then(()=>j5)),i=Re(()=>Promise.resolve().then(()=>U5)),s=Re(()=>Promise.resolve().then(()=>B5)),a=U(()=>qr(e.to)),o=U(()=>["banner-header",{"hatch-left":!e.alignRight},`color-${a.value}`]),l=U(()=>{if(e.media&&e.media.src){const k=e.media.src.toLowerCase().split(".").pop();return k==="mp4"||k==="m4a"||k==="f4v"||k==="m4b"||k==="mov"}else return!1}),u=U(()=>l.value?Sv:Fn),c=U(()=>l.value?null:e.media),d=U(()=>{if(!l.value)return null;const k=e.media;return{src:k.src,focalPoint:k.focalPoint,sizes:k.sizes,height:k.height,width:k.width,alt:k.alt,caption:k.caption,poster:k.poster}}),p=U(()=>l.value?d.value:c.value),f=U(()=>Cr(new Date(e.dateCreated),"MMMM d, Y")),y=U(()=>no(e.startDate,e.endDate)),b=U(()=>e.startDate&&e.sectionHandle==="event"?Uc(e.startDate,e.endDate):""),S=U(()=>e.ratio),E=U(()=>e.category?"gradient":"gradient-no-category"),x=U(()=>e.locations.map(k=>{let L="svg-icon-location";return k.title==="Online"&&(L="svg-icon-virtual"),{...k,svg:L,to:k.to!=null?xv(k.to):""}}));return(k,L)=>(m(),T("div",{class:Oe(o.value)},[t.category?(m(),T("div",hj,[ae($(s),{class:"heading-line","aria-hidden":"true"}),I("div",{class:"text",innerHTML:t.category},null,8,pj)])):P("",!0),(m(),oe(Lt(u.value),{class:"media",media:p.value,"aspect-ratio":S.value},{default:Ie(()=>[l.value?P("",!0):(m(),T("div",{key:0,class:Oe(E.value)},null,2)),ae($(P5),{class:"molecule","aria-hidden":"true"})]),_:1},8,["media","aspect-ratio"])),I("div",fj,[mj,I("div",gj,[ae($(O5),{class:"svg","aria-hidden":"true"})])]),I("div",yj,[I("h1",{class:"title",innerHTML:t.title},null,8,vj),t.text?(m(),oe($(r),{key:0,class:"snippet","rich-text-content":t.text},null,8,["rich-text-content"])):P("",!0),un(I("div",_j,[un(I("div",bj,[t.byline.length?(m(),T("div",Tj,[(m(!0),T(we,null,Fe(t.byline,(A,D)=>(m(),T("div",{key:`${A}-${D}`,class:"byline-item"},ye(A),1))),128))])):P("",!0),t.subjectAreas.length?(m(),T("div",wj,[(m(!0),T(we,null,Fe(t.subjectAreas,(A,D)=>(m(),T("div",{key:`${A.title}-${D}`},ye(A.title),1))),128))])):P("",!0),t.dateCreated?(m(),T("time",{key:2,class:"date-created",innerHTML:f.value},null,8,kj)):P("",!0),t.startDate?(m(),T("time",{key:3,class:"schedule-item",innerHTML:y.value},null,8,Sj)):P("",!0),b.value?(m(),T("time",{key:4,class:"schedule-item",innerHTML:b.value},null,8,xj)):P("",!0)],512),[[hi,t.byline.length||t.subjectAreas.length||t.dateCreated||t.startDate]]),t.email||t.phone||t.staffDirectoryLink||t.addressLink?(m(),T("div",Ej,[t.email?(m(),oe($(i),{key:0,text:t.email,"icon-name":"svg-icon-email",to:`mailto:${t.email}`},null,8,["text","to"])):P("",!0),t.phone?(m(),oe($(i),{key:1,text:t.phone,"icon-name":"svg-icon-phone",to:`tel:${t.phone}`},null,8,["text","to"])):P("",!0),t.staffDirectoryLink?(m(),oe($(i),{key:2,text:"View staff directory","icon-name":"svg-icon-person",to:t.staffDirectoryLink},null,8,["to"])):P("",!0),t.addressLink?(m(),oe($(i),{key:3,text:t.address,"icon-name":"svg-icon-location",to:t.addressLink},null,8,["text","to"])):P("",!0)])):P("",!0),t.locations.length?(m(),T("div",Cj,[(m(!0),T(we,null,Fe(x.value,A=>(m(),oe($(i),{key:`location-${A.id}`,text:A.title,"icon-name":A.svg,to:A.to},null,8,["text","icon-name","to"]))),128))])):P("",!0)],512),[[hi,t.byline.length||t.subjectAreas.length||t.dateCreated||t.startDate||t.email||t.phone||t.staffDirectoryLink||t.addressLink]]),t.to?(m(),oe($(n),{key:1,label:t.prompt,"is-secondary":!0,class:"button",to:t.to},null,8,["label","to"])):P("",!0)]),!t.to&&t.registerEvent?(m(),T("div",Aj,[ae(Np)])):P("",!0)],2))}}),Ij=Me(Lj,[["__scopeId","data-v-3a64bf88"]]),Mj={class:"banner-text"},Dj={class:"banner-text-content-container"},Pj={key:0,class:"category"},Oj=["innerHTML"],Rj={class:"content"},Nj={class:"title"},Bj=["lang","innerHTML"],Fj={key:1,class:"meta-block"},Uj={key:0,class:"byline-item"},jj={key:1,class:"subject-areas"},$j={key:2,class:"contact-info"},Hj={key:3,class:"contact-info"},Vj={key:4,class:"contact-info"},qj={key:5,class:"contact-info"},Wj={key:6,class:"schedule"},zj=["innerHTML"],Gj=["innerHTML"],Yj=["innerHTML"],Kj={key:3,class:"schedule-item"},Xj={key:2,class:"location-group"},Qj={key:0,class:"block-form-container"},Zj=Be({__name:"BannerText",props:{category:{type:String,default:""},title:{type:String,default:"",required:!0},alternativeFullName:{type:String,default:""},language:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},dateCreated:{type:String,default:""},locations:{type:Array,default:()=>[]},isOnline:{type:Boolean,default:!1},text:{type:String,default:""},buttonText:{type:String,default:""},to:{type:String,default:""},isDarkBlue:{type:Boolean,default:!1},email:{type:String,default:""},phone:{type:String,default:""},address:{type:String,default:""},addressLink:{type:String,default:""},staffDirectoryLink:{type:String,default:""},articleType:{type:String,default:""},byline:{type:Array,default:()=>[]},subjectAreas:{type:Array,default:()=>[]},registerEvent:{type:Boolean,default:!1},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=Re(()=>Promise.resolve().then(()=>Fc)),r=Re(()=>Promise.resolve().then(()=>j5)),i=Re(()=>Promise.resolve().then(()=>U5)),s=Re(()=>Promise.resolve().then(()=>B5)),a=U(()=>{let f=["banner-text-container","theme-light"];return e.isDarkBlue&&(f=["banner-text-container","theme-dark"]),f}),o=U(()=>qr(e.to)),l=U(()=>["text",`color-${o.value}`]),u=U(()=>Cr(new Date(e.dateCreated),"MMMM d, Y")),c=U(()=>no(e.startDate,e.endDate)),d=U(()=>e.startDate&&e.sectionHandle==="event"?Uc(e.startDate,e.endDate):""),p=U(()=>e.locations.map(f=>{let y="svg-icon-location";return f.title==="Online"&&(y="svg-icon-virtual"),{...f,svg:y,to:f.to!=null?xv(f.to):""}}));return(f,y)=>(m(),T("div",Mj,[I("div",{class:Oe(a.value)},[I("div",Dj,[t.category?(m(),T("div",Pj,[ae($(s),{class:"heading-line","aria-hidden":"true"}),I("div",{class:Oe(l.value),innerHTML:t.category},null,10,Oj)])):P("",!0),I("div",Rj,[I("h1",Nj,[tt(ye(t.title)+" ",1),t.alternativeFullName?(m(),T("span",{key:0,lang:t.language,class:"translation",innerHTML:t.alternativeFullName},null,8,Bj)):P("",!0)]),t.text?(m(),oe($(r),{key:0,class:"text","rich-text-content":t.text},null,8,["rich-text-content"])):P("",!0),t.byline||t.subjectAreas||t.startDate||t.phone||t.email||t.addressLink||t.staffDirectoryLink?(m(),T("div",Fj,[t.byline?(m(),T("div",Uj,[(m(!0),T(we,null,Fe(t.byline,(b,S)=>(m(),T("div",{key:`${b}-${S}`},ye(b),1))),128))])):P("",!0),t.subjectAreas?(m(),T("div",jj,[(m(!0),T(we,null,Fe(t.subjectAreas,(b,S)=>(m(),T("div",{key:`${b.title}-${S}`},ye(b.title),1))),128))])):P("",!0),t.email?(m(),T("div",$j,[ae($(i),{text:t.email,"icon-name":"svg-icon-email",to:`mailto:${t.email}`},null,8,["text","to"])])):P("",!0),t.phone?(m(),T("div",Hj,[ae($(i),{text:t.phone,"icon-name":"svg-icon-phone",to:`tel:${t.phone}`},null,8,["text","to"])])):P("",!0),t.staffDirectoryLink?(m(),T("div",Vj,[ae($(i),{text:"View staff directory","icon-name":"svg-icon-person",to:t.staffDirectoryLink},null,8,["to"])])):P("",!0),t.addressLink?(m(),T("div",qj,[ae($(i),{text:t.address,"icon-name":"svg-icon-location",to:t.addressLink},null,8,["text","to"])])):P("",!0),t.startDate||t.dateCreated?(m(),T("div",Wj,[t.dateCreated?(m(),T("time",{key:0,class:"date-created",innerHTML:u.value},null,8,zj)):P("",!0),t.startDate?(m(),T("time",{key:1,class:"schedule-item",innerHTML:c.value},null,8,Gj)):P("",!0),d.value?(m(),T("time",{key:2,class:"schedule-item",innerHTML:d.value},null,8,Yj)):P("",!0),t.isOnline?(m(),T("div",Kj," Online ")):P("",!0)])):P("",!0)])):P("",!0),t.locations.length?(m(),T("div",Xj,[(m(!0),T(we,null,Fe(p.value,b=>(m(),oe($(i),{key:`location-${b.id}`,text:b.title,"icon-name":b.svg,to:b.to},null,8,["text","icon-name","to"]))),128))])):P("",!0),t.to&&!t.isDarkBlue?(m(),oe($(n),{key:3,label:t.buttonText,to:t.to,"is-secondary":!0},null,8,["label","to"])):P("",!0),t.to&&t.isDarkBlue?(m(),oe($(n),{key:4,label:t.buttonText,to:t.to,"is-tertiary":!0},null,8,["label","to"])):P("",!0)])])],2),!t.to&&t.registerEvent?(m(),T("div",Qj,[ae(Np)])):P("",!0)]))}}),Jj=Me(Zj,[["__scopeId","data-v-2a3390cd"]]);var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var t$=typeof zs=="object"&&zs&&zs.Object===Object&&zs,V5=t$,n$=V5,r$=typeof self=="object"&&self&&self.Object===Object&&self,i$=n$||r$||Function("return this")(),Xi=i$,s$=Xi,a$=s$.Symbol,jc=a$,s2=jc,q5=Object.prototype,o$=q5.hasOwnProperty,l$=q5.toString,gu=s2?s2.toStringTag:void 0;function u$(t){var e=o$.call(t,gu),n=t[gu];try{t[gu]=void 0;var r=!0}catch{}var i=l$.call(t);return r&&(e?t[gu]=n:delete t[gu]),i}var c$=u$,d$=Object.prototype,h$=d$.toString;function p$(t){return h$.call(t)}var f$=p$,a2=jc,m$=c$,g$=f$,y$="[object Null]",v$="[object Undefined]",o2=a2?a2.toStringTag:void 0;function _$(t){return t==null?t===void 0?v$:y$:o2&&o2 in Object(t)?m$(t):g$(t)}var ro=_$;function b$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var io=b$,T$=ro,w$=io,k$="[object AsyncFunction]",S$="[object Function]",x$="[object GeneratorFunction]",E$="[object Proxy]";function C$(t){if(!w$(t))return!1;var e=T$(t);return e==S$||e==x$||e==k$||e==E$}var W5=C$,A$=Xi,L$=A$["__core-js_shared__"],I$=L$,ym=I$,l2=function(){var t=/[^.]+$/.exec(ym&&ym.keys&&ym.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function M$(t){return!!l2&&l2 in t}var D$=M$,P$=Function.prototype,O$=P$.toString;function R$(t){if(t!=null){try{return O$.call(t)}catch{}try{return t+""}catch{}}return""}var z5=R$,N$=W5,B$=D$,F$=io,U$=z5,j$=/[\\^$.*+?()[\]{}|]/g,$$=/^\[object .+?Constructor\]$/,H$=Function.prototype,V$=Object.prototype,q$=H$.toString,W$=V$.hasOwnProperty,z$=RegExp("^"+q$.call(W$).replace(j$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G$(t){if(!F$(t)||B$(t))return!1;var e=N$(t)?z$:$$;return e.test(U$(t))}var Y$=G$;function K$(t,e){return t==null?void 0:t[e]}var X$=K$,Q$=Y$,Z$=X$;function J$(t,e){var n=Z$(t,e);return Q$(n)?n:void 0}var so=J$,eH=so,tH=eH(Object,"create"),Bp=tH,u2=Bp;function nH(){this.__data__=u2?u2(null):{},this.size=0}var rH=nH;function iH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sH=iH,aH=Bp,oH="__lodash_hash_undefined__",lH=Object.prototype,uH=lH.hasOwnProperty;function cH(t){var e=this.__data__;if(aH){var n=e[t];return n===oH?void 0:n}return uH.call(e,t)?e[t]:void 0}var dH=cH,hH=Bp,pH=Object.prototype,fH=pH.hasOwnProperty;function mH(t){var e=this.__data__;return hH?e[t]!==void 0:fH.call(e,t)}var gH=mH,yH=Bp,vH="__lodash_hash_undefined__";function _H(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yH&&e===void 0?vH:e,this}var bH=_H,TH=rH,wH=sH,kH=dH,SH=gH,xH=bH;function Rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=TH;Rl.prototype.delete=wH;Rl.prototype.get=kH;Rl.prototype.has=SH;Rl.prototype.set=xH;var EH=Rl;function CH(){this.__data__=[],this.size=0}var AH=CH;function LH(t,e){return t===e||t!==t&&e!==e}var G5=LH,IH=G5;function MH(t,e){for(var n=t.length;n--;)if(IH(t[n][0],e))return n;return-1}var Fp=MH,DH=Fp,PH=Array.prototype,OH=PH.splice;function RH(t){var e=this.__data__,n=DH(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():OH.call(e,n,1),--this.size,!0}var NH=RH,BH=Fp;function FH(t){var e=this.__data__,n=BH(e,t);return n<0?void 0:e[n][1]}var UH=FH,jH=Fp;function $H(t){return jH(this.__data__,t)>-1}var HH=$H,VH=Fp;function qH(t,e){var n=this.__data__,r=VH(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var WH=qH,zH=AH,GH=NH,YH=UH,KH=HH,XH=WH;function Nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nl.prototype.clear=zH;Nl.prototype.delete=GH;Nl.prototype.get=YH;Nl.prototype.has=KH;Nl.prototype.set=XH;var Up=Nl,QH=so,ZH=Xi,JH=QH(ZH,"Map"),Ev=JH,c2=EH,eV=Up,tV=Ev;function nV(){this.size=0,this.__data__={hash:new c2,map:new(tV||eV),string:new c2}}var rV=nV;function iV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var sV=iV,aV=sV;function oV(t,e){var n=t.__data__;return aV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jp=oV,lV=jp;function uV(t){var e=lV(this,t).delete(t);return this.size-=e?1:0,e}var cV=uV,dV=jp;function hV(t){return dV(this,t).get(t)}var pV=hV,fV=jp;function mV(t){return fV(this,t).has(t)}var gV=mV,yV=jp;function vV(t,e){var n=yV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _V=vV,bV=rV,TV=cV,wV=pV,kV=gV,SV=_V;function Bl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bl.prototype.clear=bV;Bl.prototype.delete=TV;Bl.prototype.get=wV;Bl.prototype.has=kV;Bl.prototype.set=SV;var Cv=Bl,xV="__lodash_hash_undefined__";function EV(t){return this.__data__.set(t,xV),this}var CV=EV;function AV(t){return this.__data__.has(t)}var LV=AV,IV=Cv,MV=CV,DV=LV;function jh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new IV;++e<n;)this.add(t[e])}jh.prototype.add=jh.prototype.push=MV;jh.prototype.has=DV;var PV=jh;function OV(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var RV=OV;function NV(t){return t!==t}var BV=NV;function FV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var UV=FV,jV=RV,$V=BV,HV=UV;function VV(t,e,n){return e===e?HV(t,e,n):jV(t,$V,n)}var qV=VV,WV=qV;function zV(t,e){var n=t==null?0:t.length;return!!n&&WV(t,e,0)>-1}var GV=zV;function YV(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var KV=YV;function XV(t,e){return t.has(e)}var QV=XV,ZV=so,JV=Xi,e4=ZV(JV,"Set"),Y5=e4;function t4(){}var n4=t4;function r4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var K5=r4,vm=Y5,i4=n4,s4=K5,a4=1/0,o4=vm&&1/s4(new vm([,-0]))[1]==a4?function(t){return new vm(t)}:i4,l4=o4,u4=PV,c4=GV,d4=KV,h4=QV,p4=l4,f4=K5,m4=200;function g4(t,e,n){var r=-1,i=c4,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=d4;else if(s>=m4){var u=e?null:p4(t);if(u)return f4(u);a=!1,i=h4,l=new u4}else l=e?[]:o;e:for(;++r<s;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),o.push(c)}else i(l,d,n)||(l!==o&&l.push(d),o.push(c))}return o}var y4=g4,v4=y4;function _4(t){return t&&t.length?v4(t):[]}var b4=_4;const T4=yr(b4),w4={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-checkbox"},k4=I("path",{d:"M5 6.5v20c0 .2761.22386.5.5.5h20c.2761 0 .5-.2239.5-.5v-20c0-.27614-.2239-.5-.5-.5h-20c-.27614 0-.5.22386-.5.5Z",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),S4=I("path",{d:"m9.5 17.5722 3.1522 3.1523L21.3767 12",stroke:"#0AA5FF","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--default-cyan-03"},null,-1),x4=[k4,S4];function E4(t,e){return m(),T("svg",w4,[...x4])}const X5={render:E4},C4={class:"base-checkbox-group"},A4={class:"list"},L4={class:"label"},I4=["value","checked","onChange"],M4=Be({__name:"BaseCheckboxGroup",props:{items:{type:Array,default:()=>[]},selected:{type:Array,default:()=>[]}},emits:["update:selected","input-selected"],setup(t,{emit:e}){const n=t,r=e,i=de(T4([...n.selected]));function s(a){const o=i.value.indexOf(a);o>-1?i.value.splice(o,1):i.value.push(a),r("update:selected",i.value),r("input-selected")}return(a,o)=>(m(),T("fieldset",C4,[I("ul",A4,[(m(!0),T(we,null,Fe(t.items,(l,u)=>(m(),T("li",{key:`BaseCheckboxGroup${u}`,class:"list-item"},[I("label",L4,[I("input",{type:"checkbox",value:l.name,checked:i.value.includes(l.name),class:"input",onChange:c=>s(l.name)},null,40,I4),ae($(X5),{class:"svg"}),tt(" "+ye(l.name),1)])]))),128))])]))}}),Wg=Me(M4,[["__scopeId","data-v-72c6c3f9"]]),D4={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-radio-button"},P4=I("path",{d:"M15.9998 9.8645L20.1701 11.6219L21.8975 15.8645L20.1701 20.1071L15.9998 21.8645L11.8295 20.1071L10.1021 15.8645L11.8295 11.6219L15.9998 9.8645Z",fill:"#0AA5FF",class:"svg__fill--default-cyan-03"},null,-1),O4=I("path",{d:"M10.5626 10.3216L15.9998 8.03037L21.437 10.3216L23.6938 15.8644L21.437 21.4072L15.9998 23.6985L10.5626 21.4072L8.30585 15.8644L10.5626 10.3216Z",stroke:"#0B6AB7",class:"svg__stroke--primary-blue-03"},null,-1),R4=[P4,O4];function N4(t,e){return m(),T("svg",D4,[...R4])}const B4={render:N4},F4={class:"base-radio-group"},U4={class:"list"},j4={class:"list-item"},$4=["value","onChange"],H4=Be({__name:"BaseRadioGroup",props:{items:{type:Array,default:()=>[]},selected:{type:Array,default:()=>[]}},emits:["update:selected","input-selected"],setup(t,{emit:e}){const{items:n,selected:r}=t,i=e,s=de(r&&r.length>0?r[0]:"");function a(o){console.log("what is slected",o),i("update:selected",[o]),i("input-selected")}return(o,l)=>(m(),T("fieldset",F4,[I("ul",U4,[I("li",j4,[(m(!0),T(we,null,Fe(t.items,(u,c)=>(m(),T("label",{key:`BaseRadioGroup${c}`,class:"label"},[un(I("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>s.value=d),type:"radio",value:u.name,class:"input",onChange:d=>a(u.name)},null,40,$4),[[ih,s.value]]),ae($(B4),{class:"svg"}),tt(" "+ye(u.name),1)]))),128))])])]))}}),Q5=Me(H4,[["__scopeId","data-v-bef475e2"]]),V4={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-share-printer"},q4=Yi('<circle cx="16" cy="16" r="16" fill="#F2F2F2" class="svg__fill--secondary-grey-01"></circle><path d="M7 21.1984h-.75c0 .4142.33579.75.75.75v-.75Zm0-8.1205v-.75c-.41421 0-.75.3358-.75.75H7Zm18 0h.75c0-.4142-.3358-.75-.75-.75v.75Zm0 8.1205v.75c.4142 0 .75-.3358.75-.75H25Zm-16.29837.75h.75v-1.5h-.75v1.5Zm14.57147-1.5h-.75v1.5h.75v-1.5Zm-15.5231.75v-8.1205h-1.5v8.1205h1.5ZM7 13.8279h18v-1.5H7v1.5Zm17.25-.75v8.1205h1.5v-8.1205h-1.5ZM8.70163 20.4484H7v1.5h1.70163v-1.5Zm16.29837 0h-1.7269v1.5H25v-1.5Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M11.4482 18.7737v6.5454h9.0013v-6.5454h-9.0013Z" stroke="#0F0F0F" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--black"></path><path d="M13.5213 21.0669h4.8821" stroke="#0F0F0F" class="svg__stroke--black"></path><path d="M13.5213 22.812h2.99" stroke="#0F0F0F" class="svg__stroke--black"></path><path d="M10.6306 16.4412h1.6243" stroke="#0F0F0F" stroke-width="1.25" class="svg__stroke--black"></path><path d="M9.86359 8.68115v4.41055H22.5071V8.68115H9.86359Z" stroke="#0F0F0F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--black"></path>',7),W4=[q4];function Z5(t,e){return m(),T("svg",V4,[...W4])}const J5={render:Z5},ex=Object.freeze(Object.defineProperty({__proto__:null,default:J5,render:Z5},Symbol.toStringTag,{value:"Module"})),z4=t=>(Ot("data-v-41576e56"),t=t(),Rt(),t),G4={class:"block-amenities"},Y4=z4(()=>I("h3",{class:"amenities-title"}," At This Location ",-1)),K4={class:"amenity-column"},X4={class:"amenities-list"},Q4={class:"amenity-name"},Z4=Be({__name:"BlockAmenities",props:{amenities:{type:Array,default:()=>[]}},setup(t){const e=t,n=Re(()=>Ne(()=>import("./CQNP4Mh6.js"),[],import.meta.url)),r=Re(()=>Ne(()=>import("./NLw7hrsJ.js"),[],import.meta.url)),i=Re(()=>Ne(()=>import("./B-fZeNxQ.js"),[],import.meta.url)),s=Re(()=>Ne(()=>import("./_7cJYPql.js"),[],import.meta.url)),a=Re(()=>Ne(()=>import("./3Mt4oOwI.js"),[],import.meta.url)),o=Re(()=>Ne(()=>import("./BbJOdKoS.js"),[],import.meta.url)),l=Re(()=>Ne(()=>import("./CrfRVeit.js"),[],import.meta.url)),u=Re(()=>Ne(()=>import("./udQ65OBv.js"),[],import.meta.url)),c={"icon-clock":{icon:n,label:"24 Hour Study Space"},"icon-accessible":{icon:r,label:"ADA Stations"},"icon-chair":{icon:i,label:"Cafe"},"icon-virtual":{icon:s,label:"Computer/Laptop Access"},"icon-laptop":{icon:a,label:"Laptop Lending"},"icon-locker":{icon:o,label:"Locker"},"icon-light":{icon:l,label:"Makerspace"},"icon-share-printer":{icon:J5,label:"Print, Copy and Scan"},"icon-book":{icon:u,label:"Research Help"}},d=U(()=>e.amenities.map(p=>{const f=c[p];return{svgIcon:f.icon,svgLabel:f.label}}));return(p,f)=>(m(),T("div",G4,[Y4,I("div",K4,[I("ul",X4,[(m(!0),T(we,null,Fe(d.value,(y,b)=>(m(),T("li",{key:`${y.svgLabel}-${b}`,class:"amenitiy-row"},[y.svgIcon?(m(),oe(Lt(y.svgIcon),{key:0})):P("",!0),I("span",Q4,ye(y.svgLabel),1)]))),128))])])]))}}),J4=Me(Z4,[["__scopeId","data-v-41576e56"]]),eq={name:"ModalGeneric",components:{SvgGlyphClose:yc},emits:["close"],methods:{close(){this.$emit("close")}}},tq={class:"content"};function nq(t,e,n,r,i,s){const a=lt("SvgGlyphClose");return m(),T("div",{class:"modal",onClick:e[1]||(e[1]=(...o)=>s.close&&s.close(...o))},[I("button",{class:"svg-glyph-close",onClick:e[0]||(e[0]=(...o)=>s.close&&s.close(...o))},[ae(a)]),I("div",tq,[We(t.$slots,"default",{},void 0,!0)])])}const rq=Me(eq,[["render",nq],["__scopeId","data-v-9eea23da"]]),iq={name:"BlockCampusMap",components:{ModalGeneric:rq,RichText:ir},props:{campusLocationId:{type:String,default:""},locationName:{type:String,default:""},buildingAccess:{type:String,default:""}},data(){return{isModalVisible:!1}},computed:{parsedSrc(){return`https://map.ucla.edu/?id=${this.campusLocationId}&e=true`}},methods:{showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1}}},sq=t=>(Ot("data-v-a75f1f8c"),t=t(),Rt(),t),aq={class:"block-campus-map"},oq={class:"modal-content"},lq=["src"],uq={class:"content"},cq={class:"iframe-hover"},dq={class:"iframe-container"},hq=["src"],pq={key:0,class:"text-grouping"},fq=sq(()=>I("h4",{class:"subheading-small"}," Building Access ",-1));function mq(t,e,n,r,i,s){const a=lt("ModalGeneric"),o=lt("RichText");return m(),T("div",aq,[un(ae(a,{class:"modal",onClose:s.closeModal},{default:Ie(()=>[I("div",oq,[I("iframe",{src:s.parsedSrc,class:"iframe-modal",allowfullscreen:""},null,8,lq)])]),_:1},8,["onClose"]),[[hi,i.isModalVisible]]),I("button",{class:"title",onClick:e[0]||(e[0]=(...l)=>s.showModal&&s.showModal(...l))}),I("div",uq,[I("div",cq,[I("div",dq,[I("iframe",{src:s.parsedSrc,class:"iframe",allowfullscreen:""},null,8,hq),I("div",{class:"iframe-click",onClick:e[1]||(e[1]=(...l)=>s.showModal&&s.showModal(...l))})])]),n.buildingAccess?(m(),T("div",pq,[fq,ae(o,{class:"building-access-text","rich-text-content":n.buildingAccess},null,8,["rich-text-content"])])):P("",!0)])])}const gq=Me(iq,[["render",mq],["__scopeId","data-v-a75f1f8c"]]);/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let tx;const Av=t=>tx=t,yq=Symbol();function zg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xu||(Xu={}));const vq=!1,nx=()=>{};function d2(t,e,n,r=nx){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&aa()&&Ga(i),i}function vo(t,...e){t.slice().forEach(n=>{n(...e)})}const _q=t=>t();function Gg(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];zg(i)&&zg(r)&&t.hasOwnProperty(n)&&!Wt(r)&&!cs(r)?t[n]=Gg(i,r):t[n]=r}return t}const bq=Symbol();function Tq(t){return!zg(t)||!t.hasOwnProperty(bq)}const{assign:Fs}=Object;function wq(t){return!!(Wt(t)&&t.effect)}function kq(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){!o&&(n.state.value[t]=i?i():{});const c=Ak(n.state.value[t]);return Fs(c,s,Object.keys(a||{}).reduce((d,p)=>(d[p]=bp(U(()=>{Av(n);const f=n._s.get(t);return a[p].call(f,f)})),d),{}))}return l=rx(t,u,e,n,r,!0),l}function rx(t,e,n={},r,i,s){let a;const o=Fs({actions:{}},n),l={deep:!0};let u,c,d=[],p=[],f;const y=r.state.value[t];!s&&!y&&(r.state.value[t]={}),de({});let b;function S(M){let q;u=c=!1,typeof M=="function"?(M(r.state.value[t]),q={type:Xu.patchFunction,storeId:t,events:f}):(Gg(r.state.value[t],M),q={type:Xu.patchObject,payload:M,storeId:t,events:f});const j=b=Symbol();on().then(()=>{b===j&&(u=!0)}),c=!0,vo(d,q,r.state.value[t])}const E=s?function(){const{state:M}=n,q=M?M():{};this.$patch(j=>{Fs(j,q)})}:nx;function x(){a.stop(),d=[],p=[],r._s.delete(t)}function k(M,q){return function(){Av(r);const j=Array.from(arguments),W=[],Y=[];function re(R){W.push(R)}function le(R){Y.push(R)}vo(p,{args:j,name:M,store:A,after:re,onError:le});let F;try{F=q.apply(this&&this.$id===t?this:A,j)}catch(R){throw vo(Y,R),R}return F instanceof Promise?F.then(R=>(vo(W,R),R)).catch(R=>(vo(Y,R),Promise.reject(R))):(vo(W,F),F)}}const L={_p:r,$id:t,$onAction:d2.bind(null,p),$patch:S,$reset:E,$subscribe(M,q={}){const j=d2(d,M,q.detached,()=>W()),W=a.run(()=>St(()=>r.state.value[t],Y=>{(q.flush==="sync"?c:u)&&M({storeId:t,type:Xu.direct,events:f},Y)},Fs({},l,q)));return j},$dispose:x},A=xn(L);r._s.set(t,A);const D=(r._a&&r._a.runWithContext||_q)(()=>r._e.run(()=>(a=vp()).run(e)));for(const M in D){const q=D[M];if(Wt(q)&&!wq(q)||cs(q))s||(y&&Tq(q)&&(Wt(q)?q.value=y[M]:Gg(q,y[M])),r.state.value[t][M]=q);else if(typeof q=="function"){const j=k(M,q);D[M]=j,o.actions[M]=q}}return Fs(A,D),Fs(Ct(A),D),Object.defineProperty(A,"$state",{get:()=>r.state.value[t],set:M=>{S(q=>{Fs(q,M)})}}),r._p.forEach(M=>{Fs(A,a.run(()=>M({store:A,app:r._a,pinia:r,options:o})))}),y&&s&&n.hydrate&&n.hydrate(A.$state,y),u=!0,c=!0,A}function Sq(t,e,n){let r,i;const s=typeof e=="function";r=t,i=s?n:e;function a(o,l){const u=xp();return o=o||(u?Et(yq,null):null),o&&Av(o),o=tx,o._s.has(r)||(s?rx(r,e,i,o):kq(r,i,o)),o._s.get(r)}return a.$id=r,a}function $c(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const i=t(this.$pinia),s=e[r];return typeof s=="function"?s.call(this,i):i[s]},n),{})}const xq=[{id:"843",name:"Locations & Hours",to:"/locations",classes:"",target:""},{id:"844",name:"Ask a Librarian",to:"/research-teaching-support/research-help",classes:null,target:""},{id:"845",name:"My Account",to:"https://catalog.library.ucla.edu/vwebv/login;jsessionid=9D14C6523970C30728D965F6BD6B914D",classes:null,target:"1"}],Eq=[{id:"835",name:"Get help with...",to:null,classes:"",target:"",children:[{id:"833",name:"Borrowing Books and Equipment",to:"/help/services-resources/borrowing-books-and-equipment",classes:"",target:""},{id:"840",name:"All Services & Resources",to:"/help/services-resources",classes:"",target:""}]},{id:"834",name:"Visit",to:"/events-exhibits",classes:null,target:"",children:[{id:"841",name:"Locations & Hours",to:"/visit/locations",classes:"",target:""},{id:"837",name:"Events & Exhibitions",to:"/visit/events-exhibits",classes:"",target:""}]},{id:"836",name:"About",to:null,classes:null,target:"",children:[{id:"842",name:"Library News",to:"/about/news",classes:"",target:""},{id:"838",name:"Staff Directory",to:"/about/staff",classes:"",target:""}]},{id:"839",name:"Support us",to:"https://giving.ucla.edu/Standard/NetDonate.aspx?SiteNum=463",classes:null,target:"1",children:[]}],h2={socialItems:[{id:"11777",name:"Twotter",to:"https://twitter.com/",classes:null,target:"1"},{id:"11778",name:"Fatebook",to:"https://www.facebook.com/",classes:null,target:"1"},{id:"11779",name:"Instagrim",to:"https://www.instagram.com/",classes:null,target:"1"},{id:"11780",name:"FooTube",to:"https://www.youtube.com/",classes:null,target:"1"}],pressItems:[{id:"11781",name:"Dress Doom",to:"https://test-craft.library.ucla.edu/press-room",classes:null,target:""},{id:"11782",name:"Careers at USC",to:"https://test-craft.library.ucla.edu/careers-at-ucla",classes:null,target:""}]},Cq={nodes:[{id:"1628",name:"EEEmergency",to:"/emergency",classes:null},{id:"1627",name:"AAAccessibility",to:"https://external.url/accessibility",classes:null},{id:"1629",name:"PPPrivacy & Terms of Use",to:"https://test-craft.library.ucla.edu/privacy-terms-of-use",classes:null,target:"0"},{id:"9511",name:"CCCreative Commons Attribution 4.0",to:"https://creativecommons.org/licenses/by/4.0/",classes:null,target:"1"}]},Aq={funders:[{id:"28231",funderLogo:[{id:"28636",src:"https://static.library.ucla.edu/craftassetstest/logo-arcadia1.svg",height:569,width:2560,srcset:"https://static.library.ucla.edu/craftassetstest/_375xAUTO_crop_center-center_none/logo-arcadia1.svg 375w, https://static.library.ucla.edu/craftassetstest/_960xAUTO_crop_center-center_none/logo-arcadia1.svg 960w, https://static.library.ucla.edu/craftassetstest/_1280xAUTO_crop_center-center_none/logo-arcadia1.svg 1280w, https://static.library.ucla.edu/craftassetstest/_1920xAUTO_crop_center-center_none/logo-arcadia1.svg 1920w, https://static.library.ucla.edu/craftassetstest/_2560xAUTO_crop_center-center_none/logo-arcadia1.svg 2560w",alt:"Logo arcadia1",focalPoint:[.5,.5]}],funderName:"Arcadiaaaaaa",funderUrl:"https://www.hostesscakes.com/produ        colate/"},{id:"28259",funderLogo:[{id:"28637",src:"https://static.library.ucla.edu/craftassetstest/logo-library.svg",height:490,width:2560,srcset:"https://static.library.ucla.edu/craftassetstest/_375xAUTO_crop_center-center_none/logo-library.svg 375w, https://static.library.ucla.edu/craftassetstest/_960xAUTO_crop_center-center_none/logo-library.svg 960w, https://static.library.ucla.edu/craftassetstest/_1280xAUTO_crop_center-center_none/logo-library.svg 1280w, https://static.library.ucla.edu/craftassetstest/_1920xAUTO_crop_center-center_none/logo-library.svg 1920w, https://static.library.ucla.edu/craftassetstest/_2560xAUTO_crop_center-center_none/logo-library.svg 2560w",alt:"Logo library",focalPoint:[.5,.5]}],funderName:"Etch A Sketch",funderUrl:"https://en.wikipedia.org/wiki/Etch_A_Sketch"}]},Fl=Sq("GlobalStore",{state:()=>({winHeight:0,winWidth:824,sTop:0,globals:{askALibrarian:{id:"7322",askALibrarianTitle:"Have further questions?",askALibrarianText:"<p>We're here to help. Chat with a librarian 24/7, schedule a research consultation or email us your quick questions.</p>",buttonUrl:[{buttonText:"Contact us",buttonUrl:"/help/"}]},meapCallToAction:{id:"28646",name:"MEAP Call to Action",titleGeneral:"Get in Touch",summary:"<p>Have further questions?</p>",button:[{buttonText:"Contact Us",buttonUrl:"mailto:meap@library.ucla.edu"}]}},header:{primary:Eq,secondary:xq},footerPrimary:{nodes:[{children:h2.socialItems},{children:h2.pressItems}]},footerSock:{nodes:Cq.nodes},footerSponsor:{funders:Aq.funders}}),getters:{}}),Lq={name:"BlockCallToAction",components:{ButtonLink:bs,SvgCallToActionMoney:Re(()=>Ne(()=>import("./CDe-W5aG.js"),[],import.meta.url)),SvgCallToActionChat:Re(()=>Ne(()=>import("./B8_Mk1Kv.js"),[],import.meta.url)),SvgCallToActionMail:Re(()=>Ne(()=>import("./Hyvcr4j_.js"),[],import.meta.url)),SvgCallToActionFind:Re(()=>Ne(()=>import("./ShH4f96T.js"),[],import.meta.url))},props:{svgName:{type:String,default:""},title:{type:String,default:""},text:{type:String,default:""},name:{type:String,default:""},to:{type:String,default:""},isDark:{type:Boolean,default:!1},isSmallSize:{type:Boolean,default:!1},isGlobal:{type:Boolean,default:!1},isMeapGlobal:{type:Boolean,default:!1}},computed:{...$c(Fl,["globals"]),classes(){return["block-call-to-action",{"full-width":!this.isSmallSize},{"half-width":this.isSmallSize},{"theme-light":!this.isDark},{"theme-dark":this.isDark}]},askALibrarian(){return this.globals.askALibrarian},meapCallToAction(){return this.globals.meapCallToAction},parsedContent(){return this.isGlobal?{to:this.askALibrarian.buttonUrl[0].buttonUrl,title:this.askALibrarian.askALibrarianTitle,text:this.askALibrarian.askALibrarianText,label:this.askALibrarian.buttonUrl[0].buttonText,svgName:"svg-call-to-action-chat"}:this.isMeapGlobal?{to:this.meapCallToAction.button[0].buttonUrl,title:this.meapCallToAction.titleGeneral,text:this.meapCallToAction.summary,label:this.meapCallToAction.button[0].buttonText,svgName:"svg-call-to-action-chat"}:{to:this.to,title:this.title,text:this.text,label:this.name,svgName:this.svgName}}}},Iq=["textContent"],Mq=["innerHTML"];function Dq(t,e,n,r,i,s){const a=lt("ButtonLink");return m(),T("div",{class:Oe(s.classes)},[(m(),oe(Lt(s.parsedContent.svgName),{class:"svg","aria-hidden":"true"})),I("h2",{class:"title",textContent:ye(s.parsedContent.title)},null,8,Iq),I("div",{class:"text",innerHTML:s.parsedContent.text},null,8,Mq),n.isDark?P("",!0):(m(),oe(a,{key:0,label:s.parsedContent.label,to:s.parsedContent.to,"is-secondary":!0,class:"button-link"},null,8,["label","to"])),n.isDark?(m(),oe(a,{key:1,label:s.parsedContent.label,to:s.parsedContent.to,"is-tertiary":!0,class:"button-link"},null,8,["label","to"])):P("",!0)],2)}const Lv=Me(Lq,[["render",Dq],["__scopeId","data-v-bff9e985"]]),Pq={class:"block-call-to-action-two-up"},Oq=Be({__name:"BlockCallToActionTwoUp",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("section",Pq,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(Lv,{key:`BlockCallToActionTwoUpKey${i}`,"svg-name":r.svgName,title:r.title,text:r.text,name:r.name,to:r.to,"is-dark":r.isDark,"is-small-size":!0},null,8,["svg-name","title","text","name","to","is-dark"]))),128))]))}}),Rq=Me(Oq,[["__scopeId","data-v-5f23f2ae"]]),Nq={width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__illustration-digitized-resources"},Bq=Yi('<path d="M9.08984 113.223H190.91V131.489C190.91 135.493 187.664 138.739 183.66 138.739H115.956H83.8441H16.3398C12.3358 138.739 9.08984 135.493 9.08984 131.489V113.223Z" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></path><path d="M83.791 139.489V155M116.002 139.489V155M116.002 155H135.066M116.002 155H83.791M83.791 155H65.3848" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></path><path d="M14.3398 5.75H185.66C188.56 5.75 190.91 8.10051 190.91 11V113.253H9.08984V11C9.08984 8.10051 11.4403 5.75 14.3398 5.75Z" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></path><path d="M185.176 19.3555L157.085 30.991L145.45 59.0816L157.085 87.1723L185.176 98.8078" stroke="#FFD600" stroke-width="1.5" class="svg__stroke--secondary-yellow-03"></path><path d="M17.7856 10.9407H182.213C184.008 10.9407 185.463 12.3957 185.463 14.1907V103.971C185.463 105.766 184.008 107.221 182.213 107.221H17.7856C15.9907 107.221 14.5356 105.766 14.5356 103.971V14.1907C14.5356 12.3957 15.9907 10.9407 17.7856 10.9407Z" stroke="#0AA5FF" stroke-width="1.5" class="svg__stroke--default-cyan-03"></path><path d="M99.9953 131.954L104.221 130.204L105.971 125.979L104.221 121.754L99.9953 120.003L95.7701 121.754L94.02 125.979L95.7701 130.204L99.9953 131.954Z" fill="#0AA5FF" class="svg__fill--default-cyan-03"></path><path d="M44.4458 35.502H84.4458" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 41.502H84.4458" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 47.502L84.4458 47.5019" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 53.502L84.4458 53.5019" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 59.502L75.4405 59.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 71.502L84.4458 71.5019" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 77.502L84.4458 77.5019" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M44.4458 83.502L68.388 83.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 41.502H116.446" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 35.502H116.446" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 47.502H105.364" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 59.502L116.446 59.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 65.502L116.446 65.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 71.502L116.446 71.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 77.502L116.446 77.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path><path d="M92.4458 83.502L112.79 83.502" stroke="#00E0E0" stroke-width="1.5" class="svg__stroke--help-green-03"></path>',22),Fq=[Bq];function Uq(t,e){return m(),T("svg",Nq,[...Fq])}const jq={render:Uq},$q={width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__illustration-teaching"},Hq=Yi('<path d="M98.6874 4.74365L99.414 4.55781C99.3291 4.22585 99.03 3.99364 98.6874 3.99365C98.3447 3.99366 98.0457 4.22589 97.9608 4.55785L98.6874 4.74365ZM97.9608 4.92949L132.152 138.616L133.606 138.244L99.414 4.55781L97.9608 4.92949ZM132.158 138.635L136.786 154.948L138.229 154.539L133.601 138.225L132.158 138.635ZM97.9608 4.55785L63.7763 138.244L65.2295 138.616L99.414 4.92945L97.9608 4.55785ZM63.7814 138.225L59.1535 154.539L60.5965 154.948L65.2244 138.635L63.7814 138.225ZM132.879 137.68H64.5029V139.18H132.879V137.68Z" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path><rect x="91.8477" y="16.0012" width="13.6887" height="8.52157" fill="white" class="svg__fill--white"></rect><rect x="15.6284" y="24.1885" width="168.77" height="101.715" rx="1.25" fill="white" stroke="#0B6AB7" stroke-width="1.5" class="svg__fill--white svg__stroke--primary-blue-03"></rect><rect x="15.6284" y="16.5989" width="168.77" height="7.17405" rx="1.25" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></rect><rect x="18.8344" y="19.5251" width="162.503" height="1.35532" rx="0.67766" stroke="#0AA5FF" stroke-width="1.35532" class="svg__stroke--default-cyan-03"></rect><path d="M118.251 50.2215H120.732C121.642 50.2215 122.379 50.9586 122.379 51.8678V99.3356C122.379 100.245 121.642 100.982 120.732 100.982H116.912H82.5513C82.5513 100.982 77.6423 100.982 77.6426 95.5711M118.251 50.2215V89.9373C118.251 89.9373 90.4163 89.9373 82.5513 89.9373C82.5513 89.9373 77.6428 90.1604 77.6426 95.5711M118.251 50.2215V46.0938H85.8739C81.3279 46.0938 77.6426 49.779 77.6426 54.3251V95.5711" stroke="#0B6AB7" stroke-width="1.25" class="svg__stroke--primary-blue-03"></path><path d="M98.7616 58.0586L106.301 61.1814L109.424 68.7206L106.301 76.2598L98.7616 79.3826L91.2224 76.2598L88.0996 68.7206L91.2224 61.1814L98.7616 58.0586Z" stroke="#FFD600" stroke-width="1.25" class="svg__stroke--secondary-yellow-03"></path><path d="M84.665 96.2986L106.396 96.2986" stroke="#00E0E0" stroke-width="1.25" class="svg__stroke--help-green-03"></path><path d="M108.205 96.2986L112.156 96.2986" stroke="#00E0E0" stroke-width="1.25" class="svg__stroke--help-green-03"></path><path d="M113.8 96.2986L115.117 96.2986" stroke="#00E0E0" stroke-width="1.25" class="svg__stroke--help-green-03"></path><path d="M94.3551 101.378L98.6348 104.292C98.6591 104.309 98.6921 104.291 98.6921 104.262V95.6572H90.0181V104.262C90.0181 104.291 90.051 104.309 90.0754 104.292L94.3551 101.378Z" fill="#0AA5FF" class="svg__fill--default-cyan-03"></path>',11),Vq=[Hq];function qq(t,e){return m(),T("svg",$q,[...Vq])}const Wq={render:qq};function zq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ix=zq,Gq=Array.isArray,da=Gq;function Yq(t){return t!=null&&typeof t=="object"}var ha=Yq,Kq=ro,Xq=ha,Qq="[object Symbol]";function Zq(t){return typeof t=="symbol"||Xq(t)&&Kq(t)==Qq}var $p=Zq,p2=jc,Jq=ix,eW=da,tW=$p,nW=1/0,f2=p2?p2.prototype:void 0,m2=f2?f2.toString:void 0;function sx(t){if(typeof t=="string")return t;if(eW(t))return Jq(t,sx)+"";if(tW(t))return m2?m2.call(t):"";var e=t+"";return e=="0"&&1/t==-nW?"-0":e}var ax=sx;function rW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var ox=rW,iW=ox;function sW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iW(t,e,n)}var aW=sW,oW="\\ud800-\\udfff",lW="\\u0300-\\u036f",uW="\\ufe20-\\ufe2f",cW="\\u20d0-\\u20ff",dW=lW+uW+cW,hW="\\ufe0e\\ufe0f",pW="\\u200d",fW=RegExp("["+pW+oW+dW+hW+"]");function mW(t){return fW.test(t)}var Iv=mW,gW=ro,yW=ha,vW="[object RegExp]";function _W(t){return yW(t)&&gW(t)==vW}var bW=_W;function TW(t){return function(e){return t(e)}}var Hp=TW,$h={exports:{}};$h.exports;(function(t,e){var n=V5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})($h,$h.exports);var Vp=$h.exports,wW=bW,kW=Hp,g2=Vp,y2=g2&&g2.isRegExp,SW=y2?kW(y2):wW,xW=SW;function EW(t){return function(e){return e==null?void 0:e[t]}}var CW=EW,AW=CW,LW=AW("length"),IW=LW,lx="\\ud800-\\udfff",MW="\\u0300-\\u036f",DW="\\ufe20-\\ufe2f",PW="\\u20d0-\\u20ff",OW=MW+DW+PW,RW="\\ufe0e\\ufe0f",NW="["+lx+"]",Yg="["+OW+"]",Kg="\\ud83c[\\udffb-\\udfff]",BW="(?:"+Yg+"|"+Kg+")",ux="[^"+lx+"]",cx="(?:\\ud83c[\\udde6-\\uddff]){2}",dx="[\\ud800-\\udbff][\\udc00-\\udfff]",FW="\\u200d",hx=BW+"?",px="["+RW+"]?",UW="(?:"+FW+"(?:"+[ux,cx,dx].join("|")+")"+px+hx+")*",jW=px+hx+UW,$W="(?:"+[ux+Yg+"?",Yg,cx,dx,NW].join("|")+")",v2=RegExp(Kg+"(?="+Kg+")|"+$W+jW,"g");function HW(t){for(var e=v2.lastIndex=0;v2.test(t);)++e;return e}var VW=HW,qW=IW,WW=Iv,zW=VW;function GW(t){return WW(t)?zW(t):qW(t)}var YW=GW;function KW(t){return t.split("")}var XW=KW,fx="\\ud800-\\udfff",QW="\\u0300-\\u036f",ZW="\\ufe20-\\ufe2f",JW="\\u20d0-\\u20ff",ez=QW+ZW+JW,tz="\\ufe0e\\ufe0f",nz="["+fx+"]",Xg="["+ez+"]",Qg="\\ud83c[\\udffb-\\udfff]",rz="(?:"+Xg+"|"+Qg+")",mx="[^"+fx+"]",gx="(?:\\ud83c[\\udde6-\\uddff]){2}",yx="[\\ud800-\\udbff][\\udc00-\\udfff]",iz="\\u200d",vx=rz+"?",_x="["+tz+"]?",sz="(?:"+iz+"(?:"+[mx,gx,yx].join("|")+")"+_x+vx+")*",az=_x+vx+sz,oz="(?:"+[mx+Xg+"?",Xg,gx,yx,nz].join("|")+")",lz=RegExp(Qg+"(?="+Qg+")|"+oz+az,"g");function uz(t){return t.match(lz)||[]}var cz=uz,dz=XW,hz=Iv,pz=cz;function fz(t){return hz(t)?pz(t):dz(t)}var mz=fz,gz=/\s/;function yz(t){for(var e=t.length;e--&&gz.test(t.charAt(e)););return e}var vz=yz,_z=vz,bz=/^\s+/;function Tz(t){return t&&t.slice(0,_z(t)+1).replace(bz,"")}var wz=Tz,kz=wz,_2=io,Sz=$p,b2=NaN,xz=/^[-+]0x[0-9a-f]+$/i,Ez=/^0b[01]+$/i,Cz=/^0o[0-7]+$/i,Az=parseInt;function Lz(t){if(typeof t=="number")return t;if(Sz(t))return b2;if(_2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kz(t);var n=Ez.test(t);return n||Cz.test(t)?Az(t.slice(2),n?2:8):xz.test(t)?b2:+t}var Iz=Lz,Mz=Iz,T2=1/0,Dz=17976931348623157e292;function Pz(t){if(!t)return t===0?t:0;if(t=Mz(t),t===T2||t===-T2){var e=t<0?-1:1;return e*Dz}return t===t?t:0}var Oz=Pz,Rz=Oz;function Nz(t){var e=Rz(t),n=e%1;return e===e?n?e-n:e:0}var Bz=Nz,Fz=ax;function Uz(t){return t==null?"":Fz(t)}var Hc=Uz,w2=ax,jz=aW,$z=Iv,Hz=io,Vz=xW,qz=YW,Wz=mz,zz=Bz,k2=Hc,Gz=30,Yz="...",Kz=/\w*$/;function Xz(t,e){var n=Gz,r=Yz;if(Hz(e)){var i="separator"in e?e.separator:i;n="length"in e?zz(e.length):n,r="omission"in e?w2(e.omission):r}t=k2(t);var s=t.length;if($z(t)){var a=Wz(t);s=a.length}if(n>=s)return t;var o=n-qz(r);if(o<1)return r;var l=a?jz(a,0,o).join(""):t.slice(0,o);if(i===void 0)return l+r;if(a&&(o+=l.length-o),Vz(i)){if(t.slice(o).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,k2(Kz.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===void 0?o:d)}}else if(t.indexOf(w2(i),o)!=o){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}var Qz=Xz;const Zz=yr(Qz);function Jz(t){return function(e){return t==null?void 0:t[e]}}var bx=Jz,eG=bx,tG={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nG=eG(tG),rG=nG,iG=Hc,sG=rG,Tx=/&(?:amp|lt|gt|quot|#39);/g,aG=RegExp(Tx.source);function oG(t){return t=iG(t),t&&aG.test(t)?t.replace(Tx,sG):t}var lG=oG;const uG=yr(lG);function na(t="",e=Number.POSITIVE_INFINITY){if(t==null)return t;const n=uG(t.replace(/(<([^>]+)>)/gi,"").replace(/"/gi,""));return Zz(n,{length:e,omission:"",separator:/\s/})}const cG={name:"BlockCardWithIllustration",components:{SmartLink:pt,IllustrationBookBinding:Re(()=>Ne(()=>import("./6btAG7FV.js"),[],import.meta.url)),IllustrationBorrowingBooks:Re(()=>Ne(()=>import("./C8vko_0Y.js"),[],import.meta.url)),IllustrationDatabases:Re(()=>Ne(()=>import("./BElJr-oT.js"),[],import.meta.url)),IllustrationDigitizedResources:jq,IllustrationFindSpace:Re(()=>Ne(()=>import("./D5xdf8D1.js"),[],import.meta.url)),IllustrationRemoteAccess:Re(()=>Ne(()=>import("./MM8Ftbu1.js"),[],import.meta.url)),IllustrationResearch:Re(()=>Ne(()=>import("./DXmBfv8r.js"),[],import.meta.url)),IllustrationTeaching:Wq},props:{iconName:{type:String,default:"illustration-remote-access"},category:{type:String,default:""},title:{type:String,default:""},text:{type:String,default:""},to:{type:String,default:""},isHorizontal:{type:Boolean,default:!1}},computed:{classes(){return["block-card-with-illustration",`color-${this.sectionName}`,{"is-horizontal":this.isHorizontal}]},sectionName(){return qr(this.to)},parsedSvgName(){return`${this.iconName}`},isExternalLink(){return!!this.to.includes("http")},parsedTextHorizontal(){return this.text?na(this.text,250):""},parsedTextVertical(){return this.text?na(this.text):""}}},dG={class:"meta"},hG=["innerHTML"],pG=["innerHTML"],fG={key:2,class:"text"},mG={key:3,class:"text"};function gG(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("li",{class:Oe(s.classes)},[(m(),oe(Lt(s.parsedSvgName),{class:"svg","aria-hidden":"true"})),I("div",dG,[n.category?(m(),T("div",{key:0,class:"category",innerHTML:n.category},null,8,hG)):P("",!0),n.to?(m(),oe(a,{key:1,to:n.to},{default:Ie(()=>[I("h3",{class:"title",innerHTML:n.title},null,8,pG)]),_:1},8,["to"])):P("",!0),n.isHorizontal?(m(),T("div",fG,ye(s.parsedTextHorizontal),1)):(m(),T("div",mG,ye(s.parsedTextVertical),1))])],2)}const wx=Me(cG,[["render",gG],["__scopeId","data-v-73a377ce"]]),yG={width:"1000",height:"480",viewBox:"0 0 1000 480",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-placeholder"},vG=Yi('<g><path d="M0.343468 256.541L86.6725 221.246L86.8143 220.911M0.343468 256.541L-88.3703 221.246M0.343468 256.541L67.1173 201.214M0.343468 256.541L-67.8612 201.214M124.829 131.101L86.6725 44.7721M124.829 131.101L86.8143 220.911M124.829 131.101L0.343468 62.4195M124.829 131.101L67.1173 201.214M86.6725 44.7721L0.343468 4.23083M86.6725 44.7721L0.343468 62.4195M0.343468 4.23083L-88.3703 44.7721M0.343468 4.23083V62.4195M-88.3703 44.7721L-125.096 131.101M-88.3703 44.7721L0.343468 62.4195M-125.096 131.101L-88.3703 221.246M-125.096 131.101L-67.8612 201.214M-125.096 131.101L0.343468 62.4195M-88.3703 221.246L-67.8612 201.214M-67.8612 201.214H67.1173M-67.8612 201.214L0.343468 62.4195M67.1173 201.214L86.8143 220.911M67.1173 201.214L0.343468 62.4195" stroke="#87FBE8" stroke-width="1.15119" class="svg__stroke--help-green-02"></path><path d="M250.268 256.541L336.597 221.246L336.739 220.911M250.268 256.541L161.555 221.246M250.268 256.541L317.042 201.214M250.268 256.541L182.064 201.214M374.754 131.101L336.597 44.7721M374.754 131.101L336.739 220.911M374.754 131.101L250.268 62.4194M374.754 131.101L317.042 201.214M336.597 44.7721L250.268 4.23081M336.597 44.7721L250.268 62.4194M250.268 4.23081L161.555 44.7721M250.268 4.23081V62.4194M161.555 44.7721L124.829 131.101M161.555 44.7721L250.268 62.4194M124.829 131.101L161.555 221.246M124.829 131.101L182.064 201.214M124.829 131.101L250.268 62.4194M161.555 221.246L182.064 201.214M182.064 201.214H317.042M182.064 201.214L250.268 62.4194M317.042 201.214L336.739 220.911M317.042 201.214L250.268 62.4194" stroke="#5CD9FF" stroke-width="1.15119" class="svg__stroke--default-cyan-02"></path><path d="M500.193 256.541L586.522 221.246L586.664 220.911M500.193 256.541L411.48 221.246M500.193 256.541L566.967 201.214M500.193 256.541L431.989 201.214M624.679 131.101L586.522 44.7721M624.679 131.101L586.664 220.911M624.679 131.101L500.193 62.4195M624.679 131.101L566.967 201.214M586.522 44.7721L500.193 4.23083M586.522 44.7721L500.193 62.4195M500.193 4.23083L411.48 44.7721M500.193 4.23083V62.4195M411.48 44.7721L374.754 131.101M411.48 44.7721L500.193 62.4195M374.754 131.101L411.48 221.246M374.754 131.101L431.989 201.214M374.754 131.101L500.193 62.4195M411.48 221.246L431.989 201.214M431.989 201.214H566.967M431.989 201.214L500.193 62.4195M566.967 201.214L586.664 220.911M566.967 201.214L500.193 62.4195" stroke="#87FBE8" stroke-width="1.15119" class="svg__stroke--help-green-02"></path><path d="M750.118 256.541L836.447 221.246L836.589 220.911M750.118 256.541L661.404 221.246M750.118 256.541L816.892 201.214M750.118 256.541L681.914 201.214M874.604 131.101L836.447 44.7721M874.604 131.101L836.589 220.911M874.604 131.101L750.118 62.4195M874.604 131.101L816.892 201.214M836.447 44.7721L750.118 4.23083M836.447 44.7721L750.118 62.4195M750.118 4.23083L661.404 44.7721M750.118 4.23083V62.4195M661.404 44.7721L624.679 131.101M661.404 44.7721L750.118 62.4195M624.679 131.101L661.404 221.246M624.679 131.101L681.914 201.214M624.679 131.101L750.118 62.4195M661.404 221.246L681.914 201.214M681.914 201.214H816.892M681.914 201.214L750.118 62.4195M816.892 201.214L836.589 220.911M816.892 201.214L750.118 62.4195" stroke="#5CD9FF" stroke-width="1.15119" class="svg__stroke--default-cyan-02"></path><path d="M1000.04 256.541L1086.37 221.246L1086.51 220.911M1000.04 256.541L911.329 221.246M1000.04 256.541L1066.82 201.214M1000.04 256.541L931.838 201.214M1124.53 131.101L1086.37 44.7721M1124.53 131.101L1086.51 220.911M1124.53 131.101L1000.04 62.4195M1124.53 131.101L1066.82 201.214M1086.37 44.7721L1000.04 4.23083M1086.37 44.7721L1000.04 62.4195M1000.04 4.23083L911.329 44.7721M1000.04 4.23083V62.4195M911.329 44.7721L874.604 131.101M911.329 44.7721L1000.04 62.4195M874.604 131.101L911.329 221.246M874.604 131.101L931.838 201.214M874.604 131.101L1000.04 62.4195M911.329 221.246L931.838 201.214M931.838 201.214H1066.82M931.838 201.214L1000.04 62.4195M1066.82 201.214L1086.51 220.911M1066.82 201.214L1000.04 62.4195" stroke="#87FBE8" stroke-width="1.15119" class="svg__stroke--help-green-02"></path><path d="M125.439 478.919L211.768 443.625L211.91 443.289M125.439 478.919L36.7256 443.625M125.439 478.919L192.213 423.592M125.439 478.919L57.2347 423.592M249.925 353.48L211.768 267.151M249.925 353.48L211.91 443.289M249.925 353.48L125.439 284.798M249.925 353.48L192.213 423.592M211.768 267.151L125.439 226.61M211.768 267.151L125.439 284.798M125.439 226.61L36.7256 267.151M125.439 226.61V284.798M36.7256 267.151L0 353.48M36.7256 267.151L125.439 284.798M0 353.48L36.7256 443.625M0 353.48L57.2347 423.592M0 353.48L125.439 284.798M36.7256 443.625L57.2347 423.592M57.2347 423.592H192.213M57.2347 423.592L125.439 284.798M192.213 423.592L211.91 443.289M192.213 423.592L125.439 284.798" stroke="#E7DBFF" stroke-width="1.15119" class="svg__stroke--about-purple-02"></path><path d="M375.364 478.919L461.693 443.625L461.835 443.289M375.364 478.919L286.65 443.625M375.364 478.919L442.138 423.592M375.364 478.919L307.16 423.592M499.85 353.48L461.693 267.151M499.85 353.48L461.835 443.289M499.85 353.48L375.364 284.798M499.85 353.48L442.138 423.592M461.693 267.151L375.364 226.61M461.693 267.151L375.364 284.798M375.364 226.61L286.65 267.151M375.364 226.61V284.798M286.65 267.151L249.925 353.48M286.65 267.151L375.364 284.798M249.925 353.48L286.65 443.625M249.925 353.48L307.16 423.592M249.925 353.48L375.364 284.798M286.65 443.625L307.16 423.592M307.16 423.592H442.138M307.16 423.592L375.364 284.798M442.138 423.592L461.835 443.289M442.138 423.592L375.364 284.798" stroke="#FFBDF4" stroke-width="1.15119" class="svg__stroke--visit-fushia-02"></path><path d="M625.289 478.919L711.618 443.625L711.76 443.289M625.289 478.919L536.575 443.625M625.289 478.919L692.063 423.592M625.289 478.919L557.085 423.592M749.775 353.48L711.618 267.151M749.775 353.48L711.76 443.289M749.775 353.48L625.289 284.798M749.775 353.48L692.063 423.592M711.618 267.151L625.289 226.61M711.618 267.151L625.289 284.798M625.289 226.61L536.575 267.151M625.289 226.61V284.798M536.575 267.151L499.85 353.48M536.575 267.151L625.289 284.798M499.85 353.48L536.575 443.625M499.85 353.48L557.085 423.592M499.85 353.48L625.289 284.798M536.575 443.625L557.085 423.592M557.085 423.592H692.063M557.085 423.592L625.289 284.798M692.063 423.592L711.76 443.289M692.063 423.592L625.289 284.798" stroke="#E7DBFF" stroke-width="1.15119" class="svg__stroke--about-purple-02"></path><path d="M875.214 478.919L961.543 443.625L961.685 443.289M875.214 478.919L786.5 443.625M875.214 478.919L941.988 423.592M875.214 478.919L807.009 423.592M999.7 353.48L961.543 267.151M999.7 353.48L961.685 443.289M999.7 353.48L875.214 284.798M999.7 353.48L941.988 423.592M961.543 267.151L875.214 226.61M961.543 267.151L875.214 284.798M875.214 226.61L786.5 267.151M875.214 226.61V284.798M786.5 267.151L749.775 353.48M786.5 267.151L875.214 284.798M749.775 353.48L786.5 443.625M749.775 353.48L807.009 423.592M749.775 353.48L875.214 284.798M786.5 443.625L807.009 423.592M807.009 423.592H941.988M807.009 423.592L875.214 284.798M941.988 423.592L961.685 443.289M941.988 423.592L875.214 284.798" stroke="#FFBDF4" stroke-width="1.15119" class="svg__stroke--visit-fushia-02"></path></g>',1),_G=[vG];function bG(t,e){return m(),T("svg",yG,[..._G])}const Vc={render:bG},TG=["innerHTML"],wG=["lang","innerHTML"],kG=["innerHTML"],SG={key:3,class:"byline-group"},xG=["innerHTML"],EG=["innerHTML"],CG={key:4,class:"date-time"},AG={key:0},LG=["innerHTML"],IG=["innerHTML"],MG={key:5,class:"location-group"},DG={key:6,class:"block-tags"},PG=["innerHTML"],OG={class:"slot"},RG=Be({__name:"CardMeta",props:{to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},ongoing:{type:Boolean,default:!1},locations:{type:Array,default:()=>[]},text:{type:String,default:""},bylineOne:{type:String,default:""},bylineTwo:{type:String,default:""},sectionHandle:{type:String,default:""},tagLabels:{type:Array,default:()=>[]},introduction:{type:String,default:""}},setup(t){const e=t,n=Re(()=>Promise.resolve().then(()=>TK)),r=ca(),i=Ol(),s=U(()=>!!(r!==void 0&&r.path.includes("impact"))),a=U(()=>s.value?"_blank":""),o=U(()=>e.startDate?no(e.startDate,e.endDate):""),l=U(()=>e.startDate&&e.sectionHandle==="event"?Uc(e.startDate,e.endDate):""),u=U(()=>e.locations.map(d=>{let p="svg-icon-location";return d.title==="Online"&&(p="svg-icon-virtual"),{...d,svg:p,to:d.to!=null?`/${d.to}`:""}})),c=U(()=>["card-meta",(i==null?void 0:i.value)||""]);return(d,p)=>(m(),T("div",{class:Oe(c.value)},[t.category?(m(),T("div",{key:0,class:"category",innerHTML:t.category},null,8,TG)):P("",!0),t.to?(m(),oe(pt,{key:1,"link-target":a.value,to:t.to,class:"title"},{default:Ie(()=>[tt(ye(t.title)+" ",1),t.alternativeFullName?(m(),T("span",{key:0,lang:t.language,class:"translation",innerHTML:t.alternativeFullName},null,8,wG)):P("",!0)]),_:1},8,["link-target","to"])):(m(),T("h3",{key:2,class:"title-no-link",innerHTML:t.title},null,8,kG)),t.bylineOne||t.bylineTwo?(m(),T("div",SG,[t.bylineOne?(m(),T("div",{key:0,class:"schedule-item",innerHTML:t.bylineOne},null,8,xG)):P("",!0),t.bylineTwo?(m(),T("div",{key:1,class:"schedule-item",innerHTML:t.bylineTwo},null,8,EG)):P("",!0)])):P("",!0),t.startDate||t.ongoing?(m(),T("div",CG,[t.ongoing?(m(),T("div",AG," Ongoing ")):P("",!0),t.startDate?(m(),T("time",{key:1,class:"schedule-item",innerHTML:o.value},null,8,LG)):P("",!0),t.startDate?(m(),T("time",{key:2,class:"schedule-item",innerHTML:l.value},null,8,IG)):P("",!0)])):P("",!0),t.locations.length?(m(),T("div",MG,[(m(!0),T(we,null,Fe(u.value,(f,y)=>(m(),oe(Bn,{key:`location-card-meta${y}`,text:f.title,"icon-name":f.svg,to:f.to},null,8,["text","icon-name","to"]))),128))])):P("",!0),t.tagLabels&&t.tagLabels.length>0?(m(),T("div",DG,[(m(!0),T(we,null,Fe(t.tagLabels,f=>(m(),oe($(n),{key:`tag-${f.title}`,label:f.title,class:"tag-label"},null,8,["label"]))),128))])):P("",!0),t.introduction?(m(),T("div",{key:7,class:"introduction",innerHTML:t.introduction},null,8,PG)):P("",!0),I("div",OG,[We(d.$slots,"default",{},void 0,!0)]),t.text?(m(),oe(ir,{key:8,class:"text","rich-text-content":t.text},null,8,["rich-text-content"])):P("",!0)],2))}}),qp=Me(RG,[["__scopeId","data-v-09f960dd"]]),NG={class:"image-container"},BG={key:1,class:"molecule-no-image"},FG=Be({__name:"BlockCardWithImage",props:{image:{type:Object,default:()=>{}},to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},ongoing:{type:Boolean,default:!1},isVertical:{type:Boolean,default:!0},imageAspectRatio:{type:Number,default:0},locations:{type:Array,default:()=>[]},text:{type:String,default:""},bylineOne:{type:String,default:""},bylineTwo:{type:String,default:""},color:{type:String,default:""},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=U(()=>["block-card-with-image",{"is-vertical":e.isVertical}]);return(r,i)=>(m(),T("li",{class:Oe(n.value)},[I("div",NG,[t.image?(m(),oe(Fn,{key:0,media:t.image,"aspect-ratio":t.imageAspectRatio,class:"image"},null,8,["media","aspect-ratio"])):(m(),T("div",BG,[ae($(Vc),{class:"molecule","aria-hidden":"true"})]))]),ae(qp,{to:t.to,category:t.category,title:t.title,"start-date":t.startDate,"end-date":t.endDate,ongoing:t.ongoing,text:t.text,"byline-one":t.bylineOne,"byline-two":t.bylineTwo,locations:t.locations,"alternative-full-name":t.alternativeFullName,language:t.language,"section-handle":t.sectionHandle},null,8,["to","category","title","start-date","end-date","ongoing","text","byline-one","byline-two","locations","alternative-full-name","language","section-handle"])],2))}}),Mv=Me(FG,[["__scopeId","data-v-983bb32c"]]);function UG(t=""){return Cr(new Date(t),"dd")}function jG(t=""){return Cr(new Date(t),"MMM")}const $G={class:"image-container"},HG={key:0,class:"floating-highlight"},VG={key:1,class:"clipped-date"},qG=["innerHTML"],WG=["innerHTML"],zG={key:3,class:"molecule-no-image"},GG=Be({__name:"BlockClippedDate",props:{image:{type:Object,default:()=>{}},to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},ongoing:{type:Boolean,default:!1},imageAspectRatio:{type:Number,default:0},locations:{type:Array,default:()=>[]},text:{type:String,default:""},bylineOne:{type:String,default:""},bylineTwo:{type:String,default:""},color:{type:String,default:""},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=ca(),r=U(()=>e.color||(n!==void 0&&n.path?qr(n.path):"default")),i=U(()=>["block-clipped-date",`color-${r.value}`]),s=U(()=>e.startDate?UG(e.startDate):""),a=U(()=>e.startDate?jG(e.startDate):"");return(o,l)=>(m(),T("li",{class:Oe(i.value)},[I("div",$G,[t.startDate?(m(),T("div",HG)):P("",!0),t.startDate?(m(),T("div",VG,[t.startDate?(m(),T("time",{key:0,class:"month",innerHTML:a.value},null,8,qG)):P("",!0),t.startDate?(m(),T("time",{key:1,class:"day",innerHTML:s.value},null,8,WG)):P("",!0)])):P("",!0),t.image?(m(),oe(Fn,{key:2,media:t.image,"aspect-ratio":t.imageAspectRatio,class:"image"},null,8,["media","aspect-ratio"])):(m(),T("div",zG,[ae($(Vc),{class:"molecule","aria-hidden":"true"})]))]),ae(qp,{to:t.to,category:t.category,title:t.title,"start-date":t.startDate,"end-date":t.endDate,ongoing:t.ongoing,text:t.text,"byline-one":t.bylineOne,"byline-two":t.bylineTwo,locations:t.locations,"alternative-full-name":t.alternativeFullName,language:t.language,"section-handle":t.sectionHandle},null,8,["to","category","title","start-date","end-date","ongoing","text","byline-one","byline-two","locations","alternative-full-name","language","section-handle"])],2))}}),kx=Me(GG,[["__scopeId","data-v-5c79e19c"]]),YG={width:"81",height:"80",viewBox:"0 0 81 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__graphic-chevron-right"},KG=I("path",{d:"M8.934 79.601 24.819 41.251M24.817 79.601 40.702 41.251M40.702 79.601 56.587 41.251M56.585 79.601 72.471 41.251",stroke:"#0AA5FF","stroke-width":"1.5"},null,-1),XG=I("path",{d:"M24.819 39.35 8.934 1M40.702 39.35 24.817 1M56.587 39.35 40.702 1M72.471 39.35 56.585 1",stroke:"#00E0E0","stroke-width":"1.5",class:"svg__stroke--wayfinder"},null,-1),QG=[KG,XG];function ZG(t,e){return m(),T("svg",YG,[...QG])}const qc={render:ZG},JG={name:"BlockDate",components:{SvgArrowDown:qc},props:{date:{type:String,default:""},day:{type:String,default:""}}},eY={class:"block-date"},tY={class:"date"},nY={class:"day"};function rY(t,e,n,r,i,s){const a=lt("SvgArrowDown");return m(),T("div",eY,[ae(a,{class:"svg"}),I("div",tY,ye(n.date),1),I("div",nY,ye(n.day),1)])}const iY=Me(JG,[["render",rY],["__scopeId","data-v-8c66c801"]]),sY={name:"BlockEvent",components:{SmartLink:pt},props:{title:{type:String,default:""},category:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},prompt:{type:String,default:"View"},to:{type:String,default:""},sectionHandle:{type:String,default:""}},computed:{classes(){return["block-event",`button color-${this.sectionName}`]},sectionName(){return qr(this.to)},parsedDate(){return no(this.startDate,this.endDate)},parsedSingledDate(){return Cr(new Date(this.startDate),"MMMM d, Y")},parsedTime(){return this.startDate&&this.sectionHandle==="event"?Uc(this.startDate,this.endDate):""}}},Sx=t=>(Ot("data-v-39052f8d"),t=t(),Rt(),t),aY=Sx(()=>I("div",{class:"molecule row"},null,-1)),oY={class:"text row"},lY={class:"category"},uY=["textContent"],cY={class:"date-time"},dY=["textContent"],hY=["textContent"],pY=Sx(()=>I("div",{class:"sizer"},null,-1));function fY(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("div",{class:Oe(s.classes)},[aY,I("div",oY,[I("span",lY,ye(n.category),1),I("h2",{class:"title",textContent:ye(n.title)},null,8,uY),I("div",cY,[n.startDate?(m(),T("time",{key:0,class:"dates",textContent:ye(s.parsedDate)},null,8,dY)):P("",!0),s.parsedTime?(m(),T("time",{key:1,class:"time",textContent:ye(s.parsedTime)},null,8,hY)):P("",!0)]),ae(a,{class:Oe(s.classes),to:n.to,textContent:ye(n.prompt)},null,8,["class","to","textContent"])]),pY],2)}const xx=Me(sY,[["render",fY],["__scopeId","data-v-39052f8d"]]),Ex=t=>(Ot("data-v-b22f8d83"),t=t(),Rt(),t),mY={class:"image-container"},gY={key:1,class:"molecule-no-image"},yY={key:2,class:"clipped"},vY=Ex(()=>I("div",{class:"floating-highlight"},null,-1)),_Y=Ex(()=>I("div",{class:"clipped-box"},null,-1)),bY=[vY,_Y],TY=Be({__name:"BlockFloatingHighlight",props:{image:{type:Object,default:()=>{}},to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""},ongoing:{type:Boolean,default:!1},hasTriangle:{type:Boolean,default:!0},isVertical:{type:Boolean,default:!0},imageAspectRatio:{type:Number,default:0},locations:{type:Array,default:()=>[]},text:{type:String,default:""},bylineOne:{type:String,default:""},bylineTwo:{type:String,default:""},color:{type:String,default:""},sectionHandle:{type:String,default:""}},setup(t){const e=t,n=ca(),r=U(()=>e.color||(n!==void 0&&n.path?qr(n.path):"default")),i=U(()=>["block-floating-highlight",{"is-vertical":e.isVertical},{"has-triangle":e.hasTriangle},`color-${r.value}`]);return(s,a)=>(m(),T("li",{class:Oe(i.value)},[I("div",mY,[t.image?(m(),oe(Fn,{key:0,media:t.image,"aspect-ratio":t.imageAspectRatio,class:"image"},null,8,["media","aspect-ratio"])):(m(),T("div",gY,[ae($(Vc),{class:"molecule","aria-hidden":"true"})])),t.hasTriangle?(m(),T("div",yY,bY)):P("",!0)]),ae(qp,{to:t.to,category:t.category,title:t.title,"start-date":t.startDate,"end-date":t.endDate,ongoing:t.ongoing,text:t.text,"byline-one":t.bylineOne,"byline-two":t.bylineTwo,locations:t.locations,"alternative-full-name":t.alternativeFullName,language:t.language,"section-handle":t.sectionHandle},null,8,["to","category","title","start-date","end-date","ongoing","text","byline-one","byline-two","locations","alternative-full-name","language","section-handle"])],2))}}),Dv=Me(TY,[["__scopeId","data-v-b22f8d83"]]),wY={class:"block-generic-list"},kY={key:0,class:"category"},SY=["lang"],xY={key:2,class:"title-no-link"},EY={key:3,class:"byline-group"},CY={key:0,class:"schedule-item"},AY={key:0,class:"schedule-item"},LY={key:4,class:"location-group"},IY={key:5,class:"text"},MY=Be({__name:"BlockGenericList",props:{title:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},text:{type:String,default:""},jobRequisitionNumber:{type:String,default:""},jobPostingURL:{type:String,default:""},departments:{type:Array,default:()=>[]},associatedLocations:{type:Array,default:()=>[]},payRate:{type:String,default:""}},setup(t){const e=t,n=U(()=>e.text?na(e.text,250):"");return(r,i)=>(m(),T("li",wY,[t.jobRequisitionNumber?(m(),T("div",kY," JOB #"+ye(t.jobRequisitionNumber),1)):P("",!0),t.jobPostingURL?(m(),oe(pt,{key:1,to:t.jobPostingURL,class:"title"},{default:Ie(()=>[tt(ye(t.title)+" ",1),t.alternativeFullName?(m(),T("span",{key:0,lang:t.language,class:"translation"},ye(t.alternativeFullName),9,SY)):P("",!0)]),_:1},8,["to"])):(m(),T("h3",xY,ye(t.title),1)),t.departments.length||t.payRate?(m(),T("div",EY,[t.departments.length||t.payRate?(m(),T("div",CY,[(m(!0),T(we,null,Fe(t.departments,(s,a)=>(m(),T("div",{key:`block-generic-${s.title}-${a}`,class:"schedule-item"},ye(s.title),1))),128)),t.payRate?(m(),T("div",AY,ye(t.payRate),1)):P("",!0)])):P("",!0)])):P("",!0),t.associatedLocations.length>0?(m(),T("div",LY,[(m(!0),T(we,null,Fe(t.associatedLocations,(s,a)=>(m(),oe(Bn,{key:`block-generic-${s.title}-${a}`,text:s.title,"icon-name":"svg-icon-location",to:s.to},null,8,["text","to"]))),128))])):P("",!0),t.text?(m(),T("div",IY,ye(n.value),1)):P("",!0)]))}}),Cx=Me(MY,[["__scopeId","data-v-36828094"]]),DY=t=>(Ot("data-v-439ba39f"),t=t(),Rt(),t),PY={class:"block-hours"},OY=DY(()=>I("h3",{class:"title"}," Hours ",-1)),RY={class:"content"},NY=["src"],BY=Be({__name:"BlockHours",props:{lid:{type:String,default:""},isClicc:{type:Boolean,default:!1}},setup(t){const e=t,n=U(()=>e.isClicc?"https://www.library.ucla.edu/blockCliccHours.html?lid=0":`https://www.library.ucla.edu/blockHours.html?lid=${e.lid}`);return Ht(()=>{window.addEventListener("message",r=>{const i=r.data[0],s=r.data[1],a=r.source,o=document.getElementsByTagName("iframe");switch(i){case"setHeight":for(let l=0;l<o.length;l++)if(o[l].contentWindow===a){o[l].style.height=`${s+20}px`;break}break}},!1)}),(r,i)=>(m(),T("div",PY,[OY,I("div",RY,[I("iframe",{id:"the-iframe",title:"Hours for location",class:"iframe",src:n.value,frameBorder:"0",width:"100%",height:"100%"},null,8,NY),ae(bs,{label:"All Library Hours","is-secondary":!0,to:"https://calendar.library.ucla.edu/hours",class:"btn-lnk"})])]))}}),FY=Me(BY,[["__scopeId","data-v-439ba39f"]]),UY={class:"card-container"},jY={class:"image-container"},$Y={key:1,class:"molecule-no-image"},HY={class:"library"},VY={class:"text"},qY={key:0,class:"time"},WY={key:0},zY={key:1,class:"hour"},GY={key:2,class:"amenities"},YY={class:"tooltiptext"},KY=Be({__name:"BlockLocationListItem",props:{image:{type:Object,default:()=>{}},title:{type:String,default:""},to:{type:String,default:""},address:{type:String,default:""},addressLink:{type:String,default:""},amenities:{type:Array,default:()=>[]},reserveSeat:{type:String,default:""},isUclaLibrary:{type:Boolean,default:!0},affiliateLibraryUrl:{type:String,default:""},locationType:{type:String,default:""},campusMapId:{type:String,default:""},libcalSpacesUrl:{type:String,default:""},libcalLocationIdForHours:{type:String,default:""}},setup(t){const e=t,n=Re(()=>Ne(()=>import("./CxBKLtKu.js"),[],import.meta.url)),r=Re(()=>Promise.resolve().then(()=>E6)),i=Re(()=>Ne(()=>import("./CTia1ZT8.js"),[],import.meta.url)),s=Re(()=>Ne(()=>import("./CQNP4Mh6.js"),[],import.meta.url)),a=Re(()=>Ne(()=>import("./NLw7hrsJ.js"),[],import.meta.url)),o=Re(()=>Ne(()=>import("./B-fZeNxQ.js"),[],import.meta.url)),l=Re(()=>Ne(()=>import("./_7cJYPql.js"),[],import.meta.url)),u=Re(()=>Ne(()=>import("./3Mt4oOwI.js"),[],import.meta.url)),c=Re(()=>Ne(()=>import("./BbJOdKoS.js"),[],import.meta.url)),d=Re(()=>Ne(()=>import("./CrfRVeit.js"),[],import.meta.url)),p=Re(()=>Promise.resolve().then(()=>ex)),f=Re(()=>Ne(()=>import("./udQ65OBv.js"),[],import.meta.url)),y={IconPhone:n,IconCalendar:r,IconLocation:i,IconClock:s,IconAccessible:a,IconChair:o,IconVirtual:l,IconLaptop:u,IconLocker:c,IconLight:d,IconShare:p,IconBook:f},b=de(null);function S(){const A=`https://calendar.library.ucla.edu/api_hours_today.php?iid=3244&lid=${e.libcalLocationIdForHours}&format=json&systemTime=0`;fetch(A).then(D=>D.json()).then(D=>{b.value={...D.locations[0],...D.locations[0].times}}).catch(D=>{console.error(D)})}const E=U(()=>e.isUclaLibrary?"ucla":"affiliate"),x=U(()=>["block-location-list-item",`color-${E.value}`]),k=U(()=>{var A,D,M;return((A=b==null?void 0:b.value)==null?void 0:A.status)==="open"?`${b.value.hours[0].from} -  ${b.value.hours[0].to}`:((D=b==null?void 0:b.value)==null?void 0:D.status)==="text"?b.value.text:(M=b==null?void 0:b.value)==null?void 0:M.status}),L=U(()=>!!(e.image&&Object.keys(e.image).length!==0));return Ht(()=>{S()}),(A,D)=>(m(),T("div",{class:Oe(x.value)},[I("div",UY,[I("div",jY,[L.value?(m(),oe(Fn,{key:0,class:"image",media:e.image},null,8,["media"])):(m(),T("div",$Y,[ae($(Vc),{class:"molecule","aria-hidden":"true"})]))]),I("div",HY,[I("div",null,[e.to?(m(),oe(pt,{key:0,to:e.to,class:"title"},{default:Ie(()=>[tt(ye(e.title),1)]),_:1},8,["to"])):(m(),oe(pt,{key:1,to:e.affiliateLibraryUrl,class:"title"},{default:Ie(()=>[tt(ye(e.title),1)]),_:1},8,["to"]))]),I("div",VY,[b.value&&e.isUclaLibrary?(m(),T("div",qY,[ae($(s)),b.value.day?(m(),T("span",WY,ye("Today"))):P("",!0),b.value.status!=="not-set"?(m(),T("div",zY,[I("span",null,ye(k.value),1)])):P("",!0)])):P("",!0),e.reserveSeat?(m(),oe(Bn,{key:1,text:"Reserve a Seat","icon-name":"svg-icon-calendar",to:e.reserveSeat,class:"reserve"},null,8,["to"])):P("",!0),ae(Bn,{text:e.address,"icon-name":"svg-icon-location",to:e.addressLink,class:"location"},null,8,["text","to"]),e.amenities?(m(),T("div",GY,[(m(!0),T(we,null,Fe(t.amenities,M=>(m(),T("div",{key:`amenity-${M.title}`,class:"tooltip"},[I("span",YY,ye(M.title),1),(m(),oe(Lt(y[M.icon]),{class:"svg"}))]))),128))])):P("",!0)])])])],2))}}),Ax=Me(KY,[["__scopeId","data-v-fd39eb52"]]),XY={width:"81",height:"80",viewBox:"0 0 81 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-headphones"},QY=Yi('<path d="M40.5 0L68.7843 11.7157L80.5 40L68.7843 68.2843L40.5 80L12.2158 68.2843L0.5 40L12.2158 11.7157L40.5 0Z" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path><rect x="24.5566" y="40.8452" width="5.15" height="16.5937" rx="0.655858" stroke="white" stroke-width="1.25" class="svg__stroke--white"></rect><rect x="-0.625" y="0.625" width="5.14976" height="16.5937" rx="0.655858" transform="matrix(-1 0 0 1 55.8071 40.2202)" stroke="white" stroke-width="1.25" class="svg__stroke--white"></rect><path d="M60 51.25L59.9368 41.3155C59.8688 30.628 51.1858 22 40.4981 22V22C29.8075 22 21.1233 30.6325 21.0593 41.3229L21 51.25" stroke="white" stroke-width="1.25" class="svg__stroke--white"></path><path d="M24 54.9702L24.079 55.5902L24.625 55.5206V54.9702H24ZM21.75 54.5292L21.3181 54.981L21.75 54.5292ZM21.0015 52.5255L21.6218 52.4491L21.0015 52.5255ZM23.375 44.5V54.9702H24.625V44.5H23.375ZM21.625 52.4999V44.5H20.375V52.4999H21.625ZM24 54.9702C23.921 54.3502 23.9211 54.3502 23.9213 54.3502C23.9213 54.3502 23.9214 54.3501 23.9215 54.3501C23.9216 54.3501 23.9217 54.3501 23.9218 54.3501C23.922 54.3501 23.9221 54.3501 23.9221 54.3501C23.9221 54.3501 23.9217 54.3501 23.921 54.3502C23.9195 54.3504 23.9166 54.3507 23.9124 54.3512C23.9039 54.3521 23.8901 54.3536 23.8715 54.3554C23.8342 54.3589 23.7782 54.3636 23.7082 54.3675C23.567 54.3754 23.3743 54.3797 23.166 54.3667C22.7039 54.3377 22.3445 54.2328 22.1819 54.0774L21.3181 54.981C21.8273 55.4676 22.5928 55.5832 23.0878 55.6142C23.358 55.6312 23.6019 55.6254 23.7776 55.6156C23.866 55.6107 23.9386 55.6047 23.9903 55.5997C24.0161 55.5973 24.0369 55.5951 24.0518 55.5934C24.0593 55.5925 24.0654 55.5918 24.0699 55.5913C24.0722 55.591 24.0741 55.5908 24.0756 55.5906C24.0764 55.5905 24.077 55.5904 24.0776 55.5903C24.0779 55.5903 24.0781 55.5903 24.0784 55.5902C24.0785 55.5902 24.0786 55.5902 24.0787 55.5902C24.0788 55.5902 24.079 55.5902 24 54.9702ZM22.1819 54.0774C22.0372 53.9391 21.8896 53.6214 21.7768 53.2149C21.6728 52.8401 21.6288 52.5057 21.6218 52.4491L20.3811 52.6018C20.3917 52.6872 20.4449 53.0899 20.5723 53.5491C20.6909 53.9766 20.9088 54.5897 21.3181 54.981L22.1819 54.0774ZM20.375 52.4999C20.375 52.5295 20.3764 52.5635 20.3811 52.6018L21.6218 52.4491C21.623 52.4588 21.6238 52.4684 21.6244 52.4779C21.6249 52.4872 21.625 52.4948 21.625 52.4999H20.375ZM22.5 43.625C22.9832 43.625 23.375 44.0168 23.375 44.5H24.625C24.625 43.3264 23.6736 42.375 22.5 42.375V43.625ZM22.5 42.375C21.3264 42.375 20.375 43.3264 20.375 44.5H21.625C21.625 44.0168 22.0167 43.625 22.5 43.625V42.375Z" fill="white" class="svg__fill--white"></path><path d="M57 54.9702L56.921 55.5902L56.375 55.5206V54.9702H57ZM59.25 54.5292L58.8181 54.0774L58.8181 54.0774L59.25 54.5292ZM59.9985 52.5255L60.6189 52.6018L59.9985 52.5255ZM57.625 44.5V54.9702H56.375V44.5H57.625ZM59.375 52.4999V44.5H60.625V52.4999H59.375ZM57 54.9702C57.079 54.3502 57.0789 54.3502 57.0787 54.3502C57.0787 54.3502 57.0786 54.3501 57.0785 54.3501C57.0784 54.3501 57.0783 54.3501 57.0782 54.3501C57.078 54.3501 57.0779 54.3501 57.0779 54.3501C57.0779 54.3501 57.0783 54.3501 57.079 54.3502C57.0805 54.3504 57.0834 54.3507 57.0876 54.3512C57.0961 54.3521 57.1099 54.3536 57.1285 54.3554C57.1658 54.3589 57.2218 54.3636 57.2918 54.3675C57.433 54.3754 57.6257 54.3797 57.834 54.3667C58.2961 54.3377 58.6555 54.2328 58.8181 54.0774L59.6819 54.981C59.1727 55.4676 58.4072 55.5832 57.9122 55.6142C57.642 55.6312 57.3981 55.6254 57.2224 55.6156C57.134 55.6107 57.0614 55.6047 57.0097 55.5997C56.9839 55.5973 56.9631 55.5951 56.9482 55.5934C56.9407 55.5925 56.9346 55.5918 56.9301 55.5913C56.9278 55.591 56.9259 55.5908 56.9244 55.5906C56.9236 55.5905 56.923 55.5904 56.9224 55.5903C56.9221 55.5903 56.9219 55.5903 56.9216 55.5902C56.9215 55.5902 56.9214 55.5902 56.9213 55.5902C56.9212 55.5902 56.921 55.5902 57 54.9702ZM58.8181 54.0774C58.9628 53.9391 59.1104 53.6214 59.2232 53.2149C59.3272 52.8401 59.3712 52.5057 59.3782 52.4491L60.6189 52.6018C60.6083 52.6872 60.5551 53.0899 60.4277 53.5491C60.3091 53.9766 60.0912 54.5897 59.6819 54.981L58.8181 54.0774ZM60.625 52.4999C60.625 52.5295 60.6236 52.5635 60.6189 52.6018L59.3782 52.4491C59.377 52.4588 59.3762 52.4684 59.3756 52.4779C59.3751 52.4872 59.375 52.4948 59.375 52.4999H60.625ZM58.5 43.625C58.0168 43.625 57.625 44.0168 57.625 44.5H56.375C56.375 43.3264 57.3264 42.375 58.5 42.375V43.625ZM58.5 42.375C59.6736 42.375 60.625 43.3264 60.625 44.5H59.375C59.375 44.0168 58.9833 43.625 58.5 43.625V42.375Z" fill="white" class="svg__fill--white"></path>',6),ZY=[QY];function JY(t,e){return m(),T("svg",XY,[...ZY])}const _m={render:JY},eK={class:"media-with-text"},tK={class:"text-grouping"},nK=["innerHTML"],rK={class:"meta-mobile"},iK={key:1,class:"no-media-mobile"},sK={class:"clippy"},aK={key:0,class:"floating-highlight-mobile"},oK={key:1,class:"clipped-play-mobile"},lK=["innerHTML"],uK={class:"clippy"},cK={key:0,class:"floating-highlight"},dK={key:1,class:"clipped-play"},hK={key:1,class:"no-media"},pK=Be({__name:"BlockMediaWithText",props:{sectionHeader:{type:String,default:""},shortDescription:{type:String,default:""},buttonText:{type:String,default:""},buttonUrl:{type:String,default:""},embedCode:{type:String,default:""},typeMedia:{type:String,default:""},item:{type:Array,default:()=>[]},coverImage:{type:Array,default:()=>[]}},setup(t){const e=t,n=Re(()=>Ne(()=>import("./C4tmCuon.js"),[],import.meta.url)),r=Re(()=>Promise.resolve().then(()=>Fc)),i=Re(()=>Promise.resolve().then(()=>Y_e)),s=Re(()=>Promise.resolve().then(()=>Bbe)),a=de(!1),o=U(()=>e.typeMedia==="audio"||e.item&&e.item[0]&&e.item[0].kind==="audio"),l=U(()=>e.typeMedia==="video"||e.item&&e.item[0]&&e.item[0].kind==="video"),u=U(()=>[{item:e.item,coverImage:e.coverImage,embedCode:e.embedCode,captionTitle:e.sectionHeader,captionText:e.shortDescription}]),c=U(()=>!!(e.buttonUrl&&e.typeMedia==="other"));return(d,p)=>(m(),T("div",eK,[I("div",tK,[I("h3",{class:"section-header",innerHTML:t.sectionHeader},null,8,nK),I("div",rK,[t.item||t.coverImage?(m(),oe($(i),{key:0,item:t.item,"cover-image":t.coverImage,"cover-only":!0,class:"media-mobile",onClick:p[0]||(p[0]=f=>a.value=!0)},null,8,["item","cover-image"])):P("",!0),t.item||t.coverImage?P("",!0):(m(),T("div",iK)),I("div",sK,[l.value||o.value?(m(),T("div",aK)):P("",!0),l.value||o.value?(m(),T("div",oK)):P("",!0),l.value||o.value?(m(),oe($(n),{key:2,class:"icon-play-filled-mobile"})):P("",!0)]),o.value?(m(),oe($(_m),{key:2,class:"icon-headphones-mobile"})):P("",!0)]),t.shortDescription?(m(),T("div",{key:0,class:"short-description",innerHTML:t.shortDescription},null,8,lK)):P("",!0),t.buttonUrl?(m(),oe($(r),{key:1,class:"button",to:t.buttonUrl,label:t.buttonText,"is-secondary":!0,"is-download":c.value},null,8,["to","label","is-download"])):P("",!0)]),t.item||t.coverImage?(m(),oe($(i),{key:0,item:t.item,"cover-image":t.coverImage,"cover-only":!0,class:"meta media",onClick:p[1]||(p[1]=f=>o.value||l.value?a.value=!0:a.value=!1)},{default:Ie(()=>[I("div",uK,[l.value||o.value?(m(),T("div",cK)):P("",!0),l.value||o.value?(m(),T("div",dK)):P("",!0),l.value||o.value?(m(),oe($(n),{key:2,class:"icon-play-filled"})):P("",!0)]),o.value?(m(),oe($(_m),{key:0,class:"icon-headphones"})):P("",!0),o.value?(m(),oe($(_m),{key:1,class:"icon-headphones"})):P("",!0)]),_:1},8,["item","cover-image"])):P("",!0),t.item||t.coverImage?P("",!0):(m(),T("div",hK)),a.value?(m(),oe($(s),{key:2,items:u.value,onCloseModal:p[2]||(p[2]=f=>a.value=!1),onKeydown:p[3]||(p[3]=ta(f=>a.value=!1,["esc"]))},null,8,["items"])):P("",!0)]))}}),Lx=Me(pK,[["__scopeId","data-v-a37a7554"]]),fK={class:"meta"},mK=["innerHTML"],gK=["innerHTML"],yK=["innerHTML"],vK=Be({__name:"BlockPostSmall",props:{image:{type:Object,default:()=>{}},categoryName:{type:String,default:""},title:{type:String,default:""},author:{type:String,default:""},to:{type:String,default:""}},setup(t){const e=t,n=U(()=>qr(e.to)),r=U(()=>["block-post-small",`color-${n.value}`]),i=U(()=>`By ${e.author}`);return(s,a)=>{const o=lt("smart-link");return m(),T("div",null,[ae(o,{to:t.to,class:Oe(r.value)},{default:Ie(()=>[t.image?(m(),oe(Fn,{key:0,media:t.image,"aspect-ratio":100,class:"image"},null,8,["media"])):P("",!0),I("div",fK,[I("div",{class:"category",innerHTML:t.categoryName},null,8,mK),I("h3",{class:"title",innerHTML:t.title},null,8,gK),I("div",{class:"author",innerHTML:i.value},null,8,yK)])]),_:1},8,["to","class"])])}}}),Ix=Me(vK,[["__scopeId","data-v-e23267ae"]]),_K=["innerHTML"],bK=Be({__name:"BlockTag",props:{label:{type:String,default:""},iconName:{type:String,required:!1},isSecondary:{type:Boolean,default:!1}},setup(t){const{label:e,iconName:n,isSecondary:r}=t,i=Ol(),s=Re(()=>Ne(()=>import("./BVViy_b3.js"),[],import.meta.url)),a=Re(()=>Ne(()=>import("./DodsQdER.js"),[],import.meta.url)),o=Re(()=>Ne(()=>import("./C8mHflC8.js"),[],import.meta.url)),l=Re(()=>Ne(()=>import("./CRDdDl9n.js"),[],import.meta.url)),u=Re(()=>Ne(()=>import("./Bf0MTNgn.js"),[],import.meta.url)),c=Re(()=>Ne(()=>import("./BnCtlbOh.js"),[],import.meta.url)),d=Re(()=>Ne(()=>import("./BURcmI3R.js"),[],import.meta.url)),p={SvgIconGuest:s,SvgIconFilm:a,SvgIconTV:o,SvgIconFilmreel:l,SvgIconDigital:u,SvgIconOnline:c,SvgIconFamilyFriendly:d},f=U(()=>["block-tag",(i==null?void 0:i.value)||"",r?"":"primary"]);return(y,b)=>(m(),T("span",{class:Oe(f.value)},[t.iconName?(m(),oe(Lt(p[t.iconName]),{key:0,class:"svg","aria-hidden":"true"})):P("",!0),I("div",{class:"label",innerHTML:t.label},null,8,_K),We(y.$slots,"default",{},void 0,!0)],2))}}),Pv=Me(bK,[["__scopeId","data-v-09745767"]]),TK=Object.freeze(Object.defineProperty({__proto__:null,default:Pv},Symbol.toStringTag,{value:"Module"})),wK={class:"button-close"},kK={__name:"BlockRemoveSearchFilter",props:{title:{type:String,default:""},iconName:{type:String,required:!1}},emits:["removeBlockFilter"],setup(t,{emit:e}){const n=e,r=Re(()=>Promise.resolve().then(()=>H5)),i=Re(()=>Ne(()=>import("./Doz03SdN.js"),[],import.meta.url)),s={SvgGlyphClose:r,SvgGlyphX:i},a=ca(),o=Ol(),l=U(()=>a!==void 0&&a.path?qr(a.path):"default"),u=U(()=>["block-remove-search-filter",(o==null?void 0:o.value)||"",`color-${l.value}`]),c=U(()=>{switch(o==null?void 0:o.value){case"ftva":return"SvgGlyphX";default:return"SvgGlyphClose"}});function d(){n("removeBlockFilter")}return(p,f)=>(m(),T("button",{type:"button",class:Oe(u.value),onClick:d},[ae(Pv,{label:t.title,"icon-name":t.iconName,theme:$(o),"is-secondary":!0},{default:Ie(()=>[I("span",wK,[(m(),oe(Lt(s[c.value])))])]),_:1},8,["label","icon-name","theme"])],2))}},Mx=Me(kK,[["__scopeId","data-v-6b4e6d47"]]),SK={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-collapse"},xK=I("path",{d:"M8.00014 16.0314 24 15.9656",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),EK=[xK];function CK(t,e){return m(),T("svg",SK,[...EK])}const AK={render:CK},LK={width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-stroke"},IK=I("path",{d:"M12.2898 12.2897L40 0.811795L67.7103 12.2897L79.1882 40L67.7103 67.7103L40 79.1882L12.2898 67.7103L0.811795 40L12.2898 12.2897Z",stroke:"#0AA5FF","stroke-width":"1.5",class:"svg__stroke--default-cyan-03"},null,-1),MK=[IK];function DK(t,e){return m(),T("svg",LK,[...MK])}const Ov={render:DK},PK={name:"ButtonHide",components:{IconCollapse:AK,MoleculeStroke:Ov},props:{text:{type:String,default:"See Less"}}},OK={class:"button-hide"},RK={class:"icon","aria-hidden":"true"},NK={class:"text"};function BK(t,e,n,r,i,s){const a=lt("MoleculeStroke"),o=lt("IconCollapse");return m(),T("button",OK,[I("div",RK,[ae(a,{class:"molecule-stroke"}),ae(o,{class:"icon-collapse"})]),I("div",NK,ye(n.text),1)])}const Dx=Me(PK,[["render",BK],["__scopeId","data-v-799177e1"]]),FK={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-expand"},UK=I("path",{d:"m16.0333 23.0381-.0652-14.07692",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),jK=I("path",{d:"m8.95828 16.0291 14.08422-.0579",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),$K=[UK,jK];function HK(t,e){return m(),T("svg",FK,[...$K])}const VK={render:HK},qK={name:"ButtonShow",components:{IconExpand:VK,MoleculeStroke:Ov},props:{text:{type:String,default:"See More"}}},WK={class:"button-show"},zK={class:"icon","aria-hidden":"true"},GK={class:"text"};function YK(t,e,n,r,i,s){const a=lt("MoleculeStroke"),o=lt("IconExpand");return m(),T("button",WK,[I("div",zK,[ae(a,{class:"molecule-stroke"}),ae(o,{class:"icon-expand"})]),I("div",GK,ye(n.text),1)])}const Px=Me(qK,[["render",YK],["__scopeId","data-v-ae8c2342"]]),KK={name:"BlockShowHide",components:{ButtonShow:Px,ButtonHide:Dx},props:{disable:{type:Boolean,default:!1},tag:{type:String,default:"div"}},data(){return{shown:!1}},computed:{classes(){return["block-show-hide",this.shown?"shown":"hidden"]}}};function XK(t,e,n,r,i,s){const a=lt("ButtonHide"),o=lt("ButtonShow");return m(),oe(Lt(n.tag),{class:Oe(s.classes)},{default:Ie(()=>[We(t.$slots,"default",{},void 0,!0),!n.disable&&i.shown?(m(),oe(a,{key:0,class:"button-toggle",onClick:e[0]||(e[0]=l=>i.shown=!1)})):n.disable?P("",!0):(m(),oe(o,{key:1,class:"button-toggle",onClick:e[1]||(e[1]=l=>i.shown=!0)}))]),_:3},8,["class"])}const Rv=Me(KK,[["render",XK],["__scopeId","data-v-37bd57a5"]]),QK={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-external-link"},ZK=I("g",{"clip-path":"url(#a)"},[I("path",{d:"m11.878 19.5671 9.5414-9.5415",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"}),I("path",{d:"M22.7092 19.5667v.75h-1.5v-.75h1.5Zm-.75-10.08159v-.75h.75v.75h-.75Zm-10.0815.74999h-.75V8.73511h.75v1.49999Zm9.3315 9.3316V9.48511h1.5V19.5667h-1.5Zm.75-9.3316H11.8777V8.73511h10.0815v1.49999Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"}),I("path",{d:"M7 25.4744h14.2857",stroke:"#0AA5FF","stroke-width":"1.5",class:"svg__stroke--default-cyan-03"})],-1),JK=[ZK];function Ox(t,e){return m(),T("svg",QK,[...JK])}const Wp={render:Ox},Rx=Object.freeze(Object.defineProperty({__proto__:null,default:Wp,render:Ox},Symbol.toStringTag,{value:"Module"})),eX={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-arrow-right"},tX=I("g",{stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},[I("path",{d:"M9 16.729h13.25"}),I("path",{d:"m16 23.729 7-7-7-7"})],-1),nX=[tX];function Nx(t,e){return m(),T("svg",eX,[...nX])}const Qa={render:Nx},rX=Object.freeze(Object.defineProperty({__proto__:null,default:Qa,render:Nx},Symbol.toStringTag,{value:"Module"})),iX={name:"BlockSimpleCard",components:{SvgArrowRightSmall:Qa,SvgArrowDiagonal:Wp,SmartLink:pt},props:{title:{type:String,default:""},text:{type:String,default:""},to:{type:String,default:""}},computed:{classes(){return["block-simple-card",`color-${this.sectionName}`]},sectionName(){return qr(this.to)},parsedIconName(){return kv(this.to)?"svg-arrow-right-small":"svg-arrow-diagonal"},parsedText(){return this.text?na(this.text,250):""}}},sX=t=>(Ot("data-v-b98c3ebe"),t=t(),Rt(),t),aX={class:"section"},oX={class:"title2"},lX={key:0,class:"text"},uX=sX(()=>I("div",{class:"spacer"},null,-1)),cX={class:"svg-meta","aria-hidden":"true"};function dX(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("li",{class:Oe(s.classes)},[I("span",aX,ye(s.sectionName),1),I("h3",oX,[n.title?(m(),oe(a,{key:0,to:n.to,class:"title"},{default:Ie(()=>[tt(ye(n.title),1)]),_:1},8,["to"])):P("",!0)]),n.text?(m(),T("div",lX,ye(s.parsedText),1)):P("",!0),uX,I("div",cX,[(m(),oe(Lt(s.parsedIconName),{class:"svg"}))])],2)}const Bx=Me(iX,[["render",dX],["__scopeId","data-v-b98c3ebe"]]),hX={name:"BlockSpaces",components:{SvgHeadingArrow:qc,SmartLink:pt,ButtonLink:bs,RichText:ir},props:{to:{type:String,default:""},title:{type:String,default:""},isOnline:{type:Boolean,default:!1},text:{type:String,default:""},buttonText:{type:String,default:"Reserve"}}},pX={class:"block-spaces"},fX={class:"arrow-and-title"},mX={key:0,class:"space-title"},gX=["innerHTML"],yX={class:"meta"};function vX(t,e,n,r,i,s){const a=lt("SvgHeadingArrow"),o=lt("SmartLink"),l=lt("RichText"),u=lt("ButtonLink");return m(),T("li",pX,[(m(),oe(Lt(n.to?"SmartLink":"div"),{to:n.to,class:"container"},{default:Ie(()=>[I("div",fX,[ae(a,{class:"heading-arrow"}),n.to?(m(),T("h3",mX,[ae(o,{to:n.to},{default:Ie(()=>[tt(ye(n.title),1)]),_:1},8,["to"])])):(m(),T("h3",{key:1,class:"space-title-no-link",innerHTML:n.title},null,8,gX))]),I("div",yX,[n.text?(m(),oe(l,{key:0,class:"text","rich-text-content":n.text},null,8,["rich-text-content"])):P("",!0),n.to?(m(),oe(u,{key:1,class:"button","button-url":n.to,label:n.buttonText,"is-secondary":!0,to:n.to,"link-target":"_blank"},null,8,["button-url","label","to"])):P("",!0)])]),_:1},8,["to"]))])}const Fx=Me(hX,[["render",vX],["__scopeId","data-v-ceb4a4c3"]]),_X={name:"BlockSponsor",components:{SmartLink:pt},props:{funderLogo:{type:Array,default:()=>[]},funderName:{type:String,default:""},funderUrl:{type:String,default:""}},computed:{parsedFunderLogo(){return this.funderLogo[0]}}},bX=["src","alt"];function TX(t,e,n,r,i,s){const a=lt("SmartLink");return m(),oe(a,{to:n.funderUrl,"link-target":"_blank"},{default:Ie(()=>[I("img",{src:s.parsedFunderLogo.src,alt:n.funderName,class:"block-sponsor"},null,8,bX)]),_:1},8,["to"])}const Ux=Me(_X,[["render",TX],["__scopeId","data-v-7f3e4b64"]]),wX={class:"block-staff-article-item"},kX={key:1,class:"molecule-no-image"},SX={class:"meta"},xX=["innerHTML"],EX={key:1},CX={key:0,class:"description-summary-only"},AX={key:2},LX={key:0,class:"byline"},IX=["innerHTML"],MX=["innerHTML"],DX={key:1,class:"description"},PX=Be({__name:"BlockStaffArticleList",props:{image:{type:Object,default:()=>{}},to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},authors:{type:Array,default:()=>[]},date:{type:String,default:""},description:{type:String,default:""},imageAspectRatio:{type:Number,default:0}},setup(t){const e=t,n=U(()=>Cr(new Date(e.date),"MMMM d, Y")),r=U(()=>!!(e.image&&Object.keys(e.image).length!==0)),i=U(()=>e.description?na(e.description,130):""),s=U(()=>e.description?na(e.description,250):"");return(a,o)=>(m(),T("li",wX,[r.value?(m(),oe(Fn,{key:0,media:e.image,"aspect-ratio":e.imageAspectRatio,"object-fit":"cover",class:"image"},null,8,["media","aspect-ratio"])):(m(),T("div",kX,[ae($(Vc),{class:"molecule","aria-hidden":"true"})])),I("div",SX,[e.category?(m(),T("div",{key:0,class:"category",innerHTML:e.category},null,8,xX)):P("",!0),ae(pt,{class:"title",to:e.to,innerHTML:e.title},null,8,["to","innerHTML"]),e.authors.length<1||!e.date?(m(),T("div",EX,[e.description?(m(),T("div",CX,ye(s.value),1)):P("",!0)])):(m(),T("div",AX,[e.authors||e.date?(m(),T("div",LX,[(m(!0),T(we,null,Fe(e.authors,l=>(m(),T("div",{key:l.id,class:"author",innerHTML:l.title},null,8,IX))),128)),e.date?(m(),T("div",{key:0,class:"date",innerHTML:n.value},null,8,MX)):P("",!0)])):P("",!0),e.description?(m(),T("div",DX,ye(i.value),1)):P("",!0)]))])]))}}),jx=Me(PX,[["__scopeId","data-v-3967271b"]]),$x=t=>(Ot("data-v-433daf97"),t=t(),Rt(),t),OX=$x(()=>I("div",{class:"solid"},null,-1)),RX=$x(()=>I("div",{class:"dotted"},null,-1)),NX=[OX,RX],BX={__name:"DividerWayFinder",props:{color:{type:String,default:""}},setup(t){const{color:e}=t,n=ca(),r=Ol(),i=de((n==null?void 0:n.path)||""),s=U(()=>e||(i.value!==""?qr(i.value):"default")),a=U(()=>["divider-way-finder",`color-${s.value}`,(r==null?void 0:r.value)||""]);return tD(()=>{i.value=(n==null?void 0:n.path)||""}),Ht(()=>{console.log("does this route exist?",n==null?void 0:n.path),i.value=(n==null?void 0:n.path)||""}),(o,l)=>(m(),T("div",{class:Oe(a.value)},NX,2))}},vc=Me(BX,[["__scopeId","data-v-433daf97"]]),Hx=t=>(Ot("data-v-42e2c006"),t=t(),Rt(),t),FX={class:"block-staff-detail"},UX={class:"heading-staff"},jX={class:"header"},$X={class:"staffName"},HX=["lang"],VX={key:0,class:"pronouns"},qX={class:"section-staff-bio"},WX={class:"info-container"},zX={class:"staff-info"},GX=["innerHTML"],YX={key:0,class:"departments"},KX={key:1,class:"location-group"},XX={class:"contact-info-list"},QX={class:"contact-info"},ZX={key:0,class:"contact-info"},JX={key:1,class:"contact-info"},eQ={class:"body-bio"},tQ={key:1,class:"ask-me-about"},nQ=Hx(()=>I("h2",{class:"section-title"}," Ask Me About ",-1)),rQ={class:"list topics"},iQ=["innerHTML"],sQ={key:3,class:"biography"},aQ=Hx(()=>I("h2",{class:"section-title"}," Biography ",-1)),oQ=Be({__name:"BlockStaffDetail",props:{image:{type:Object,default:()=>{}},to:{type:String,default:""},staffName:{type:String,default:""},nameLast:{type:String,default:""},nameFirst:{type:String,default:""},alternativeName:{type:Array,default:()=>[]},jobTitle:{type:String,default:""},departments:{type:Array,default:()=>[]},academicDepartments:{type:Array,default:()=>[]},topics:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]},email:{type:String,default:""},phone:{type:String,default:""},consultation:{type:String,default:""},language:{type:String,default:""},pronouns:{type:String,default:""},biography:{type:String,default:""}},setup(t){const e=t,n=U(()=>`Pronouns: ${e.pronouns}`),r=U(()=>`${e.nameFirst} ${e.nameLast}`),i=U(()=>e.alternativeName[0].fullName),s=U(()=>e.alternativeName[0].languageAltName),a=U(()=>e.topics.concat(e.academicDepartments).sort((o,l)=>o.title.toUpperCase()>l.title.toUpperCase()?1:l.title.toUpperCase()>o.title.toUpperCase()?-1:0));return(o,l)=>(m(),T("div",FX,[I("div",UX,[ae($(qc)),I("div",jX,[I("h1",$X,[tt(ye(r.value)+" ",1),t.alternativeName.length?(m(),T("span",{key:0,lang:s.value},ye(i.value),9,HX)):P("",!0)]),t.pronouns?(m(),T("div",VX,ye(n.value),1)):P("",!0)])]),I("div",qX,[I("div",{class:Oe(t.image?"body-contact":"body-contact no-image")},[t.image?(m(),oe(Fn,{key:0,media:t.image,"aspect-ratio":100,class:"image"},null,8,["media"])):P("",!0),I("div",WX,[I("div",zX,[I("div",{class:"job-title",innerHTML:t.jobTitle},null,8,GX),t.departments.length?(m(),T("ul",YX,[(m(!0),T(we,null,Fe(t.departments,(u,c)=>(m(),T("li",{key:c,class:"department"},ye(u.title),1))),128))])):P("",!0),t.locations.length?(m(),T("ul",KX,[(m(!0),T(we,null,Fe(t.locations,(u,c)=>(m(),T("li",{key:`location-${c}`,class:"location"},[ae(Bn,{text:u.title,"icon-name":"svg-icon-location",to:`/${u.to}`},null,8,["text","to"])]))),128))])):P("",!0)]),I("div",XX,[I("div",QX,[ae(Bn,{text:t.email,"icon-name":"svg-icon-email",to:`mailto:${t.email}`},null,8,["text","to"])]),t.phone?(m(),T("div",ZX,[ae(Bn,{text:t.phone,"icon-name":"svg-icon-phone",to:`tel:${t.phone}`},null,8,["text","to"])])):P("",!0),t.consultation?(m(),T("div",JX,[ae(Bn,{text:"Book a consultation","icon-name":"svg-icon-consultation",to:t.consultation},null,8,["to"])])):P("",!0)])])],2),I("div",eQ,[t.topics.length||t.academicDepartments.length?(m(),oe(vc,{key:0,class:"divider divider-first",color:"about"})):P("",!0),t.topics.length||t.academicDepartments.length?(m(),T("div",tQ,[nQ,ae(ir,null,{default:Ie(()=>[I("ul",rQ,[(m(!0),T(we,null,Fe(a.value,u=>(m(),T("li",{key:u.id,innerHTML:u.title},null,8,iQ))),128))])]),_:1})])):P("",!0),t.biography?(m(),oe(vc,{key:2,class:"divider divider-first",color:"about"})):P("",!0),t.biography?(m(),T("div",sQ,[aQ,ae(ir,{"rich-text-content":t.biography},null,8,["rich-text-content"])])):P("",!0)])])]))}}),lQ=Me(oQ,[["__scopeId","data-v-42e2c006"]]),uQ={class:"block-staff-list"},cQ={key:0,class:"no-image"},dQ={class:"meta"},hQ={class:"name-title"},pQ={class:"staff-name"},fQ=["lang"],mQ=["innerHTML"],gQ={key:0,class:"departments"},yQ={class:"department"},vQ={class:"contact-info"},_Q={class:"email"},bQ={key:0,class:"phone"},TQ={key:1,class:"consultation"},wQ={key:2,class:"locations"},kQ=Be({__name:"BlockStaffList",props:{to:{type:String,default:""},image:{type:Object,default:()=>{}},staffName:{type:String,default:""},alternativeFullName:{type:String,default:""},language:{type:String,default:""},jobTitle:{type:String,default:""},email:{type:String,default:""},phone:{type:String,default:""},departments:{type:Array,default:()=>[]},consultation:{type:String,default:""},locations:{type:Array,default:()=>[]}},setup(t){const e=t,n=U(()=>e.departments[e.departments.length-1].title);return(r,i)=>(m(),T("li",uQ,[ae(Fn,{media:t.image,"aspect-ratio":100,sizes:"300px",class:"image"},null,8,["media"]),t.image?P("",!0):(m(),T("div",cQ,[ae($(qc),{class:"icon-heading-arrow"})])),I("div",dQ,[I("div",hQ,[I("h3",pQ,[ae(pt,{to:t.to},{default:Ie(()=>[tt(ye(t.staffName)+" ",1),t.alternativeFullName?(m(),T("span",{key:0,lang:t.language},ye(t.alternativeFullName),9,fQ)):P("",!0)]),_:1},8,["to"])]),I("div",{class:"job-title",innerHTML:t.jobTitle},null,8,mQ),t.departments.length?(m(),T("ul",gQ,[I("li",yQ,ye(n.value),1)])):P("",!0)]),I("div",vQ,[I("div",_Q,[ae(Bn,{text:t.email,"icon-name":"svg-icon-email",to:`mailto:${t.email}`},null,8,["text","to"])]),t.phone?(m(),T("div",bQ,[ae(Bn,{text:t.phone,"icon-name":"svg-icon-phone",to:`tel:${t.phone}`},null,8,["text","to"])])):P("",!0),t.consultation?(m(),T("div",TQ,[ae(Bn,{text:"Book a consultation","icon-name":"svg-icon-consultation",to:t.consultation},null,8,["to"])])):P("",!0),t.locations.length?(m(),T("div",wQ,[(m(!0),T(we,null,Fe(t.locations,(s,a)=>(m(),oe(Bn,{key:`${a}`,text:s.title,"icon-name":"svg-icon-location",to:s.uri},null,8,["text","to"]))),128))])):P("",!0)])])]))}}),Vx=Me(kQ,[["__scopeId","data-v-5f373e48"]]),SQ={class:"block-staff-subject-librarian"},xQ={class:"academic-department"},EQ={class:"librarian-block"},CQ=["lang"],AQ=["innerHTML"],LQ={key:2,class:"departments"},IQ={class:"department"},MQ={key:3},DQ={class:"contact-info"},PQ={class:"email"},OQ={key:0,class:"phone"},RQ={key:1,class:"consultation"},NQ=Be({__name:"BlockStaffSubjectLibrarian",props:{subjectArea:{type:String,default:""},to:{type:String,default:""},nameLast:{type:String,default:""},nameFirst:{type:String,default:""},jobTitle:{type:String,default:""},departments:{type:Array,default:()=>[]},academicDepartments:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]},alternativeName:{type:Array,default:()=>[]},uri:{type:String,default:""},email:{type:String,default:""},phone:{type:String,default:""},consultation:{type:String,default:""},language:{type:String,default:""}},setup(t){const e=t,n=U(()=>{const a=e.departments;return a[a.length-1].title}),r=U(()=>e.alternativeName[0].fullName),i=U(()=>e.alternativeName[0].languageAltName),s=U(()=>`${e.nameFirst} ${e.nameLast}`);return(a,o)=>(m(),T("div",null,[I("tr",SQ,[I("td",xQ,ye(t.subjectArea),1),I("td",EQ,[e.alternativeName.length===0||e.alternativeName===null?(m(),oe(pt,{key:0,to:t.to,class:"staff-name"},{default:Ie(()=>[tt(ye(s.value),1)]),_:1},8,["to"])):(m(),oe(pt,{key:1,to:t.to,class:"staff-name"},{default:Ie(()=>[tt(ye(s.value)+" ",1),e.alternativeName&&e.alternativeName!=null?(m(),T("span",{key:0,lang:i.value},ye(r.value),9,CQ)):P("",!0)]),_:1},8,["to"])),I("div",{class:"job-title",innerHTML:t.jobTitle},null,8,AQ),t.departments.length?(m(),T("ul",LQ,[I("li",IQ,ye(n.value),1)])):P("",!0),t.locations.length?(m(),T("div",MQ,[(m(!0),T(we,null,Fe(t.locations,l=>(m(),oe(Bn,{key:`location-${l.id}`,text:l.title,"icon-name":"svg-icon-location",to:`/${l.to}`},null,8,["text","to"]))),128))])):P("",!0)]),I("td",DQ,[I("div",PQ,[ae(Bn,{text:t.email,"icon-name":"svg-icon-email",to:`mailto:${t.email}`},null,8,["text","to"])]),t.phone?(m(),T("div",OQ,[ae(Bn,{text:t.phone,"icon-name":"svg-icon-phone",to:`tel:${t.phone}`},null,8,["text","to"])])):P("",!0),t.consultation?(m(),T("div",RQ,[ae(Bn,{text:"Book a consultation","icon-name":"svg-icon-consultation",to:t.consultation},null,8,["to"])])):P("",!0)])])]))}}),qx=Me(NQ,[["__scopeId","data-v-061fef1e"]]),BQ={name:"ButtonMore",components:{ArrowRight:Qa,MoleculeStroke:Ov,SmartLink:pt},props:{text:{type:String,default:"See More"},to:{type:String,default:""}}},FQ={class:"icon","aria-hidden":"true"},UQ={class:"text"};function jQ(t,e,n,r,i,s){const a=lt("MoleculeStroke"),o=lt("ArrowRight"),l=lt("SmartLink");return m(),oe(l,{to:n.to,class:"button-more"},{default:Ie(()=>[I("div",FQ,[ae(a,{class:"molecule-stroke"}),ae(o,{class:"arrow-right"})]),I("div",UQ,ye(n.text),1)]),_:1},8,["to"])}const zp=Me(BQ,[["render",jQ],["__scopeId","data-v-0bcf47c2"]]);function nt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function It(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ci(t,e){const n=nt(t);return isNaN(e)?It(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function pi(t,e){const n=nt(t);if(isNaN(e))return It(t,NaN);if(!e)return n;const r=n.getDate(),i=It(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Wx(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=nt(t),c=r||n?pi(u,r+n*12):u,d=s||i?ci(c,s+i*7):c,p=o+a*60,f=(l+p*60)*1e3;return It(t,d.getTime()+f)}function $Q(t,e){const n=+nt(t);return It(t,n+e)}const zx=6048e5,HQ=864e5,VQ=6e4,Gx=36e5,qQ=1e3;function WQ(t,e){return $Q(t,e*Gx)}let zQ={};function ao(){return zQ}function _i(t,e){var n,r,i,s;const a=ao(),o=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((s=(i=a.locale)==null?void 0:i.options)==null?void 0:s.weekStartsOn)??0,l=nt(t),u=l.getDay(),c=(u<o?7:0)+u-o;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function ul(t){return _i(t,{weekStartsOn:1})}function Yx(t){const e=nt(t),n=e.getFullYear(),r=It(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ul(r),s=It(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=ul(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function S2(t){const e=nt(t);return e.setHours(0,0,0,0),e}function Hh(t){const e=nt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Kx(t,e){const n=S2(t),r=S2(e),i=+n-Hh(n),s=+r-Hh(r);return Math.round((i-s)/HQ)}function GQ(t){const e=Yx(t),n=It(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ul(n)}function YQ(t,e){const n=e*3;return pi(t,n)}function Nv(t,e){return pi(t,e*12)}function x2(t,e){const n=nt(t),r=nt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function Xx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Qu(t){if(!Xx(t)&&typeof t!="number")return!1;const e=nt(t);return!isNaN(Number(e))}function E2(t){const e=nt(t);return Math.trunc(e.getMonth()/3)+1}function KQ(t,e){const n=nt(t),r=nt(e);return n.getFullYear()-r.getFullYear()}function XQ(t,e){const n=nt(t),r=nt(e),i=x2(n,r),s=Math.abs(KQ(n,r));n.setFullYear(1584),r.setFullYear(1584);const a=x2(n,r)===-i,o=i*(s-+a);return o===0?0:o}function Qx(t,e){const n=nt(t.start),r=nt(t.end);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(nt(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function zo(t){const e=nt(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function QQ(t,e){const n=nt(t.start),r=nt(t.end);let i=+n>+r;const s=i?+zo(n):+zo(r);let a=zo(i?r:n),o=1;const l=[];for(;+a<=s;)l.push(nt(a)),a=YQ(a,o);return i?l.reverse():l}function ZQ(t){const e=nt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Zx(t){const e=nt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function _c(t){const e=nt(t),n=It(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jx(t,e){var n,r,i,s;const a=ao(),o=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((s=(i=a.locale)==null?void 0:i.options)==null?void 0:s.weekStartsOn)??0,l=nt(t),u=l.getDay(),c=(u<o?-7:0)+6-(u-o);return l.setDate(l.getDate()+c),l.setHours(23,59,59,999),l}function C2(t){const e=nt(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const JQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eZ=(t,e,n)=>{let r;const i=JQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iZ={date:bm({formats:tZ,defaultWidth:"full"}),time:bm({formats:nZ,defaultWidth:"full"}),dateTime:bm({formats:rZ,defaultWidth:"full"})},sZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aZ=(t,e,n,r)=>sZ[t];function yu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const oZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fZ={ordinalNumber:pZ,era:yu({values:oZ,defaultWidth:"wide"}),quarter:yu({values:lZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yu({values:uZ,defaultWidth:"wide"}),day:yu({values:cZ,defaultWidth:"wide"}),dayPeriod:yu({values:dZ,defaultWidth:"wide",formattingValues:hZ,defaultFormattingWidth:"wide"})};function vu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?gZ(o,d=>d.test(a)):mZ(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function mZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yZ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const vZ=/^(\d+)(th|st|nd|rd)?/i,_Z=/\d+/i,bZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TZ={any:[/^b/i,/^(a|c)/i]},wZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kZ={any:[/1/i,/2/i,/3/i,/4/i]},SZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IZ={ordinalNumber:yZ({matchPattern:vZ,parsePattern:_Z,valueCallback:t=>parseInt(t,10)}),era:vu({matchPatterns:bZ,defaultMatchWidth:"wide",parsePatterns:TZ,defaultParseWidth:"any"}),quarter:vu({matchPatterns:wZ,defaultMatchWidth:"wide",parsePatterns:kZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vu({matchPatterns:SZ,defaultMatchWidth:"wide",parsePatterns:xZ,defaultParseWidth:"any"}),day:vu({matchPatterns:EZ,defaultMatchWidth:"wide",parsePatterns:CZ,defaultParseWidth:"any"}),dayPeriod:vu({matchPatterns:AZ,defaultMatchWidth:"any",parsePatterns:LZ,defaultParseWidth:"any"})},eE={code:"en-US",formatDistance:eZ,formatLong:iZ,formatRelative:aZ,localize:fZ,match:IZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MZ(t){const e=nt(t);return Kx(e,_c(e))+1}function Bv(t){const e=nt(t),n=+ul(e)-+GQ(e);return Math.round(n/zx)+1}function Fv(t,e){var n,r,i,s;const a=nt(t),o=a.getFullYear(),l=ao(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??((s=(i=l.locale)==null?void 0:i.options)==null?void 0:s.firstWeekContainsDate)??1,c=It(t,0);c.setFullYear(o+1,0,u),c.setHours(0,0,0,0);const d=_i(c,e),p=It(t,0);p.setFullYear(o,0,u),p.setHours(0,0,0,0);const f=_i(p,e);return a.getTime()>=d.getTime()?o+1:a.getTime()>=f.getTime()?o:o-1}function DZ(t,e){var n,r,i,s;const a=ao(),o=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((s=(i=a.locale)==null?void 0:i.options)==null?void 0:s.firstWeekContainsDate)??1,l=Fv(t,e),u=It(t,0);return u.setFullYear(l,0,o),u.setHours(0,0,0,0),_i(u,e)}function Uv(t,e){const n=nt(t),r=+_i(n,e)-+DZ(n,e);return Math.round(r/zx)+1}function Ft(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ds={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ft(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ft(n+1,2)},d(t,e){return Ft(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ft(t.getHours()%12||12,e.length)},H(t,e){return Ft(t.getHours(),e.length)},m(t,e){return Ft(t.getMinutes(),e.length)},s(t,e){return Ft(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ft(i,e.length)}},_o={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},A2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ds.y(t,e)},Y:function(t,e,n,r){const i=Fv(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Ft(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ft(s,e.length)},R:function(t,e){const n=Yx(t);return Ft(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ft(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ft(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ft(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ds.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ft(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Uv(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ft(i,e.length)},I:function(t,e,n){const r=Bv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ft(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ds.d(t,e)},D:function(t,e,n){const r=MZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ft(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ft(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ft(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ft(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=_o.noon:r===0?i=_o.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=_o.evening:r>=12?i=_o.afternoon:r>=4?i=_o.morning:i=_o.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ds.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ds.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ds.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ds.s(t,e)},S:function(t,e){return Ds.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return I2(r);case"XXXX":case"XX":return La(r);case"XXXXX":case"XXX":default:return La(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return I2(r);case"xxxx":case"xx":return La(r);case"xxxxx":case"xxx":default:return La(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+L2(r,":");case"OOOO":default:return"GMT"+La(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+L2(r,":");case"zzzz":default:return"GMT"+La(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ft(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ft(r,e.length)}};function L2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ft(s,2)}function I2(t,e){return t%60===0?(t>0?"-":"+")+Ft(Math.abs(t)/60,2):La(t,e)}function La(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ft(Math.trunc(r/60),2),s=Ft(r%60,2);return n+i+e+s}const M2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return M2(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",M2(r,e)).replace("{{time}}",tE(i,e))},Zg={p:tE,P:PZ},OZ=/^D+$/,RZ=/^Y+$/,NZ=["D","DD","YY","YYYY"];function nE(t){return OZ.test(t)}function rE(t){return RZ.test(t)}function Jg(t,e,n){const r=BZ(t,e,n);if(console.warn(r),NZ.includes(t))throw new RangeError(r)}function BZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jZ=/^'([^]*?)'?$/,$Z=/''/g,HZ=/[a-zA-Z]/;function Bi(t,e,n){var r,i,s,a,o,l,u,c;const d=ao(),p=(n==null?void 0:n.locale)??d.locale??eE,f=(n==null?void 0:n.firstWeekContainsDate)??((i=(r=n==null?void 0:n.locale)==null?void 0:r.options)==null?void 0:i.firstWeekContainsDate)??d.firstWeekContainsDate??((a=(s=d.locale)==null?void 0:s.options)==null?void 0:a.firstWeekContainsDate)??1,y=(n==null?void 0:n.weekStartsOn)??((l=(o=n==null?void 0:n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??d.weekStartsOn??((c=(u=d.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,b=nt(t);if(!Qu(b))throw new RangeError("Invalid time value");let S=e.match(UZ).map(x=>{const k=x[0];if(k==="p"||k==="P"){const L=Zg[k];return L(x,p.formatLong)}return x}).join("").match(FZ).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const k=x[0];if(k==="'")return{isToken:!1,value:VZ(x)};if(A2[k])return{isToken:!0,value:x};if(k.match(HZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:x}});p.localize.preprocessor&&(S=p.localize.preprocessor(b,S));const E={firstWeekContainsDate:f,weekStartsOn:y,locale:p};return S.map(x=>{if(!x.isToken)return x.value;const k=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rE(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nE(k))&&Jg(k,e,String(t));const L=A2[k[0]];return L(b,k,p.localize,E)}).join("")}function VZ(t){const e=t.match(jZ);return e?e[1].replace($Z,"'"):t}function qZ(t){return nt(t).getDay()}function WZ(t){const e=nt(t),n=e.getFullYear(),r=e.getMonth(),i=It(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function zZ(){return Object.assign({},ao())}function ps(t){return nt(t).getHours()}function GZ(t){let e=nt(t).getDay();return e===0&&(e=7),e}function ra(t){return nt(t).getMinutes()}function _t(t){return nt(t).getMonth()}function cl(t){return nt(t).getSeconds()}function dt(t){return nt(t).getFullYear()}function dl(t,e){const n=nt(t),r=nt(e);return n.getTime()>r.getTime()}function bc(t,e){const n=nt(t),r=nt(e);return+n<+r}function Po(t,e){const n=nt(t),r=nt(e);return+n==+r}function YZ(t,e){const n=e instanceof Date?It(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const KZ=10;class iE{constructor(){Ze(this,"subPriority",0)}validate(e,n){return!0}}class XZ extends iE{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class QZ extends iE{constructor(){super(...arguments),Ze(this,"priority",KZ),Ze(this,"subPriority",-1)}set(e,n){return n.timestampIsSet?e:It(e,YZ(e,Date))}}let Mt=class{run(t,e,n,r){const i=this.parse(t,e,n,r);return i?{setter:new XZ(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,e,n){return!0}};class ZZ extends Mt{constructor(){super(...arguments),Ze(this,"priority",140),Ze(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}const kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Sn(t,e){return t&&{value:e(t.value),rest:t.rest}}function cn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Mi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Gx+s*VQ+a*qQ),rest:e.slice(n[0].length)}}function sE(t){return cn(kn.anyDigitsSigned,t)}function yn(t,e){switch(t){case 1:return cn(kn.singleDigit,e);case 2:return cn(kn.twoDigits,e);case 3:return cn(kn.threeDigits,e);case 4:return cn(kn.fourDigits,e);default:return cn(new RegExp("^\\d{1,"+t+"}"),e)}}function aE(t,e){switch(t){case 1:return cn(kn.singleDigitSigned,e);case 2:return cn(kn.twoDigitsSigned,e);case 3:return cn(kn.threeDigitsSigned,e);case 4:return cn(kn.fourDigitsSigned,e);default:return cn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function jv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oE(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,a=Math.trunc(s/100)*100,o=t>=s%100;i=t+a-(o?100:0)}return n?i:1-i}function lE(t){return t%400===0||t%4===0&&t%100!==0}class JZ extends Mt{constructor(){super(...arguments),Ze(this,"priority",130),Ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Sn(yn(4,e),i);case"yo":return Sn(r.ordinalNumber(e,{unit:"year"}),i);default:return Sn(yn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const i=e.getFullYear();if(r.isTwoDigitYear){const a=oE(r.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class eJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",130),Ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Sn(yn(4,e),i);case"Yo":return Sn(r.ordinalNumber(e,{unit:"year"}),i);default:return Sn(yn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,i){const s=Fv(e,i);if(r.isTwoDigitYear){const o=oE(r.year,s);return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),_i(e,i)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),_i(e,i)}}class tJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",130),Ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return aE(n==="R"?4:n.length,e)}set(e,n,r){const i=It(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),ul(i)}}class nJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",130),Ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return aE(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class rJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",120),Ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,r){switch(n){case"Q":case"QQ":return yn(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class iJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",120),Ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,r){switch(n){case"q":case"qq":return yn(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class sJ extends Mt{constructor(){super(...arguments),Ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ze(this,"priority",110)}parse(e,n,r){const i=s=>s-1;switch(n){case"M":return Sn(cn(kn.month,e),i);case"MM":return Sn(yn(2,e),i);case"Mo":return Sn(r.ordinalNumber(e,{unit:"month"}),i);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class aJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",110),Ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,r){const i=s=>s-1;switch(n){case"L":return Sn(cn(kn.month,e),i);case"LL":return Sn(yn(2,e),i);case"Lo":return Sn(r.ordinalNumber(e,{unit:"month"}),i);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}function oJ(t,e,n){const r=nt(t),i=Uv(r,n)-e;return r.setDate(r.getDate()-i*7),r}class lJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",100),Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,r){switch(n){case"w":return cn(kn.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return yn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,i){return _i(oJ(e,r,i),i)}}function uJ(t,e){const n=nt(t),r=Bv(n)-e;return n.setDate(n.getDate()-r*7),n}class cJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",100),Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,r){switch(n){case"I":return cn(kn.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return yn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return ul(uJ(e,r))}}const dJ=[31,28,31,30,31,30,31,31,30,31,30,31],hJ=[31,29,31,30,31,30,31,31,30,31,30,31];class pJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"subPriority",1),Ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,r){switch(n){case"d":return cn(kn.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return yn(n.length,e)}}validate(e,n){const r=e.getFullYear(),i=lE(r),s=e.getMonth();return i?n>=1&&n<=hJ[s]:n>=1&&n<=dJ[s]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}}class fJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"subpriority",1),Ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,r){switch(n){case"D":case"DD":return cn(kn.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return yn(n.length,e)}}validate(e,n){const r=e.getFullYear();return lE(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}}function $v(t,e,n){var r,i,s,a;const o=ao(),l=(n==null?void 0:n.weekStartsOn)??((i=(r=n==null?void 0:n.locale)==null?void 0:r.options)==null?void 0:i.weekStartsOn)??o.weekStartsOn??((a=(s=o.locale)==null?void 0:s.options)==null?void 0:a.weekStartsOn)??0,u=nt(t),c=u.getDay(),d=(e%7+7)%7,p=7-l,f=e<0||e>6?e-(c+p)%7:(d+p)%7-(c+p)%7;return ci(u,f)}class mJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=$v(e,r,i),e.setHours(0,0,0,0),e}}class gJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,r,i){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(n){case"e":case"ee":return Sn(yn(n.length,e),s);case"eo":return Sn(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=$v(e,r,i),e.setHours(0,0,0,0),e}}class yJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,r,i){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(n){case"c":case"cc":return Sn(yn(n.length,e),s);case"co":return Sn(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=$v(e,r,i),e.setHours(0,0,0,0),e}}function vJ(t,e){const n=nt(t),r=GZ(n),i=e-r;return ci(n,i)}class _J extends Mt{constructor(){super(...arguments),Ze(this,"priority",90),Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,r){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return yn(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Sn(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Sn(r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Sn(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Sn(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=vJ(e,r),e.setHours(0,0,0,0),e}}class bJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",80),Ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(jv(r),0,0,0),e}}class TJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",80),Ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(jv(r),0,0,0),e}}class wJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",80),Ze(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(jv(r),0,0,0),e}}class kJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",70),Ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,r){switch(n){case"h":return cn(kn.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return yn(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const i=e.getHours()>=12;return i&&r<12?e.setHours(r+12,0,0,0):!i&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}}class SJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",70),Ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,r){switch(n){case"H":return cn(kn.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return yn(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}}class xJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",70),Ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,r){switch(n){case"K":return cn(kn.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return yn(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}}class EJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",70),Ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,r){switch(n){case"k":return cn(kn.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return yn(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const i=r<=24?r%24:r;return e.setHours(i,0,0,0),e}}class CJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",60),Ze(this,"incompatibleTokens",["t","T"])}parse(e,n,r){switch(n){case"m":return cn(kn.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return yn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}}class AJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",50),Ze(this,"incompatibleTokens",["t","T"])}parse(e,n,r){switch(n){case"s":return cn(kn.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return yn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}}class LJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",30),Ze(this,"incompatibleTokens",["t","T"])}parse(e,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Sn(yn(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}}class IJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",10),Ze(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return Mi(Ii.basicOptionalMinutes,e);case"XX":return Mi(Ii.basic,e);case"XXXX":return Mi(Ii.basicOptionalSeconds,e);case"XXXXX":return Mi(Ii.extendedOptionalSeconds,e);case"XXX":default:return Mi(Ii.extended,e)}}set(e,n,r){return n.timestampIsSet?e:It(e,e.getTime()-Hh(e)-r)}}class MJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",10),Ze(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return Mi(Ii.basicOptionalMinutes,e);case"xx":return Mi(Ii.basic,e);case"xxxx":return Mi(Ii.basicOptionalSeconds,e);case"xxxxx":return Mi(Ii.extendedOptionalSeconds,e);case"xxx":default:return Mi(Ii.extended,e)}}set(e,n,r){return n.timestampIsSet?e:It(e,e.getTime()-Hh(e)-r)}}class DJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",40),Ze(this,"incompatibleTokens","*")}parse(e){return sE(e)}set(e,n,r){return[It(e,r*1e3),{timestampIsSet:!0}]}}class PJ extends Mt{constructor(){super(...arguments),Ze(this,"priority",20),Ze(this,"incompatibleTokens","*")}parse(e){return sE(e)}set(e,n,r){return[It(e,r),{timestampIsSet:!0}]}}const OJ={G:new ZZ,y:new JZ,Y:new eJ,R:new tJ,u:new nJ,Q:new rJ,q:new iJ,M:new sJ,L:new aJ,w:new lJ,I:new cJ,d:new pJ,D:new fJ,E:new mJ,e:new gJ,c:new yJ,i:new _J,a:new bJ,b:new TJ,B:new wJ,h:new kJ,H:new SJ,K:new xJ,k:new EJ,m:new CJ,s:new AJ,S:new LJ,X:new IJ,x:new MJ,t:new DJ,T:new PJ},RJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BJ=/^'([^]*?)'?$/,FJ=/''/g,UJ=/\S/,jJ=/[a-zA-Z]/;function ey(t,e,n,r){var i,s,a,o,l,u,c,d;const p=zZ(),f=(r==null?void 0:r.locale)??p.locale??eE,y=(r==null?void 0:r.firstWeekContainsDate)??((s=(i=r==null?void 0:r.locale)==null?void 0:i.options)==null?void 0:s.firstWeekContainsDate)??p.firstWeekContainsDate??((o=(a=p.locale)==null?void 0:a.options)==null?void 0:o.firstWeekContainsDate)??1,b=(r==null?void 0:r.weekStartsOn)??((u=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??p.weekStartsOn??((d=(c=p.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0;if(e==="")return t===""?nt(n):It(n,NaN);const S={firstWeekContainsDate:y,weekStartsOn:b,locale:f},E=[new QZ],x=e.match(NJ).map(M=>{const q=M[0];if(q in Zg){const j=Zg[q];return j(M,f.formatLong)}return M}).join("").match(RJ),k=[];for(let M of x){!(r!=null&&r.useAdditionalWeekYearTokens)&&rE(M)&&Jg(M,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&nE(M)&&Jg(M,e,t);const q=M[0],j=OJ[q];if(j){const{incompatibleTokens:W}=j;if(Array.isArray(W)){const re=k.find(le=>W.includes(le.token)||le.token===q);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${M}\` at the same time`)}else if(j.incompatibleTokens==="*"&&k.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);k.push({token:q,fullToken:M});const Y=j.run(t,M,f.match,S);if(!Y)return It(n,NaN);E.push(Y.setter),t=Y.rest}else{if(q.match(jJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");if(M==="''"?M="'":q==="'"&&(M=$J(M)),t.indexOf(M)===0)t=t.slice(M.length);else return It(n,NaN)}}if(t.length>0&&UJ.test(t))return It(n,NaN);const L=E.map(M=>M.priority).sort((M,q)=>q-M).filter((M,q,j)=>j.indexOf(M)===q).map(M=>E.filter(q=>q.priority===M).sort((q,j)=>j.subPriority-q.subPriority)).map(M=>M[0]);let A=nt(n);if(isNaN(A.getTime()))return It(n,NaN);const D={};for(const M of L){if(!M.validate(A,S))return It(n,NaN);const q=M.set(A,D,S);Array.isArray(q)?(A=q[0],Object.assign(D,q[1])):A=q}return It(n,A)}function $J(t){return t.match(BJ)[1].replace(FJ,"'")}function D2(t,e){const n=zo(t),r=zo(e);return+n==+r}function HJ(t,e){return ci(t,-e)}function uE(t,e){const n=nt(t),r=n.getFullYear(),i=n.getDate(),s=It(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=WZ(s);return n.setMonth(e,Math.min(i,a)),n}function qt(t,e){let n=nt(t);return isNaN(+n)?It(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=uE(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function VJ(t,e){const n=nt(t);return n.setHours(e),n}function cE(t,e){const n=nt(t);return n.setMilliseconds(e),n}function qJ(t,e){const n=nt(t);return n.setMinutes(e),n}function dE(t,e){const n=nt(t);return n.setSeconds(e),n}function Di(t,e){const n=nt(t);return isNaN(+n)?It(t,NaN):(n.setFullYear(e),n)}function hl(t,e){return pi(t,-e)}function WJ(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=hl(t,r+n*12),c=HJ(u,s+i*7),d=o+a*60,p=(l+d*60)*1e3;return It(t,c.getTime()-p)}function hE(t,e){return Nv(t,-e)}function Ul(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),I("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),I("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),I("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ul.compatConfig={MODE:3};function pE(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),I("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}pE.compatConfig={MODE:3};function Hv(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Hv.compatConfig={MODE:3};function Vv(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Vv.compatConfig={MODE:3};function qv(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),I("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}qv.compatConfig={MODE:3};function Wv(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Wv.compatConfig={MODE:3};function zv(){return m(),T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}zv.compatConfig={MODE:3};const Ar=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),Gv=(t,e,n)=>ty(t,e,n)||Ue(),zJ=(t,e,n)=>{const r=e.dateInTz?Ar(new Date(t),e.dateInTz):Ue(t);return n?mr(r,!0):r},ty=(t,e,n)=>{if(!t)return null;const r=n?mr(Ue(t),!0):Ue(t);return e?e.exactMatch?zJ(t,e,n):Ar(r,e.timezone):r},GJ=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var oi=(t=>(t.month="month",t.year="year",t))(oi||{}),Ia=(t=>(t.top="top",t.bottom="bottom",t))(Ia||{}),$a=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))($a||{}),Jn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Jn||{});const YJ=["timestamp","date","iso"];var ur=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(ur||{}),ln=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(ln||{});function P2(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function KJ(t){return e=>Bi(Ar(new Date(`2017-01-0${e}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const XJ=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(KJ(t))}catch{i=r.map(P2(e))}else i=r.map(P2(e));const s=i.slice(0,n),a=i.slice(n+1,i.length);return[i[n]].concat(...a).concat(...s)},Yv=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:yE(i,e)});return n?r.reverse():r},fE=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const a=s<10?`0${s}`:s;return new Date(`2017-${a}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"LLLL":"LLL";return r.map((a,o)=>{const l=Bi(Ar(a,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,a)=>{const o=i.format(s);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:a}})},QJ=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],On=t=>{const e=$(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},ZJ=t=>({type:"dot",...t??{}}),mE=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Kv={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},jn=t=>t,O2=t=>t===0?t:!t||isNaN(+t)?null:+t,R2=t=>t===null,gE=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},JJ=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Tc=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,a=+e;return r&&i?+t>s||+t<a:r?+t>s:i?+t<a:!1},pl=(t,e)=>JJ(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:a,highlighted:o}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:a,"dp--highlighted":o}}})),Qs=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},eee=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function tee(t,e){let n=[...document.querySelectorAll(eee())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const nee=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),yE=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),Xv=t=>Bi(t,"dd-MM-yyyy"),Tm=t=>Array.isArray(t),Vh=(t,e)=>e.get(Xv(t)),ree=(t,e)=>t?e?e instanceof Map?!!Vh(t,e):e(Ue(t)):!1:!0,Er=(t,e,n=!1)=>{if(t.key===ln.enter||t.key===ln.space)return n&&t.preventDefault(),e()},N2=(t,e,n,r,i,s)=>{const a=ey(t,e.slice(0,t.length),new Date,{locale:s});return Qu(a)&&Xx(a)?r||i?a:qt(a,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},iee=(t,e,n,r,i,s)=>{const a=Array.isArray(n)?n[0]:n;if(typeof e=="string")return N2(t,e,a,r,i,s);if(Array.isArray(e)){let o=null;for(const l of e)if(o=N2(t,l,a,r,i,s),o)break;return o}return typeof e=="function"?e(t):null},Ue=t=>t?new Date(t):new Date,see=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${a}:${o}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},mr=(t,e)=>{const n=Ue(JSON.parse(JSON.stringify(t))),r=qt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?ZQ(r):r},Zs=(t,e,n,r)=>{let i=t?Ue(t):Ue();return(e||e===0)&&(i=VJ(i,+e)),(n||n===0)&&(i=qJ(i,+n)),(r||r===0)&&(i=dE(i,+r)),cE(i,0)},fn=(t,e)=>!t||!e?!1:bc(mr(t),mr(e)),wt=(t,e)=>!t||!e?!1:Po(mr(t),mr(e)),Tn=(t,e)=>!t||!e?!1:dl(mr(t),mr(e)),Gp=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Tn(n,t[0])&&fn(n,t[1]):t!=null&&t[0]&&e?Tn(n,t[0])&&fn(n,e)||fn(n,t[0])&&Tn(n,e):!1,di=t=>{const e=qt(new Date(t),{date:1});return mr(e)},wm=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ha=t=>({hours:ps(t),minutes:ra(t),seconds:cl(t)}),vE=(t,e)=>{if(e){const n=dt(Ue(e));if(n>t)return 12;if(n===t)return _t(Ue(e))}},_E=(t,e)=>{if(e){const n=dt(Ue(e));return n<t?-1:n===t?_t(Ue(e)):void 0}},fl=t=>{if(t)return dt(Ue(t))},bE=(t,e)=>{const n=Tn(t,e)?e:t,r=Tn(e,t)?e:t;return Qx({start:n,end:r})},aee=t=>{const e=pi(t,1);return{month:_t(e),year:dt(e)}},rs=(t,e)=>{const n=_i(t,{weekStartsOn:+e}),r=Jx(t,{weekStartsOn:+e});return[n,r]},TE=(t,e)=>{const n={hours:ps(Ue()),minutes:ra(Ue()),seconds:e?cl(Ue()):0};return Object.assign(n,t)},Gs=(t,e,n)=>[qt(Ue(t),{date:1}),qt(Ue(),{month:e,year:n,date:1})],ls=(t,e,n)=>{let r=t?Ue(t):Ue();return(e||e===0)&&(r=uE(r,e)),n&&(r=Di(r,n)),r},wE=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?pi(t,1):hl(t,1),a=[_t(s),dt(s)];return i?!lee(...a,e):!oee(...a,n)},oee=(t,e,n)=>fn(...Gs(n,t,e))||wt(...Gs(n,t,e)),lee=(t,e,n)=>Tn(...Gs(n,t,e))||wt(...Gs(n,t,e)),kE=(t,e,n,r,i,s,a)=>{if(typeof e=="function"&&!a)return e(t);const o=n?{locale:n}:void 0;return Array.isArray(t)?`${Bi(t[0],s,o)}${i&&!t[1]?"":r}${t[1]?Bi(t[1],s,o):""}`:Bi(t,s,o)},bo=t=>{if(t)return null;throw new Error(Kv.prop("partial-range"))},Wd=(t,e)=>{if(e)return t();throw new Error(Kv.prop("range"))},ny=t=>Array.isArray(t)?Qu(t[0])&&(t[1]?Qu(t[1]):!0):t?Qu(t):!1,uee=(t,e)=>qt(e??Ue(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),km=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?bc(t,e):dl(t,e),s={seconds:0,milliseconds:0};return i||Po(qt(t,s),qt(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Sm=(t,e,n)=>t?uee(t,e):Ue(n??e),B2=(t,e,n,r,i)=>{if(Array.isArray(r)){const a=Sm(t,r[0],e),o=Sm(t,r[1],e);return km(r[0],a,n,!!e)&&km(r[1],o,n,!!e)&&i}const s=Sm(t,r,e);return km(r,s,n,!!e)&&i},xm=t=>qt(Ue(),Ha(t)),cee=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>dt(Ue(n))===e).map(n=>_t(n)):[],SE=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Qv=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),xE=t=>Bi(t,"yyyy-MM-dd"),_u=xn({menuFocused:!1,shiftKeyInMenu:!1}),EE=()=>{const t=n=>{_u.menuFocused=n},e=n=>{_u.shiftKeyInMenu!==n&&(_u.shiftKeyInMenu=n)};return{control:U(()=>({shiftKeyInMenu:_u.shiftKeyInMenu,menuFocused:_u.menuFocused})),setMenuFocused:t,setShiftKey:e}},Qt=xn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Em=de(null),zd=de(!1),Cm=de(!1),Am=de(!1),Lm=de(!1),Zn=de(0),bn=de(0),pa=()=>{const t=U(()=>zd.value?[...Qt.selectionGrid,Qt.actionRow].filter(d=>d.length):Cm.value?[...Qt.timePicker[0],...Qt.timePicker[1],Lm.value?[]:[Em.value],Qt.actionRow].filter(d=>d.length):Am.value?[...Qt.monthPicker,Qt.actionRow]:[Qt.monthYear,...Qt.calendar,Qt.time,Qt.actionRow].filter(d=>d.length)),e=d=>{Zn.value=d?Zn.value+1:Zn.value-1;let p=null;t.value[bn.value]&&(p=t.value[bn.value][Zn.value]),!p&&t.value[bn.value+(d?1:-1)]?(bn.value=bn.value+(d?1:-1),Zn.value=d?0:t.value[bn.value].length-1):p||(Zn.value=d?Zn.value-1:Zn.value+1)},n=d=>{bn.value===0&&!d||bn.value===t.value.length&&d||(bn.value=d?bn.value+1:bn.value-1,t.value[bn.value]?t.value[bn.value]&&!t.value[bn.value][Zn.value]&&Zn.value!==0&&(Zn.value=t.value[bn.value].length-1):bn.value=d?bn.value-1:bn.value+1)},r=d=>{let p=null;t.value[bn.value]&&(p=t.value[bn.value][Zn.value]),p?p.focus({preventScroll:!zd.value}):Zn.value=d?Zn.value-1:Zn.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},a=()=>{n(!1),r(!0)},o=()=>{n(!0),r(!0)},l=(d,p)=>{Qt[p]=d},u=(d,p)=>{Qt[p]=d},c=()=>{Zn.value=0,bn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Em.value=d},setSelectionGrid:d=>{zd.value=d,c(),d||(Qt.selectionGrid=[])},setTimePicker:(d,p=!1)=>{Cm.value=d,Lm.value=p,c(),d||(Qt.timePicker[0]=[],Qt.timePicker[1]=[])},setTimePickerElements:(d,p=0)=>{Qt.timePicker[p]=d},arrowRight:i,arrowLeft:s,arrowUp:a,arrowDown:o,clearArrowNav:()=>{Qt.monthYear=[],Qt.calendar=[],Qt.time=[],Qt.actionRow=[],Qt.selectionGrid=[],Qt.timePicker[0]=[],Qt.timePicker[1]=[],zd.value=!1,Cm.value=!1,Lm.value=!1,Am.value=!1,c(),Em.value=null},setMonthPicker:d=>{Am.value=d,c()},refSets:Qt}},F2=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),dee=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),U2=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,hee=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:U2(!1)};const r=e?t:{},i=e?r.count??!0:t,s=U2(i);return Object.assign(n,r,{count:s})},pee=(t,e,n)=>t||(typeof n=="string"?n:e),fee=t=>typeof t=="boolean"?t?F2({}):!1:F2(t),mee=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},gee=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),yee=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),vee=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},_ee=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),bee=t=>{const e={dates:Array.isArray(t)?t.map(n=>Ue(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},Tee=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},wee=(t,e)=>typeof t=="object"?{enabled:!0,noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1,...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},kee=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Im=(t,e,n)=>new Map(t.map(r=>{const i=Gv(r,e,n);return[Xv(i),i]})),See=(t,e)=>t.length?new Map(t.map(n=>{const r=Gv(n.date,e);return[Xv(r),n]})):null,xee=t=>{var e;return{minDate:ty(t.minDate,t.timezone,t.isSpecific),maxDate:ty(t.maxDate,t.timezone,t.isSpecific),disabledDates:Tm(t.disabledDates)?Im(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Tm(t.allowedDates)?Im(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Tm((e=t.highlight)==null?void 0:e.dates)?Im(t.highlight.dates,t.timezone):t.highlight,markers:See(t.markers,t.timezone)}},Eee=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Cee=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const n=e,r=t[n],i=typeof t[n]=="string"?{[r]:!0}:Object.fromEntries(r.map(s=>[s,!0]));return[e,i]}))}),pn=t=>{const e=()=>{const D=t.enableSeconds?":ss":"",M=t.enableMinutes?":mm":"";return t.is24?`HH${M}${D}`:`hh${M}${D} aa`},n=()=>{var D;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((D=S.value)==null?void 0:D.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=D=>TE(D,t.enableSeconds),i=()=>L.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=U(()=>hee(t.multiCalendars)),a=U(()=>i()),o=U(()=>dee(t.ariaLabels)),l=U(()=>gee(t.filters)),u=U(()=>fee(t.transitions)),c=U(()=>yee(t.actionRow)),d=U(()=>pee(t.previewFormat,t.format,n())),p=U(()=>mee(t.textInput)),f=U(()=>vee(t.inline)),y=U(()=>_ee(t.config)),b=U(()=>bee(t.highlight)),S=U(()=>Tee(t.weekNumbers)),E=U(()=>kee(t.timezone,t.emitTimezone)),x=U(()=>Eee(t.multiDates,t.multiDatesLimit)),k=U(()=>xee({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:b.value,markers:t.markers,timezone:E.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),L=U(()=>wee(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd})),A=U(()=>Cee(t.ui));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:a,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:p,defaultedInline:f,defaultedConfig:y,defaultedHighlight:b,defaultedWeekNumbers:S,defaultedRange:L,propDates:k,defaultedTz:E,defaultedMultiDates:x,defaultedUI:A,getDefaultPattern:n,getDefaultStartTime:i}},Aee=(t,e,n)=>{const r=de(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:a,defaultedMultiDates:o,getDefaultPattern:l}=pn(e),u=de(""),c=Vi(e,"format"),d=Vi(e,"formatLocale");St(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,je(!0))},{deep:!0}),St(s,(V,ve)=>{V.enabled!==ve.enabled&&(r.value=null)}),St(c,()=>{se()});const p=V=>a.value.timezone&&a.value.convertModel?Ar(V,a.value.timezone):V,f=V=>{if(a.value.timezone&&a.value.convertModel){const ve=GJ(a.value.timezone);return WQ(V,ve)}return V},y=(V,ve,Ee=!1)=>kE(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ve??l(),Ee),b=V=>V?e.modelType?$e(V):{hours:ps(V),minutes:ra(V),seconds:e.enableSeconds?cl(V):0}:null,S=V=>e.modelType?$e(V):{month:_t(V),year:dt(V)},E=V=>Array.isArray(V)?o.value.enabled?V.map(ve=>x(ve,Di(Ue(),ve))):Wd(()=>[Di(Ue(),V[0]),V[1]?Di(Ue(),V[1]):bo(s.value.partialRange)],s.value.enabled):Di(Ue(),+V),x=(V,ve)=>(typeof V=="string"||typeof V=="number")&&e.modelType?Te(V):ve,k=V=>Array.isArray(V)?[x(V[0],Zs(null,+V[0].hours,+V[0].minutes,V[0].seconds)),x(V[1],Zs(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:x(V,Zs(null,V.hours,V.minutes,V.seconds)),L=V=>{const ve=qt(Ue(),{date:1});return Array.isArray(V)?o.value.enabled?V.map(Ee=>x(Ee,ls(ve,+Ee.month,+Ee.year))):Wd(()=>[x(V[0],ls(ve,+V[0].month,+V[0].year)),x(V[1],V[1]?ls(ve,+V[1].month,+V[1].year):bo(s.value.partialRange))],s.value.enabled):x(V,ls(ve,+V.month,+V.year))},A=V=>{if(Array.isArray(V))return V.map(ve=>Te(ve));throw new Error(Kv.dateArr("multi-dates"))},D=V=>{if(Array.isArray(V)&&s.value.enabled){const ve=V[0],Ee=V[1];return[Ue(Array.isArray(ve)?ve[0]:null),Ue(Array.isArray(Ee)?Ee[0]:null)]}return Ue(V[0])},M=V=>e.modelAuto?Array.isArray(V)?[Te(V[0]),Te(V[1])]:e.autoApply?[Te(V)]:[Te(V),null]:Array.isArray(V)?Wd(()=>V[1]?[Te(V[0]),V[1]?Te(V[1]):bo(s.value.partialRange)]:[Te(V[0])],s.value.enabled):Te(V),q=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(bo(s.value.partialRange))},j=()=>{const V=r.value;return[$e(V[0]),V[1]?$e(V[1]):bo(s.value.partialRange)]},W=()=>r.value[1]?j():$e(jn(r.value[0])),Y=()=>(r.value||[]).map(V=>$e(V)),re=(V=!1)=>(V||q(),e.modelAuto?W():o.value.enabled?Y():Array.isArray(r.value)?Wd(()=>j(),s.value.enabled):$e(jn(r.value))),le=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?k(jn(V)):e.monthPicker?L(jn(V)):e.yearPicker?E(jn(V)):o.value.enabled?A(jn(V)):e.weekPicker?D(jn(V)):M(jn(V)),F=V=>{const ve=le(V);ny(jn(ve))?(r.value=jn(ve),se()):(r.value=null,u.value="")},R=()=>{const V=ve=>Bi(ve,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},H=()=>n.value&&r.value?Array.isArray(r.value)?R():Bi(r.value,i.value.format):y(r.value),B=()=>r.value?o.value.enabled?r.value.map(V=>y(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?H():y(r.value):"",se=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=B():u.value=e.format(r.value)},Te=V=>{if(e.utc){const ve=new Date(V);return e.utc==="preserve"?new Date(ve.getTime()+ve.getTimezoneOffset()*6e4):ve}return e.modelType?YJ.includes(e.modelType)?p(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(ey(V,l(),new Date,{locale:d.value})):p(ey(V,e.modelType,new Date,{locale:d.value})):p(new Date(V))},$e=V=>V?e.utc?see(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+f(V):e.modelType==="iso"?f(V).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?y(f(V)):y(f(V),e.modelType,!0):f(V):"",ze=(V,ve=!1,Ee=!1)=>{if(Ee)return V;if(t("update:model-value",V),a.value.emitTimezone&&ve){const ue=Array.isArray(V)?V.map(Ge=>Ar(jn(Ge),a.value.emitTimezone)):Ar(jn(V),a.value.emitTimezone);t("update:model-timezone-value",ue)}},ie=V=>Array.isArray(r.value)?o.value.enabled?r.value.map(ve=>V(ve)):[V(r.value[0]),r.value[1]?V(r.value[1]):bo(s.value.partialRange)]:V(jn(r.value)),Se=()=>{if(Array.isArray(r.value)){const V=rs(r.value[0],e.weekStart),ve=r.value[1]?rs(r.value[1],e.weekStart):[];return[V.map(Ee=>Ue(Ee)),ve.map(Ee=>Ue(Ee))]}return rs(r.value,e.weekStart).map(V=>Ue(V))},X=(V,ve)=>ze(jn(ie(V)),!1,ve),be=V=>{const ve=Se();return V?ve:t("update:model-value",Se())},je=(V=!1)=>(V||se(),e.monthPicker?X(S,V):e.timePicker?X(b,V):e.yearPicker?X(dt,V):e.weekPicker?be(V):ze(re(V),!0,V));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:F,formatInputValue:se,emitModelValue:je}},Lee=(t,e)=>{const{defaultedFilters:n,propDates:r}=pn(t),{validateMonthYearInRange:i}=fa(t),s=(c,d)=>{let p=c;return n.value.months.includes(_t(p))?(p=d?pi(c,1):hl(c,1),s(p,d)):p},a=(c,d)=>{let p=c;return n.value.years.includes(dt(p))?(p=d?Nv(c,1):hE(c,1),a(p,d)):p},o=(c,d=!1)=>{const p=qt(Ue(),{month:t.month,year:t.year});let f=c?pi(p,1):hl(p,1);t.disableYearSelect&&(f=Di(f,t.year));let y=_t(f),b=dt(f);n.value.months.includes(y)&&(f=s(f,c),y=_t(f),b=dt(f)),n.value.years.includes(b)&&(f=a(f,c),b=dt(f)),i(y,b,c,t.preventMinMaxNavigation)&&l(y,b,d)},l=(c,d,p)=>{e("update-month-year",{month:c,year:d,fromNav:p})},u=U(()=>c=>wE(qt(Ue(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:o,isDisabled:u,updateMonthYear:l}},Yp={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},wi={...Yp,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},Iee=["title"],Mee=["disabled"],Dee=Be({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...wi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:a,defaultedTextInput:o,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=pn(r),{isTimeValid:p,isMonthValid:f}=fa(r),{buildMatrix:y}=pa(),b=de(null),S=de(null),E=de(!1),x=de({}),k=de(null),L=de(null);Ht(()=>{r.arrowNavigation&&y([On(b),On(S)],"actionRow"),A(),window.addEventListener("resize",A)}),ua(()=>{window.removeEventListener("resize",A)});const A=()=>{E.value=!1,setTimeout(()=>{var R,H;const B=(R=k.value)==null?void 0:R.getBoundingClientRect(),se=(H=L.value)==null?void 0:H.getBoundingClientRect();B&&se&&(x.value.maxWidth=`${se.width-B.width-20}px`),E.value=!0},0)},D=U(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),M=U(()=>!p.value(r.internalModelValue)||!f.value(r.internalModelValue)||!D.value),q=()=>{const R=s.value;return r.timePicker||r.monthPicker,R(jn(r.internalModelValue))},j=()=>{const R=r.internalModelValue;return a.value.count>0?`${W(R[0])} - ${W(R[1])}`:[W(R[0]),W(R[1])]},W=R=>kE(R,s.value,r.formatLocale,o.value.rangeSeparator,r.modelAuto,d()),Y=U(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?j():c.value.enabled?r.internalModelValue.map(R=>`${W(R)}`):r.modelAuto?`${W(r.internalModelValue[0])}`:`${W(r.internalModelValue[0])} -`:W(r.internalModelValue):q()),re=()=>c.value.enabled?"; ":" - ",le=U(()=>Array.isArray(Y.value)?Y.value.join(re()):Y.value),F=()=>{p.value(r.internalModelValue)&&f.value(r.internalModelValue)&&D.value?n("select-date"):n("invalid-select")};return(R,H)=>(m(),T("div",{ref_key:"actionRowRef",ref:L,class:"dp__action_row"},[R.$slots["action-row"]?We(R.$slots,"action-row",Rn(Xt({key:0},{internalModelValue:R.internalModelValue,disabled:M.value,selectDate:()=>R.$emit("select-date"),closePicker:()=>R.$emit("close-picker")}))):(m(),T(we,{key:1},[$(i).showPreview?(m(),T("div",{key:0,class:"dp__selection_preview",title:le.value,style:gn(x.value)},[R.$slots["action-preview"]&&E.value?We(R.$slots,"action-preview",{key:0,value:R.internalModelValue}):P("",!0),!R.$slots["action-preview"]&&E.value?(m(),T(we,{key:1},[tt(ye(le.value),1)],64)):P("",!0)],12,Iee)):P("",!0),I("div",{ref_key:"actionBtnContainer",ref:k,class:"dp__action_buttons","data-dp-element":"action-row"},[R.$slots["action-buttons"]?We(R.$slots,"action-buttons",{key:0,value:R.internalModelValue}):P("",!0),R.$slots["action-buttons"]?P("",!0):(m(),T(we,{key:1},[!$(l).enabled&&$(i).showCancel?(m(),T("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:H[0]||(H[0]=B=>R.$emit("close-picker")),onKeydown:H[1]||(H[1]=B=>$(Er)(B,()=>R.$emit("close-picker")))},ye(R.cancelText),545)):P("",!0),$(i).showNow?(m(),T("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:H[2]||(H[2]=B=>R.$emit("select-now")),onKeydown:H[3]||(H[3]=B=>$(Er)(B,()=>R.$emit("select-now")))},ye(R.nowButtonLabel),33)):P("",!0),$(i).showSelect?(m(),T("button",{key:2,ref_key:"selectButtonRef",ref:S,type:"button",class:"dp__action_button dp__action_select",disabled:M.value,"data-test":"select-button",onKeydown:H[4]||(H[4]=B=>$(Er)(B,()=>F())),onClick:F},ye(R.selectText),41,Mee)):P("",!0)],64))],512)],64))],512))}}),Pee={class:"dp__selection_grid_header"},Oee=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Ree=["aria-label"],Wc=Be({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=pa(),a=n,o=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=pn(o),{hideNavigationButtons:d}=Qp(),p=de(!1),f=de(null),y=de(null),b=de([]),S=de(),E=de(null),x=de(0),k=de(null);jk(()=>{f.value=null}),Ht(()=>{on().then(()=>Y()),o.noOverlayFocus||A(),L(!0)}),ua(()=>L(!1));const L=ie=>{var Se;o.arrowNavigation&&((Se=o.headerRefs)!=null&&Se.length?s(ie):r(ie))},A=()=>{var ie;const Se=On(y);Se&&(u.value.enabled||(f.value?(ie=f.value)==null||ie.focus({preventScroll:!0}):Se.focus({preventScroll:!0})),p.value=Se.clientHeight<Se.scrollHeight)},D=U(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),M=U(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),q=U(()=>({dp__overlay_col:!0})),j=U(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:p.value,dp__button_bottom:o.isLast})),W=U(()=>{var ie,Se;return{dp__overlay_container:!0,dp__container_flex:((ie=o.items)==null?void 0:ie.length)<=6,dp__container_block:((Se=o.items)==null?void 0:Se.length)>6}});St(()=>o.items,()=>Y(!1),{deep:!0});const Y=(ie=!0)=>{on().then(()=>{const Se=On(f),X=On(y),be=On(E),je=On(k),V=be?be.getBoundingClientRect().height:0;X&&(X.getBoundingClientRect().height?x.value=X.getBoundingClientRect().height-V:x.value=c.value.modeHeight-V),Se&&je&&ie&&(je.scrollTop=Se.offsetTop-je.offsetTop-(x.value/2-Se.getBoundingClientRect().height)-V)})},re=ie=>{ie.disabled||a("selected",ie.value)},le=()=>{a("toggle"),a("reset-flow")},F=()=>{o.escClose&&le()},R=(ie,Se,X,be)=>{ie&&((Se.active||Se.value===o.focusValue)&&(f.value=ie),o.arrowNavigation&&(Array.isArray(b.value[X])?b.value[X][be]=ie:b.value[X]=[ie],H()))},H=()=>{var ie,Se;const X=(ie=o.headerRefs)!=null&&ie.length?[o.headerRefs].concat(b.value):b.value.concat([o.skipButtonRef?[]:[E.value]]);i(jn(X),(Se=o.headerRefs)!=null&&Se.length?"monthPicker":"selectionGrid")},B=ie=>{o.arrowNavigation||Qs(ie,c.value,!0)},se=ie=>{S.value=ie,a("hover-value",ie)},Te=()=>{if(le(),!o.isLast){const ie=nee(o.menuWrapRef??null,"action-row");if(ie){const Se=gE(ie);Se==null||Se.focus()}}},$e=ie=>{switch(ie.key){case ln.esc:return F();case ln.arrowLeft:return B(ie);case ln.arrowRight:return B(ie);case ln.arrowUp:return B(ie);case ln.arrowDown:return B(ie);default:return}},ze=ie=>{if(ie.key===ln.enter)return le();if(ie.key===ln.tab)return Te()};return e({focusGrid:A}),(ie,Se)=>{var X;return m(),T("div",{ref_key:"gridWrapRef",ref:y,class:Oe(D.value),style:gn(M.value),role:"dialog",tabindex:"0",onKeydown:$e,onClick:Se[0]||(Se[0]=Mr(()=>{},["prevent"]))},[I("div",{ref_key:"containerRef",ref:k,class:Oe(W.value),role:"grid",style:gn({"--dp-overlay-height":`${x.value}px`})},[I("div",Pee,[We(ie.$slots,"header")]),ie.$slots.overlay?We(ie.$slots,"overlay",{key:0}):(m(!0),T(we,{key:1},Fe(ie.items,(be,je)=>(m(),T("div",{key:je,class:Oe(["dp__overlay_row",{dp__flex_row:ie.items.length>=3}]),role:"row"},[(m(!0),T(we,null,Fe(be,(V,ve)=>(m(),T("div",{key:V.value,ref_for:!0,ref:Ee=>R(Ee,V,je,ve),role:"gridcell",class:Oe(q.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test":V.text,onClick:Mr(Ee=>re(V),["prevent"]),onKeydown:Ee=>$(Er)(Ee,()=>re(V),!0),onMouseover:Ee=>se(V.value)},[I("div",{class:Oe(V.className)},[ie.$slots.item?We(ie.$slots,"item",{key:0,item:V}):P("",!0),ie.$slots.item?P("",!0):(m(),T(we,{key:1},[tt(ye(V.text),1)],64))],2)],42,Oee))),128))],2))),128))],6),ie.$slots["button-icon"]?un((m(),T("button",{key:0,ref_key:"toggleButton",ref:E,type:"button","aria-label":(X=$(l))==null?void 0:X.toggleOverlay,class:Oe(j.value),tabindex:"0",onClick:le,onKeydown:ze},[We(ie.$slots,"button-icon")],42,Ree)),[[hi,!$(d)(ie.hideNavigation,ie.type)]]):P("",!0)],38)}}}),Kp=Be({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=U(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=U(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(m(),T("div",{class:Oe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(m(!0),T(we,null,Fe(n.value,(a,o)=>(m(),T("div",{key:a,class:Oe(r.value)},[We(i.$slots,"default",{instance:a,index:o})],2))),128))],2))}}),Nee=["aria-label","aria-disabled"],Zu=Be({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=de(null);return Ht(()=>n("set-ref",r)),(i,s)=>(m(),T("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=a=>i.$emit("activate")),onKeydown:s[1]||(s[1]=a=>$(Er)(a,()=>i.$emit("activate"),!0))},[I("span",{class:Oe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[We(i.$slots,"default")],2)],40,Nee))}}),Bee={class:"dp--year-mode-picker"},Fee=["aria-label","data-test"],CE=Be({__name:"YearModePicker",props:{...wi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Qp(),{defaultedConfig:a,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:c}=pn(r),{showTransition:d,transitionName:p}=zc(u),f=(S=!1,E)=>{n("toggle-year-picker",{flow:S,show:E})},y=S=>{n("year-select",S)},b=(S=!1)=>{n("handle-year",S)};return(S,E)=>{var x,k,L,A,D;return m(),T("div",Bee,[$(s)($(o),t.instance)?(m(),oe(Zu,{key:0,ref:"mpPrevIconRef","aria-label":(x=$(l))==null?void 0:x.prevYear,disabled:t.isDisabled(!1),class:Oe((k=$(c))==null?void 0:k.navBtnPrev),onActivate:E[0]||(E[0]=M=>b(!1))},{default:Ie(()=>[S.$slots["arrow-left"]?We(S.$slots,"arrow-left",{key:0}):P("",!0),S.$slots["arrow-left"]?P("",!0):(m(),oe($(Hv),{key:1}))]),_:3},8,["aria-label","disabled","class"])):P("",!0),I("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(L=$(l))==null?void 0:L.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>f(!1)),onKeydown:E[2]||(E[2]=ta(()=>f(!1),["enter"]))},[S.$slots.year?We(S.$slots,"year",{key:0,year:t.year}):P("",!0),S.$slots.year?P("",!0):(m(),T(we,{key:1},[tt(ye(t.year),1)],64))],40,Fee),$(i)($(o),t.instance)?(m(),oe(Zu,{key:1,ref:"mpNextIconRef","aria-label":(A=$(l))==null?void 0:A.nextYear,disabled:t.isDisabled(!0),class:Oe((D=$(c))==null?void 0:D.navBtnNext),onActivate:E[3]||(E[3]=M=>b(!0))},{default:Ie(()=>[S.$slots["arrow-right"]?We(S.$slots,"arrow-right",{key:0}):P("",!0),S.$slots["arrow-right"]?P("",!0):(m(),oe($(Vv),{key:1}))]),_:3},8,["aria-label","disabled","class"])):P("",!0),ae(Ti,{name:$(p)(t.showYearPicker),css:$(d)},{default:Ie(()=>[t.showYearPicker?(m(),oe(Wc,{key:0,items:t.items,"text-input":S.textInput,"esc-close":S.escClose,config:S.config,"is-last":S.autoApply&&!$(a).keepActionRow,"hide-navigation":S.hideNavigation,"aria-labels":S.ariaLabels,type:"year",onToggle:f,onSelected:E[4]||(E[4]=M=>y(M))},nr({"button-icon":Ie(()=>[S.$slots["calendar-icon"]?We(S.$slots,"calendar-icon",{key:0}):P("",!0),S.$slots["calendar-icon"]?P("",!0):(m(),oe($(Ul),{key:1}))]),_:2},[S.$slots["year-overlay-value"]?{name:"item",fn:Ie(({item:M})=>[We(S.$slots,"year-overlay-value",{text:M.text,value:M.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):P("",!0)]),_:3},8,["name","css"])])}}}),Zv=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>wt(t,r))){const r=e.value.filter(i=>!wt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Jv=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?fn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Xp=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},AE=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ar(Ue(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ar(Ue(t.value),t.timezone))},LE=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Tn(t,e.value[0])||wt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(fn(t,e.value[1])||wt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],IE=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:a,filters:o,year:l,month:u,emit:c})=>{const d=U(()=>Yv(a.yearRange,a.locale,a.reverseYears)),p=de([!1]),f=U(()=>(W,Y)=>{const re=qt(di(new Date),{month:u.value(W),year:l.value(W)}),le=Y?Zx(re):_c(re);return wE(le,r.value.maxDate,r.value.minDate,a.preventMinMaxNavigation,Y)}),y=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],b=()=>{for(let W=0;W<t.value.count;W++)if(W===0)i.value[W]=i.value[0];else if(W===t.value.count-1&&y())i.value[W]={month:_t(s.value[1]),year:dt(s.value[1])};else{const Y=qt(Ue(),i.value[W-1]);i.value[W]={month:_t(Y),year:dt(Nv(Y,1))}}},S=W=>{if(!W)return b();const Y=qt(Ue(),i.value[W]);return i.value[0].year=dt(hE(Y,t.value.count-1)),b()},E=(W,Y)=>{const re=XQ(Y,W);return e.value.showLastInRange&&re>1?Y:W},x=W=>a.focusStartDate||t.value.solo?W[0]:W[1]?E(W[0],W[1]):W[0],k=()=>{if(s.value){const W=Array.isArray(s.value)?x(s.value):s.value;i.value[0]={month:_t(W),year:dt(W)}}},L=()=>{k(),t.value.count&&b()};St(s,(W,Y)=>{a.isTextInputDate&&JSON.stringify(W??{})!==JSON.stringify(Y??{})&&L()}),Ht(()=>{L()});const A=(W,Y)=>{i.value[Y].year=W,c("update-month-year",{instance:Y,year:W,month:i.value[Y].month}),t.value.count&&!t.value.solo&&S(Y)},D=U(()=>W=>pl(d.value,Y=>{var re;const le=l.value(W)===Y.value,F=Tc(Y.value,fl(r.value.minDate),fl(r.value.maxDate))||((re=o.value.years)==null?void 0:re.includes(l.value(W))),R=Qv(n.value,Y.value);return{active:le,disabled:F,highlighted:R}})),M=(W,Y)=>{A(W,Y),j(Y)},q=(W,Y=!1)=>{if(!f.value(W,Y)){const re=Y?l.value(W)+1:l.value(W)-1;A(re,W)}},j=(W,Y=!1,re)=>{Y||c("reset-flow"),re!==void 0?p.value[W]=re:p.value[W]=!p.value[W],p.value[W]?c("overlay-toggle",{open:!0,overlay:Jn.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:Jn.year}))};return{isDisabled:f,groupedYears:D,showYearPicker:p,selectYear:A,toggleYearPicker:j,handleYearSelect:M,handleYear:q}},Uee=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:a,defaultedHighlight:o,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=pn(t),p=()=>{t.isTextInputDate&&L(dt(Ue(t.startDate)),0)},{modelValue:f,year:y,month:b,calendars:S}=Gc(t,e,p),E=U(()=>fE(t.formatLocale,t.locale,t.monthNameFormat)),x=de(null),{checkMinMaxRange:k}=fa(t),{selectYear:L,groupedYears:A,showYearPicker:D,toggleYearPicker:M,handleYearSelect:q,handleYear:j,isDisabled:W}=IE({modelValue:f,multiCalendars:n,range:a,highlight:o,calendars:S,year:y,propDates:l,month:b,filters:c,props:t,emit:e});Ht(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&L(dt(Ue(t.startDate)),0)});const Y=X=>X?{month:_t(X),year:dt(X)}:{month:null,year:null},re=()=>f.value?Array.isArray(f.value)?f.value.map(X=>Y(X)):Y(f.value):Y(),le=(X,be)=>{const je=S.value[X],V=re();return Array.isArray(V)?V.some(ve=>ve.year===(je==null?void 0:je.year)&&ve.month===be):(je==null?void 0:je.year)===V.year&&be===V.month},F=(X,be,je)=>{var V,ve;const Ee=re();return Array.isArray(Ee)?y.value(be)===((V=Ee[je])==null?void 0:V.year)&&X===((ve=Ee[je])==null?void 0:ve.month):!1},R=(X,be)=>{if(a.value.enabled){const je=re();if(Array.isArray(f.value)&&Array.isArray(je)){const V=F(X,be,0)||F(X,be,1),ve=ls(di(Ue()),X,y.value(be));return Gp(f.value,x.value,ve)&&!V}return!1}return!1},H=U(()=>X=>pl(E.value,be=>{var je;const V=le(X,be.value),ve=Tc(be.value,vE(y.value(X),l.value.minDate),_E(y.value(X),l.value.maxDate))||cee(l.value.disabledDates,y.value(X)).includes(be.value)||((je=c.value.months)==null?void 0:je.includes(be.value)),Ee=R(be.value,X),ue=SE(o.value,be.value,y.value(X));return{active:V,disabled:ve,isBetween:Ee,highlighted:ue}})),B=(X,be)=>ls(di(Ue()),X,y.value(be)),se=(X,be)=>{const je=f.value?f.value:di(new Date);f.value=ls(je,X,y.value(be)),e("auto-apply"),e("update-flow-step")},Te=(X,be)=>{const je=B(X,be);a.value.fixedEnd||a.value.fixedStart?f.value=LE(je,f,e,a):f.value?k(je,f.value)&&(f.value=Jv(f,B(X,be),e)):f.value=[B(X,be)],on().then(()=>{Xp(f.value,e,t.autoApply,t.modelAuto)})},$e=(X,be)=>{Zv(B(X,be),f,d.value.limit),e("auto-apply",!0)},ze=(X,be)=>(S.value[be].month=X,Se(be,S.value[be].year,X),d.value.enabled?$e(X,be):a.value.enabled?Te(X,be):se(X,be)),ie=(X,be)=>{L(X,be),Se(be,X,null)},Se=(X,be,je)=>{let V=je;if(!V&&V!==0){const ve=re();V=Array.isArray(ve)?ve[X].month:ve.month}e("update-month-year",{instance:X,year:be,month:V})};return{groupedMonths:H,groupedYears:A,year:y,isDisabled:W,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:D,modelValue:f,presetDate:(X,be)=>{AE({value:X,modelValue:f,range:a.value.enabled,timezone:be?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(X,be)=>{x.value=B(X,be)},selectMonth:ze,selectYear:ie,toggleYearPicker:M,handleYearSelect:q,handleYear:j,getModelMonthYear:re}},jee=Be({compatConfig:{MODE:3},__name:"MonthPicker",props:{...wi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=to(),s=$r(i,"yearMode"),a=t;Ht(()=>{a.shadow||r("mount",null)});const{groupedMonths:o,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:p,showYearPicker:f,modelValue:y,presetDate:b,setHoverDate:S,selectMonth:E,selectYear:x,toggleYearPicker:k,handleYearSelect:L,handleYear:A,getModelMonthYear:D}=Uee(a,r);return e({getSidebarProps:()=>({modelValue:y,year:u,getModelMonthYear:D,selectMonth:E,selectYear:x,handleYear:A}),presetDate:b,toggleYearPicker:M=>k(0,M)}),(M,q)=>(m(),oe(Kp,{"multi-calendars":$(d).count,collapse:M.collapse,stretch:""},{default:Ie(({instance:j})=>[M.$slots["top-extra"]?We(M.$slots,"top-extra",{key:0,value:M.internalModelValue}):P("",!0),M.$slots["month-year"]?We(M.$slots,"month-year",Rn(Xt({key:1},{year:$(u),months:$(o)(j),years:$(l)(j),selectMonth:$(E),selectYear:$(x),instance:j}))):(m(),oe(Wc,{key:2,items:$(o)(j),"arrow-navigation":M.arrowNavigation,"is-last":M.autoApply&&!$(p).keepActionRow,"esc-close":M.escClose,height:$(p).modeHeight,config:M.config,"no-overlay-focus":!!(M.noOverlayFocus||M.textInput),"use-relative":"",type:"month",onSelected:W=>$(E)(W,j),onHoverValue:W=>$(S)(W,j)},nr({header:Ie(()=>[ae(CE,Xt(M.$props,{items:$(l)(j),instance:j,"show-year-picker":$(f)[j],year:$(u)(j),"is-disabled":W=>$(c)(j,W),onHandleYear:W=>$(A)(j,W),onYearSelect:W=>$(L)(W,j),onToggleYearPicker:W=>$(k)(j,W==null?void 0:W.flow,W==null?void 0:W.show)}),nr({_:2},[Fe($(s),(W,Y)=>({name:W,fn:Ie(re=>[We(M.$slots,W,Rn(tr(re)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[M.$slots["month-overlay-value"]?{name:"item",fn:Ie(({item:W})=>[We(M.$slots,"month-overlay-value",{text:W.text,value:W.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),$ee=(t,e)=>{const n=()=>{t.isTextInputDate&&(c.value=dt(Ue(t.startDate)))},{modelValue:r}=Gc(t,e,n),i=de(null),{defaultedHighlight:s,defaultedMultiDates:a,defaultedFilters:o,defaultedRange:l,propDates:u}=pn(t),c=de();Ht(()=>{t.startDate&&(r.value&&t.focusStartDate||!r.value)&&(c.value=dt(Ue(t.startDate)))});const d=b=>Array.isArray(r.value)?r.value.some(S=>dt(S)===b):r.value?dt(r.value)===b:!1,p=b=>l.value.enabled&&Array.isArray(r.value)?Gp(r.value,i.value,y(b)):!1,f=U(()=>pl(Yv(t.yearRange,t.locale,t.reverseYears),b=>{const S=d(b.value),E=Tc(b.value,fl(u.value.minDate),fl(u.value.maxDate))||o.value.years.includes(b.value),x=p(b.value)&&!S,k=Qv(s.value,b.value);return{active:S,disabled:E,isBetween:x,highlighted:k}})),y=b=>Di(di(_c(new Date)),b);return{groupedYears:f,modelValue:r,focusYear:c,setHoverValue:b=>{i.value=Di(di(new Date),b)},selectYear:b=>{var S;if(e("update-month-year",{instance:0,year:b}),a.value.enabled)return r.value?Array.isArray(r.value)&&(((S=r.value)==null?void 0:S.map(E=>dt(E))).includes(b)?r.value=r.value.filter(E=>dt(E)!==b):r.value.push(Di(mr(Ue()),b))):r.value=[Di(mr(_c(Ue())),b)],e("auto-apply",!0);l.value.enabled?(r.value=Jv(r,y(b),e),on().then(()=>{Xp(r.value,e,t.autoApply,t.modelAuto)})):(r.value=y(b),e("auto-apply"))}}},Hee=Be({compatConfig:{MODE:3},__name:"YearPicker",props:{...wi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:a,focusYear:o,selectYear:l,setHoverValue:u}=$ee(i,r),{defaultedConfig:c}=pn(i);return e({getSidebarProps:()=>({modelValue:a,selectYear:l})}),(d,p)=>(m(),T("div",null,[d.$slots["top-extra"]?We(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):P("",!0),d.$slots["month-year"]?We(d.$slots,"month-year",Rn(Xt({key:1},{years:$(s),selectYear:$(l)}))):(m(),oe(Wc,{key:2,items:$(s),"is-last":d.autoApply&&!$(c).keepActionRow,height:$(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":$(o),type:"year","use-relative":"",onSelected:$(l),onHoverValue:$(u)},nr({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Ie(({item:f})=>[We(d.$slots,"year-overlay-value",{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Vee={key:0,class:"dp__time_input"},qee=["data-test","aria-label","onKeydown","onClick","onMousedown"],Wee=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),zee=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Gee=["aria-label","disabled","data-test","onKeydown","onClick"],Yee=["data-test","aria-label","onKeydown","onClick","onMousedown"],Kee=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Xee=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Qee={key:0},Zee=["aria-label"],Jee=Be({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...wi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:a}=pa(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=pn(i),{transitionName:p,showTransition:f}=zc(l),y=xn({hours:!1,minutes:!1,seconds:!1}),b=de("AM"),S=de(null),E=de([]),x=de();Ht(()=>{r("mounted")});const k=K=>qt(new Date,{hours:K.hours,minutes:K.minutes,seconds:i.enableSeconds?K.seconds:0,milliseconds:0}),L=U(()=>K=>H(K,i[K])||D(K,i[K])),A=U(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),D=(K,O)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(K,O):!1,M=(K,O)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const N=O?+i[`${K}Increment`]:-+i[`${K}Increment`],Q=i[K]+N;return!i.validateTime(K,Q)}return!1},q=U(()=>K=>!ze(+i[K]+ +i[`${K}Increment`],K)||M(K,!0)),j=U(()=>K=>!ze(+i[K]-+i[`${K}Increment`],K)||M(K,!1)),W=(K,O)=>Wx(qt(Ue(),K),O),Y=(K,O)=>WJ(qt(Ue(),K),O),re=U(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),le=U(()=>{const K=[{type:"hours"}];return i.enableMinutes&&K.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&K.push({type:"",separator:!0},{type:"seconds"}),K}),F=U(()=>le.value.filter(K=>!K.separator)),R=U(()=>K=>{if(K==="hours"){const O=V(+i.hours);return{text:O<10?`0${O}`:`${O}`,value:O}}return{text:i[K]<10?`0${i[K]}`:`${i[K]}`,value:i[K]}}),H=(K,O)=>{var N;if(!i.disabledTimesConfig)return!1;const Q=i.disabledTimesConfig(i.order,K==="hours"?O:void 0);return Q[K]?!!((N=Q[K])!=null&&N.includes(O)):!0},B=(K,O)=>O!=="hours"||b.value==="AM"?K:K+12,se=K=>{const O=i.is24?24:12,N=K==="hours"?O:60,Q=+i[`${K}GridIncrement`],ee=K==="hours"&&!i.is24?Q:0,me=[];for(let J=ee;J<N;J+=Q)me.push({value:i.is24?J:B(J,K),text:J<10?`0${J}`:`${J}`});return K==="hours"&&!i.is24&&me.unshift({value:b.value==="PM"?12:0,text:"12"}),pl(me,J=>({active:!1,disabled:u.value.times[K].includes(J.value)||!ze(J.value,K)||H(K,J.value)||D(K,J.value)}))},Te=K=>K>=0?K:59,$e=K=>K>=0?K:23,ze=(K,O)=>{const N=i.minTime?k(wm(i.minTime)):null,Q=i.maxTime?k(wm(i.maxTime)):null,ee=k(wm(A.value,O,O==="minutes"||O==="seconds"?Te(K):$e(K)));return N&&Q?(bc(ee,Q)||Po(ee,Q))&&(dl(ee,N)||Po(ee,N)):N?dl(ee,N)||Po(ee,N):Q?bc(ee,Q)||Po(ee,Q):!0},ie=K=>i[`no${K[0].toUpperCase()+K.slice(1)}Overlay`],Se=K=>{ie(K)||(y[K]=!y[K],y[K]?r("overlay-opened",K):r("overlay-closed",K))},X=K=>K==="hours"?ps:K==="minutes"?ra:cl,be=()=>{x.value&&clearTimeout(x.value)},je=(K,O=!0,N)=>{const Q=O?W:Y,ee=O?+i[`${K}Increment`]:-+i[`${K}Increment`];ze(+i[K]+ee,K)&&r(`update:${K}`,X(K)(Q({[K]:+i[K]},{[K]:+i[`${K}Increment`]}))),!(N!=null&&N.keyboard)&&c.value.timeArrowHoldThreshold&&(x.value=setTimeout(()=>{je(K,O)},c.value.timeArrowHoldThreshold))},V=K=>i.is24?K:(K>=12?b.value="PM":b.value="AM",QJ(K)),ve=()=>{b.value==="PM"?(b.value="AM",r("update:hours",i.hours-12)):(b.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",b.value)},Ee=K=>{y[K]=!0},ue=(K,O,N)=>{if(K&&i.arrowNavigation){Array.isArray(E.value[O])?E.value[O][N]=K:E.value[O]=[K];const Q=E.value.reduce((ee,me)=>me.map((J,fe)=>[...ee[fe]||[],me[fe]]),[]);a(i.closeTimePickerBtn),S.value&&(Q[1]=Q[1].concat(S.value)),s(Q,i.order)}},Ge=(K,O)=>(Se(K),r(`update:${K}`,O));return e({openChildCmp:Ee}),(K,O)=>{var N;return K.disabled?P("",!0):(m(),T("div",Vee,[(m(!0),T(we,null,Fe(le.value,(Q,ee)=>{var me,J,fe;return m(),T("div",{key:ee,class:Oe(re.value)},[Q.separator?(m(),T(we,{key:0},[tt(" : ")],64)):(m(),T(we,{key:1},[I("button",{ref_for:!0,ref:he=>ue(he,ee,0),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!K.timePickerInline,dp__inc_dec_button_inline:K.timePickerInline,dp__tp_inline_btn_top:K.timePickerInline,dp__inc_dec_button_disabled:q.value(Q.type)}),"data-test":`${Q.type}-time-inc-btn-${i.order}`,"aria-label":(me=$(o))==null?void 0:me.incrementValue(Q.type),tabindex:"0",onKeydown:he=>$(Er)(he,()=>je(Q.type,!0,{keyboard:!0}),!0),onClick:he=>$(c).timeArrowHoldThreshold?void 0:je(Q.type,!0),onMousedown:he=>$(c).timeArrowHoldThreshold?je(Q.type,!0):void 0,onMouseup:be},[i.timePickerInline?(m(),T(we,{key:1},[K.$slots["tp-inline-arrow-up"]?We(K.$slots,"tp-inline-arrow-up",{key:0}):(m(),T(we,{key:1},[Wee,zee],64))],64)):(m(),T(we,{key:0},[K.$slots["arrow-up"]?We(K.$slots,"arrow-up",{key:0}):P("",!0),K.$slots["arrow-up"]?P("",!0):(m(),oe($(Wv),{key:1}))],64))],42,qee),I("button",{ref_for:!0,ref:he=>ue(he,ee,1),type:"button","aria-label":(J=$(o))==null?void 0:J.openTpOverlay(Q.type),class:Oe({dp__time_display:!0,dp__time_display_block:!K.timePickerInline,dp__time_display_inline:K.timePickerInline,"dp--time-invalid":L.value(Q.type),"dp--time-overlay-btn":!L.value(Q.type)}),disabled:ie(Q.type),tabindex:"0","data-test":`${Q.type}-toggle-overlay-btn-${i.order}`,onKeydown:he=>$(Er)(he,()=>Se(Q.type),!0),onClick:he=>Se(Q.type)},[K.$slots[Q.type]?We(K.$slots,Q.type,{key:0,text:R.value(Q.type).text,value:R.value(Q.type).value}):P("",!0),K.$slots[Q.type]?P("",!0):(m(),T(we,{key:1},[tt(ye(R.value(Q.type).text),1)],64))],42,Gee),I("button",{ref_for:!0,ref:he=>ue(he,ee,2),type:"button",class:Oe({dp__btn:!0,dp__inc_dec_button:!K.timePickerInline,dp__inc_dec_button_inline:K.timePickerInline,dp__tp_inline_btn_bottom:K.timePickerInline,dp__inc_dec_button_disabled:j.value(Q.type)}),"data-test":`${Q.type}-time-dec-btn-${i.order}`,"aria-label":(fe=$(o))==null?void 0:fe.decrementValue(Q.type),tabindex:"0",onKeydown:he=>$(Er)(he,()=>je(Q.type,!1,{keyboard:!0}),!0),onClick:he=>$(c).timeArrowHoldThreshold?void 0:je(Q.type,!1),onMousedown:he=>$(c).timeArrowHoldThreshold?je(Q.type,!1):void 0,onMouseup:be},[i.timePickerInline?(m(),T(we,{key:1},[K.$slots["tp-inline-arrow-down"]?We(K.$slots,"tp-inline-arrow-down",{key:0}):(m(),T(we,{key:1},[Kee,Xee],64))],64)):(m(),T(we,{key:0},[K.$slots["arrow-down"]?We(K.$slots,"arrow-down",{key:0}):P("",!0),K.$slots["arrow-down"]?P("",!0):(m(),oe($(zv),{key:1}))],64))],42,Yee)],64))],2)}),128)),K.is24?P("",!0):(m(),T("div",Qee,[K.$slots["am-pm-button"]?We(K.$slots,"am-pm-button",{key:0,toggle:ve,value:b.value}):P("",!0),K.$slots["am-pm-button"]?P("",!0):(m(),T("button",{key:1,ref_key:"amPmButton",ref:S,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(N=$(o))==null?void 0:N.amPmButton,tabindex:"0",onClick:ve,onKeydown:O[0]||(O[0]=Q=>$(Er)(Q,()=>ve(),!0))},ye(b.value),41,Zee))])),(m(!0),T(we,null,Fe(F.value,(Q,ee)=>(m(),oe(Ti,{key:ee,name:$(p)(y[Q.type]),css:$(f)},{default:Ie(()=>[y[Q.type]?(m(),oe(Wc,{key:0,items:se(Q.type),"is-last":K.autoApply&&!$(c).keepActionRow,"esc-close":K.escClose,type:Q.type,"text-input":K.textInput,config:K.config,"arrow-navigation":K.arrowNavigation,"aria-labels":K.ariaLabels,onSelected:me=>Ge(Q.type,me),onToggle:me=>Se(Q.type),onResetFlow:O[1]||(O[1]=me=>K.$emit("reset-flow"))},nr({"button-icon":Ie(()=>[K.$slots["clock-icon"]?We(K.$slots,"clock-icon",{key:0}):P("",!0),K.$slots["clock-icon"]?P("",!0):(m(),oe(Lt(K.timePickerInline?$(Ul):$(qv)),{key:1}))]),_:2},[K.$slots[`${Q.type}-overlay-value`]?{name:"item",fn:Ie(({item:me})=>[We(K.$slots,`${Q.type}-overlay-value`,{text:me.text,value:me.value})]),key:"0"}:void 0,K.$slots[`${Q.type}-overlay-header`]?{name:"header",fn:Ie(()=>[We(K.$slots,`${Q.type}-overlay-header`,{toggle:()=>Se(Q.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):P("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ete={class:"dp--tp-wrap"},tte=["aria-label","tabindex"],nte=["tabindex"],rte=["aria-label"],ME=Be({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...wi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:a}=pa(),o=to(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:p}=pn(i),{transitionName:f,showTransition:y}=zc(l),{hideNavigationButtons:b}=Qp(),S=de(null),E=de(null),x=de([]),k=de(null);Ht(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([On(S.value)],"time"):a(!0,i.timePicker)});const L=U(()=>p.value.enabled&&i.modelAuto?mE(i.internalModelValue):!0),A=de(!1),D=B=>({hours:Array.isArray(i.hours)?i.hours[B]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[B]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[B]:i.seconds}),M=U(()=>{const B=[];if(p.value.enabled)for(let se=0;se<2;se++)B.push(D(se));else B.push(D(0));return B}),q=(B,se=!1,Te="")=>{se||r("reset-flow"),A.value=B,r(B?"overlay-opened":"overlay-closed",Jn.time),i.arrowNavigation&&a(B),on(()=>{Te!==""&&x.value[0]&&x.value[0].openChildCmp(Te)})},j=U(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),W=$r(o,"timePicker"),Y=(B,se,Te)=>p.value.enabled?se===0?[B,M.value[1][Te]]:[M.value[0][Te],B]:B,re=B=>{r("update:hours",B)},le=B=>{r("update:minutes",B)},F=B=>{r("update:seconds",B)},R=()=>{if(k.value&&!c.value.enabled&&!i.noOverlayFocus){const B=gE(k.value);B&&B.focus({preventScroll:!0})}},H=B=>{r("overlay-closed",B)};return e({toggleTimePicker:q}),(B,se)=>{var Te;return m(),T("div",ete,[!B.timePicker&&!B.timePickerInline?un((m(),T("button",{key:0,ref_key:"openTimePickerBtn",ref:S,type:"button",class:Oe(j.value),"aria-label":(Te=$(u))==null?void 0:Te.openTimePicker,tabindex:B.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:se[0]||(se[0]=$e=>$(Er)($e,()=>q(!0))),onClick:se[1]||(se[1]=$e=>q(!0))},[B.$slots["clock-icon"]?We(B.$slots,"clock-icon",{key:0}):P("",!0),B.$slots["clock-icon"]?P("",!0):(m(),oe($(qv),{key:1}))],42,tte)),[[hi,!$(b)(B.hideNavigation,"time")]]):P("",!0),ae(Ti,{name:$(f)(A.value),css:$(y)&&!B.timePickerInline},{default:Ie(()=>{var $e;return[A.value||B.timePicker||B.timePickerInline?(m(),T("div",{key:0,ref_key:"overlayRef",ref:k,class:Oe({dp__overlay:!B.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!B.timePickerInline,"dp--overlay-relative":i.timePicker}),style:gn(B.timePicker?{height:`${$(d).modeHeight}px`}:void 0),tabindex:B.timePickerInline?void 0:0},[I("div",{class:Oe(B.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[B.$slots["time-picker-overlay"]?We(B.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:re,setMinutes:le,setSeconds:F}):P("",!0),B.$slots["time-picker-overlay"]?P("",!0):(m(),T("div",{key:1,class:Oe(B.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(m(!0),T(we,null,Fe(M.value,(ze,ie)=>un((m(),oe(Jee,Xt({key:ie,ref_for:!0},{...B.$props,order:ie,hours:ze.hours,minutes:ze.minutes,seconds:ze.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:ie===0?B.fixedStart:B.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:x,"validate-time":(Se,X)=>t.validateTime(Se,Y(X,ie,Se)),"onUpdate:hours":Se=>re(Y(Se,ie,"hours")),"onUpdate:minutes":Se=>le(Y(Se,ie,"minutes")),"onUpdate:seconds":Se=>F(Y(Se,ie,"seconds")),onMounted:R,onOverlayClosed:H,onOverlayOpened:se[2]||(se[2]=Se=>B.$emit("overlay-opened",Se)),onAmPmChange:se[3]||(se[3]=Se=>B.$emit("am-pm-change",Se))}),nr({_:2},[Fe($(W),(Se,X)=>({name:Se,fn:Ie(be=>[We(B.$slots,Se,Xt({ref_for:!0},be))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[hi,ie===0?!0:L.value]])),128))],2)),!B.timePicker&&!B.timePickerInline?un((m(),T("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:Oe(j.value),"aria-label":($e=$(u))==null?void 0:$e.closeTimePicker,tabindex:"0",onKeydown:se[4]||(se[4]=ze=>$(Er)(ze,()=>q(!1))),onClick:se[5]||(se[5]=ze=>q(!1))},[B.$slots["calendar-icon"]?We(B.$slots,"calendar-icon",{key:0}):P("",!0),B.$slots["calendar-icon"]?P("",!0):(m(),oe($(Ul),{key:1}))],42,rte)),[[hi,!$(b)(B.hideNavigation,"time")]]):P("",!0)],2)],14,nte)):P("",!0)]}),_:3},8,["name","css"])])}}}),DE=(t,e,n,r)=>{const{defaultedRange:i}=pn(t),s=(k,L)=>Array.isArray(e[k])?e[k][L]:e[k],a=k=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[k]:e.seconds:0,o=(k,L)=>k?L!==void 0?Zs(k,s("hours",L),s("minutes",L),a(L)):Zs(k,e.hours,e.minutes,a()):dE(Ue(),a(L)),l=(k,L)=>{e[k]=L},u=U(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),c=(k,L)=>{const A=Object.fromEntries(Object.keys(e).map(D=>D===k?[D,L]:[D,e[D]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const D=q=>n.value?Zs(n.value[q],A.hours[q],A.minutes[q],A.seconds[q]):null,M=q=>cE(n.value[q],0);return!(wt(D(0),D(1))&&(dl(D(0),M(1))||bc(D(1),M(0))))}return!0},d=(k,L)=>{c(k,L)&&(l(k,L),r&&r())},p=k=>{d("hours",k)},f=k=>{d("minutes",k)},y=k=>{d("seconds",k)},b=(k,L,A,D)=>{L&&p(k),!L&&!A&&f(k),A&&y(k),n.value&&D(n.value)},S=k=>{if(k){const L=Array.isArray(k),A=L?[+k[0].hours,+k[1].hours]:+k.hours,D=L?[+k[0].minutes,+k[1].minutes]:+k.minutes,M=L?[+k[0].seconds,+k[1].seconds]:+k.seconds;l("hours",A),l("minutes",D),t.enableSeconds&&l("seconds",M)}},E=(k,L)=>{const A={hours:Array.isArray(e.hours)?e.hours[k]:e.hours,disabledArr:[]};return(L||L===0)&&(A.hours=L),Array.isArray(t.disabledTimes)&&(A.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[k])?t.disabledTimes[k]:t.disabledTimes),A},x=U(()=>(k,L)=>{var A;if(Array.isArray(t.disabledTimes)){const{disabledArr:D,hours:M}=E(k,L),q=D.filter(j=>+j.hours===M);return((A=q[0])==null?void 0:A.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(q==null?void 0:q.map(j=>+j.minutes))??[],seconds:(q==null?void 0:q.map(j=>j.seconds?+j.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:p,updateMinutes:f,updateSeconds:y,getSetDateTime:o,updateTimeValues:b,getSecondsValue:a,assignStartTime:S,validateTime:c,disabledTimesConfig:x}},ite=(t,e)=>{const n=()=>{t.isTextInputDate&&L()},{modelValue:r,time:i}=Gc(t,e,n),{defaultedStartTime:s,defaultedRange:a,defaultedTz:o}=pn(t),{updateTimeValues:l,getSetDateTime:u,setTime:c,assignStartTime:d,disabledTimesConfig:p,validateTime:f}=DE(t,i,r,y);function y(){e("update-flow-step")}const b=D=>{const{hours:M,minutes:q,seconds:j}=D;return{hours:+M,minutes:+q,seconds:j?+j:0}},S=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const M=b(t.startTime[0]),q=b(t.startTime[1]);return[qt(Ue(),M),qt(Ue(),q)]}const D=b(t.startTime);return qt(Ue(),D)}return a.value.enabled?[null,null]:null},E=()=>{if(a.value.enabled){const[D,M]=S();r.value=[Ar(u(D,0),o.value.timezone),Ar(u(M,1),o.value.timezone)]}else r.value=Ar(u(S()),o.value.timezone)},x=D=>Array.isArray(D)?[Ha(Ue(D[0])),Ha(Ue(D[1]))]:[Ha(D??Ue())],k=(D,M,q)=>{c("hours",D),c("minutes",M),c("seconds",t.enableSeconds?q:0)},L=()=>{const[D,M]=x(r.value);return a.value.enabled?k([D.hours,M.hours],[D.minutes,M.minutes],[D.seconds,M.seconds]):k(D.hours,D.minutes,D.seconds)};Ht(()=>{if(!t.shadow)return d(s.value),r.value?L():E()});const A=()=>{Array.isArray(r.value)?r.value=r.value.map((D,M)=>D&&u(D,M)):r.value=u(r.value),e("time-update")};return{modelValue:r,time:i,disabledTimesConfig:p,updateTime:(D,M=!0,q=!1)=>{l(D,M,q,A)},validateTime:f}},ste=Be({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...wi},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=to(),a=$r(s,"timePicker"),o=de(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:d,validateTime:p}=ite(i,r);return Ht(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(f,y=!1,b="")=>{var S;(S=o.value)==null||S.toggleTimePicker(f,y,b)}}),(f,y)=>(m(),oe(Kp,{"multi-calendars":0,stretch:""},{default:Ie(()=>[ae(ME,Xt({ref_key:"tpRef",ref:o},f.$props,{hours:$(l).hours,minutes:$(l).minutes,seconds:$(l).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":$(c),"validate-time":$(p),"onUpdate:hours":y[0]||(y[0]=b=>$(d)(b)),"onUpdate:minutes":y[1]||(y[1]=b=>$(d)(b,!1)),"onUpdate:seconds":y[2]||(y[2]=b=>$(d)(b,!1,!0)),onAmPmChange:y[3]||(y[3]=b=>f.$emit("am-pm-change",b)),onResetFlow:y[4]||(y[4]=b=>f.$emit("reset-flow")),onOverlayClosed:y[5]||(y[5]=b=>f.$emit("overlay-toggle",{open:!1,overlay:b})),onOverlayOpened:y[6]||(y[6]=b=>f.$emit("overlay-toggle",{open:!0,overlay:b}))}),nr({_:2},[Fe($(a),(b,S)=>({name:b,fn:Ie(E=>[We(f.$slots,b,Rn(tr(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),ate={class:"dp--header-wrap"},ote={key:0,class:"dp__month_year_wrap"},lte={key:0},ute={class:"dp__month_year_wrap"},cte=["aria-label","data-test","onClick","onKeydown"],dte=Be({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...wi},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:a,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d,defaultedUI:p}=pn(i),{transitionName:f,showTransition:y}=zc(s),{buildMatrix:b}=pa(),{handleMonthYearChange:S,isDisabled:E,updateMonthYear:x}=Lee(i,r),{showLeftIcon:k,showRightIcon:L}=Qp(),A=de(!1),D=de(!1),M=de([null,null,null,null]);Ht(()=>{r("mount")});const q=ie=>({get:()=>i[ie],set:Se=>{const X=ie===oi.month?oi.year:oi.month;r("update-month-year",{[ie]:Se,[X]:i[X]}),ie===oi.month?H(!0):B(!0)}}),j=U(q(oi.month)),W=U(q(oi.year)),Y=U(()=>ie=>({month:i.month,year:i.year,items:ie===oi.month?i.months:i.years,instance:i.instance,updateMonthYear:x,toggle:ie===oi.month?H:B})),re=U(()=>i.months.find(ie=>ie.value===i.month)||{text:"",value:0}),le=U(()=>pl(i.months,ie=>{const Se=i.month===ie.value,X=Tc(ie.value,vE(i.year,d.value.minDate),_E(i.year,d.value.maxDate))||l.value.months.includes(ie.value),be=SE(c.value,ie.value,i.year);return{active:Se,disabled:X,highlighted:be}})),F=U(()=>pl(i.years,ie=>{const Se=i.year===ie.value,X=Tc(ie.value,fl(d.value.minDate),fl(d.value.maxDate))||l.value.years.includes(ie.value),be=Qv(c.value,ie.value);return{active:Se,disabled:X,highlighted:be}})),R=(ie,Se,X)=>{X!==void 0?ie.value=X:ie.value=!ie.value,ie.value?r("overlay-opened",Se):r("overlay-closed",Se)},H=(ie=!1,Se)=>{se(ie),R(A,Jn.month,Se)},B=(ie=!1,Se)=>{se(ie),R(D,Jn.year,Se)},se=ie=>{ie||r("reset-flow")},Te=(ie,Se)=>{i.arrowNavigation&&(M.value[Se]=On(ie),b(M.value,"monthYear"))},$e=U(()=>{var ie,Se;return[{type:oi.month,index:1,toggle:H,modelValue:j.value,updateModelValue:X=>j.value=X,text:re.value.text,showSelectionGrid:A.value,items:le.value,ariaLabel:(ie=a.value)==null?void 0:ie.openMonthsOverlay},{type:oi.year,index:2,toggle:B,modelValue:W.value,updateModelValue:X=>W.value=X,text:yE(i.year,i.locale),showSelectionGrid:D.value,items:F.value,ariaLabel:(Se=a.value)==null?void 0:Se.openYearsOverlay}]}),ze=U(()=>i.disableYearSelect?[$e.value[0]]:i.yearFirst?[...$e.value].reverse():$e.value);return e({toggleMonthPicker:H,toggleYearPicker:B,handleMonthYearChange:S}),(ie,Se)=>{var X,be,je,V,ve,Ee;return m(),T("div",ate,[ie.$slots["month-year"]?(m(),T("div",ote,[We(ie.$slots,"month-year",Rn(tr({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:$(x),handleMonthYearChange:$(S),instance:t.instance})))])):(m(),T(we,{key:1},[ie.$slots["top-extra"]?(m(),T("div",lte,[We(ie.$slots,"top-extra",{value:ie.internalModelValue})])):P("",!0),I("div",ute,[$(k)($(o),t.instance)&&!ie.vertical?(m(),oe(Zu,{key:0,"aria-label":(X=$(a))==null?void 0:X.prevMonth,disabled:$(E)(!1),class:Oe((be=$(p))==null?void 0:be.navBtnPrev),onActivate:Se[0]||(Se[0]=ue=>$(S)(!1,!0)),onSetRef:Se[1]||(Se[1]=ue=>Te(ue,0))},{default:Ie(()=>[ie.$slots["arrow-left"]?We(ie.$slots,"arrow-left",{key:0}):P("",!0),ie.$slots["arrow-left"]?P("",!0):(m(),oe($(Hv),{key:1}))]),_:3},8,["aria-label","disabled","class"])):P("",!0),I("div",{class:Oe(["dp__month_year_wrap",{dp__year_disable_select:ie.disableYearSelect}])},[(m(!0),T(we,null,Fe(ze.value,(ue,Ge)=>(m(),T(we,{key:ue.type},[I("button",{ref_for:!0,ref:K=>Te(K,Ge+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ue.ariaLabel,"data-test":`${ue.type}-toggle-overlay-${t.instance}`,onClick:ue.toggle,onKeydown:K=>$(Er)(K,()=>ue.toggle(),!0)},[ie.$slots[ue.type]?We(ie.$slots,ue.type,{key:0,text:ue.text,value:i[ue.type]}):P("",!0),ie.$slots[ue.type]?P("",!0):(m(),T(we,{key:1},[tt(ye(ue.text),1)],64))],40,cte),ae(Ti,{name:$(f)(ue.showSelectionGrid),css:$(y)},{default:Ie(()=>[ue.showSelectionGrid?(m(),oe(Wc,{key:0,items:ue.items,"arrow-navigation":ie.arrowNavigation,"hide-navigation":ie.hideNavigation,"is-last":ie.autoApply&&!$(u).keepActionRow,"skip-button-ref":!1,config:ie.config,type:ue.type,"header-refs":[],"esc-close":ie.escClose,"menu-wrap-ref":ie.menuWrapRef,"text-input":ie.textInput,"aria-labels":ie.ariaLabels,onSelected:ue.updateModelValue,onToggle:ue.toggle},nr({"button-icon":Ie(()=>[ie.$slots["calendar-icon"]?We(ie.$slots,"calendar-icon",{key:0}):P("",!0),ie.$slots["calendar-icon"]?P("",!0):(m(),oe($(Ul),{key:1}))]),_:2},[ie.$slots[`${ue.type}-overlay-value`]?{name:"item",fn:Ie(({item:K})=>[We(ie.$slots,`${ue.type}-overlay-value`,{text:K.text,value:K.value})]),key:"0"}:void 0,ie.$slots[`${ue.type}-overlay`]?{name:"overlay",fn:Ie(()=>[We(ie.$slots,`${ue.type}-overlay`,Xt({ref_for:!0},Y.value(ue.type)))]),key:"1"}:void 0,ie.$slots[`${ue.type}-overlay-header`]?{name:"header",fn:Ie(()=>[We(ie.$slots,`${ue.type}-overlay-header`,{toggle:ue.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):P("",!0)]),_:2},1032,["name","css"])],64))),128))],2),$(k)($(o),t.instance)&&ie.vertical?(m(),oe(Zu,{key:1,"aria-label":(je=$(a))==null?void 0:je.prevMonth,disabled:$(E)(!1),class:Oe((V=$(p))==null?void 0:V.navBtnPrev),onActivate:Se[2]||(Se[2]=ue=>$(S)(!1,!0))},{default:Ie(()=>[ie.$slots["arrow-up"]?We(ie.$slots,"arrow-up",{key:0}):P("",!0),ie.$slots["arrow-up"]?P("",!0):(m(),oe($(Wv),{key:1}))]),_:3},8,["aria-label","disabled","class"])):P("",!0),$(L)($(o),t.instance)?(m(),oe(Zu,{key:2,ref:"rightIcon",disabled:$(E)(!0),"aria-label":(ve=$(a))==null?void 0:ve.nextMonth,class:Oe((Ee=$(p))==null?void 0:Ee.navBtnNext),onActivate:Se[3]||(Se[3]=ue=>$(S)(!0,!0)),onSetRef:Se[4]||(Se[4]=ue=>Te(ue,ie.disableYearSelect?2:3))},{default:Ie(()=>[ie.$slots[ie.vertical?"arrow-down":"arrow-right"]?We(ie.$slots,ie.vertical?"arrow-down":"arrow-right",{key:0}):P("",!0),ie.$slots[ie.vertical?"arrow-down":"arrow-right"]?P("",!0):(m(),oe(Lt(ie.vertical?$(zv):$(Vv)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):P("",!0)])],64))])}}}),hte=["aria-label"],pte={class:"dp__calendar_header",role:"row"},fte={key:0,class:"dp__calendar_header_item",role:"gridcell"},mte=["aria-label"],gte=I("div",{class:"dp__calendar_header_separator"},null,-1),yte=["aria-label"],vte={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},_te={class:"dp__cell_inner"},bte=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Tte=Be({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...wi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=pa(),{defaultedTransitions:a,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d,defaultedUI:p}=pn(i),f=de(null),y=de({bottom:"",left:"",transform:""}),b=de([]),S=de(null),E=de(!0),x=de(""),k=de({startX:0,endX:0,startY:0,endY:0}),L=de([]),A=de({left:"50%"}),D=de(!1),M=U(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),q=U(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):XJ(i.formatLocale,i.locale,+i.weekStart));Ht(()=>{r("mount",{cmp:"calendar",refs:b}),o.value.noSwipe||S.value&&(S.value.addEventListener("touchstart",Te,{passive:!1}),S.value.addEventListener("touchend",$e,{passive:!1}),S.value.addEventListener("touchmove",ze,{passive:!1})),i.monthChangeOnScroll&&S.value&&S.value.addEventListener("wheel",X,{passive:!1})});const j=ue=>ue?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",W=(ue,Ge)=>{if(i.transitions){const K=mr(ls(Ue(),i.month,i.year));x.value=Tn(mr(ls(Ue(),ue,Ge)),K)?a.value[j(!0)]:a.value[j(!1)],E.value=!1,on(()=>{E.value=!0})}},Y=U(()=>({[i.calendarClassName]:!!i.calendarClassName,...p.value.calendar??{}})),re=U(()=>ue=>{const Ge=ZJ(ue);return{dp__marker_dot:Ge.type==="dot",dp__marker_line:Ge.type==="line"}}),le=U(()=>ue=>wt(ue,f.value)),F=U(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),R=U(()=>ue=>i.hideOffsetDates?ue.current:!0),H=async(ue,Ge,K)=>{const O=On(b.value[Ge][K]);if(O){const{width:N,height:Q}=O.getBoundingClientRect();f.value=ue.value;let ee={left:`${N/2}px`},me=-50;if(await on(),L.value[0]){const{left:J,width:fe}=L.value[0].getBoundingClientRect();J<0&&(ee={left:"0"},me=0,A.value.left=`${N/2}px`),window.innerWidth<J+fe&&(ee={right:"0"},me=0,A.value.left=`${fe-N/2}px`)}y.value={bottom:`${Q}px`,...ee,transform:`translateX(${me}%)`},r("tooltip-open",ue.marker)}},B=async(ue,Ge,K)=>{var O,N;if(D.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",ue);r("set-hover-date",ue),(N=(O=ue.marker)==null?void 0:O.tooltip)!=null&&N.length&&await H(ue,Ge,K)},se=ue=>{f.value&&(f.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ue.marker))},Te=ue=>{k.value.startX=ue.changedTouches[0].screenX,k.value.startY=ue.changedTouches[0].screenY},$e=ue=>{k.value.endX=ue.changedTouches[0].screenX,k.value.endY=ue.changedTouches[0].screenY,ie()},ze=ue=>{i.vertical&&!i.inline&&ue.preventDefault()},ie=()=>{const ue=i.vertical?"Y":"X";Math.abs(k.value[`start${ue}`]-k.value[`end${ue}`])>10&&r("handle-swipe",k.value[`start${ue}`]>k.value[`end${ue}`]?"right":"left")},Se=(ue,Ge,K)=>{ue&&(Array.isArray(b.value[Ge])?b.value[Ge][K]=ue:b.value[Ge]=[ue]),i.arrowNavigation&&s(b.value,"calendar")},X=ue=>{i.monthChangeOnScroll&&(ue.preventDefault(),r("handle-scroll",ue))},be=ue=>c.value.type==="local"?Uv(ue.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Bv(ue.value):typeof c.value.type=="function"?c.value.type(ue.value):"",je=ue=>{const Ge=ue[0];return c.value.hideOnOffsetDates?ue.some(K=>K.current)?be(Ge):"":be(Ge)},V=(ue,Ge)=>{d.value.enabled||(Qs(ue,o.value),r("select-date",Ge))},ve=ue=>{Qs(ue,o.value)},Ee=ue=>{d.value.enabled&&d.value.dragSelect?(D.value=!0,r("select-date",ue)):d.value.enabled&&r("select-date",ue)};return e({triggerTransition:W}),(ue,Ge)=>{var K;return m(),T("div",{class:Oe(F.value)},[I("div",{ref_key:"calendarWrapRef",ref:S,role:"grid",class:Oe(Y.value),"aria-label":(K=$(l))==null?void 0:K.calendarWrap},[I("div",pte,[ue.weekNumbers?(m(),T("div",fte,ye(ue.weekNumName),1)):P("",!0),(m(!0),T(we,null,Fe(q.value,(O,N)=>{var Q,ee;return m(),T("div",{key:N,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(ee=(Q=$(l))==null?void 0:Q.weekDay)==null?void 0:ee.call(Q,N)},[ue.$slots["calendar-header"]?We(ue.$slots,"calendar-header",{key:0,day:O,index:N}):P("",!0),ue.$slots["calendar-header"]?P("",!0):(m(),T(we,{key:1},[tt(ye(O),1)],64))],8,mte)}),128))]),gte,ae(Ti,{name:x.value,css:!!ue.transitions},{default:Ie(()=>{var O;return[E.value?(m(),T("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((O=$(l))==null?void 0:O.calendarDays)||void 0,onMouseleave:Ge[1]||(Ge[1]=N=>D.value=!1)},[(m(!0),T(we,null,Fe(M.value,(N,Q)=>(m(),T("div",{key:Q,class:"dp__calendar_row",role:"row"},[ue.weekNumbers?(m(),T("div",vte,[I("div",_te,ye(je(N.days)),1)])):P("",!0),(m(!0),T(we,null,Fe(N.days,(ee,me)=>{var J,fe,he;return m(),T("div",{id:$(xE)(ee.value),ref_for:!0,ref:Le=>Se(Le,Q,me),key:me+Q,role:"gridcell",class:"dp__calendar_item","aria-selected":(ee.classData.dp__active_date||ee.classData.dp__range_start||ee.classData.dp__range_start)??void 0,"aria-disabled":ee.classData.dp__cell_disabled||void 0,"aria-label":(fe=(J=$(l))==null?void 0:J.day)==null?void 0:fe.call(J,ee),tabindex:"0","data-test":ee.value,onClick:Mr(Le=>V(Le,ee),["prevent"]),onKeydown:Le=>$(Er)(Le,()=>ue.$emit("select-date",ee)),onMouseenter:Le=>B(ee,Q,me),onMouseleave:Le=>se(ee),onMousedown:Le=>Ee(ee),onMouseup:Ge[0]||(Ge[0]=Le=>D.value=!1)},[I("div",{class:Oe(["dp__cell_inner",ee.classData])},[ue.$slots.day&&R.value(ee)?We(ue.$slots,"day",{key:0,day:+ee.text,date:ee.value}):P("",!0),ue.$slots.day?P("",!0):(m(),T(we,{key:1},[tt(ye(ee.text),1)],64)),ee.marker&&R.value(ee)?(m(),T(we,{key:2},[ue.$slots.marker?We(ue.$slots,"marker",{key:0,marker:ee.marker,day:+ee.text,date:ee.value}):(m(),T("div",{key:1,class:Oe(re.value(ee.marker)),style:gn(ee.marker.color?{backgroundColor:ee.marker.color}:{})},null,6))],64)):P("",!0),le.value(ee.value)?(m(),T("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:L,class:"dp__marker_tooltip",style:gn(y.value)},[(he=ee.marker)!=null&&he.tooltip?(m(),T("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(m(!0),T(we,null,Fe(ee.marker.tooltip,(Le,Ce)=>(m(),T("div",{key:Ce,class:"dp__tooltip_text"},[ue.$slots["marker-tooltip"]?We(ue.$slots,"marker-tooltip",{key:0,tooltip:Le,day:ee.value}):P("",!0),ue.$slots["marker-tooltip"]?P("",!0):(m(),T(we,{key:1},[I("div",{class:"dp__tooltip_mark",style:gn(Le.color?{backgroundColor:Le.color}:{})},null,4),I("div",null,ye(Le.text),1)],64))]))),128)),I("div",{class:"dp__arrow_bottom_tp",style:gn(A.value)},null,4)])):P("",!0)],4)):P("",!0)],2)],40,bte)}),128))]))),128))],40,yte)):P("",!0)]}),_:3},8,["name","css"])],10,hte)],2)}}}),j2=t=>Array.isArray(t),wte=(t,e,n,r)=>{const i=de([]),s=de(new Date),a=de(),o=()=>$e(t.isTextInputDate),{modelValue:l,calendars:u,time:c,today:d}=Gc(t,e,o),{defaultedMultiCalendars:p,defaultedStartTime:f,defaultedRange:y,defaultedConfig:b,defaultedTz:S,propDates:E,defaultedMultiDates:x}=pn(t),{validateMonthYearInRange:k,isDisabled:L,isDateRangeAllowed:A,checkMinMaxRange:D}=fa(t),{updateTimeValues:M,getSetDateTime:q,setTime:j,assignStartTime:W,validateTime:Y,disabledTimesConfig:re}=DE(t,c,l,r),le=U(()=>pe=>u.value[pe]?u.value[pe].month:0),F=U(()=>pe=>u.value[pe]?u.value[pe].year:0),R=pe=>!b.value.keepViewOnOffsetClick||pe?!0:!a.value,H=(pe,He,ke,qe=!1)=>{var Ke,zn;R(qe)&&(u.value[pe]||(u.value[pe]={month:0,year:0}),u.value[pe].month=R2(He)?(Ke=u.value[pe])==null?void 0:Ke.month:He,u.value[pe].year=R2(ke)?(zn=u.value[pe])==null?void 0:zn.year:ke)},B=()=>{t.autoApply&&e("select-date")};Ht(()=>{t.shadow||(l.value||(Ge(),f.value&&W(f.value)),$e(!0),t.focusStartDate&&t.startDate&&Ge())});const se=U(()=>{var pe;return(pe=t.flow)!=null&&pe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),Te=()=>{t.autoApply&&se.value&&e("auto-apply")},$e=(pe=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,V(pe)):Se(l.value,pe);if(p.value.count&&pe&&!t.startDate)return ie(Ue(),pe)},ze=()=>Array.isArray(l.value)&&y.value.enabled?_t(l.value[0])===_t(l.value[1]??l.value[0]):!1,ie=(pe=new Date,He=!1)=>{if((!p.value.count||!p.value.static||He)&&H(0,_t(pe),dt(pe)),p.value.count&&(!p.value.solo||!l.value||ze()))for(let ke=1;ke<p.value.count;ke++){const qe=qt(Ue(),{month:le.value(ke-1),year:F.value(ke-1)}),Ke=Wx(qe,{months:1});u.value[ke]={month:_t(Ke),year:dt(Ke)}}},Se=(pe,He)=>{ie(pe),j("hours",ps(pe)),j("minutes",ra(pe)),j("seconds",cl(pe)),p.value.count&&He&&ue()},X=pe=>{if(p.value.count){if(p.value.solo)return 0;const He=_t(pe[0]),ke=_t(pe[1]);return Math.abs(ke-He)<p.value.count?0:1}return 1},be=(pe,He)=>{pe[1]&&y.value.showLastInRange?ie(pe[X(pe)],He):ie(pe[0],He);const ke=(qe,Ke)=>[qe(pe[0]),pe[1]?qe(pe[1]):c[Ke][1]];j("hours",ke(ps,"hours")),j("minutes",ke(ra,"minutes")),j("seconds",ke(cl,"seconds"))},je=(pe,He)=>{if((y.value.enabled||t.weekPicker)&&!x.value.enabled)return be(pe,He);if(x.value.enabled&&He){const ke=pe[pe.length-1];return Se(ke,He)}},V=pe=>{const He=l.value;je(He,pe),p.value.count&&p.value.solo&&ue()},ve=(pe,He)=>{const ke=qt(Ue(),{month:le.value(He),year:F.value(He)}),qe=pe<0?pi(ke,1):hl(ke,1);k(_t(qe),dt(qe),pe<0,t.preventMinMaxNavigation)&&(H(He,_t(qe),dt(qe)),e("update-month-year",{instance:He,month:_t(qe),year:dt(qe)}),p.value.count&&!p.value.solo&&Ee(He),n())},Ee=pe=>{for(let He=pe-1;He>=0;He--){const ke=hl(qt(Ue(),{month:le.value(He+1),year:F.value(He+1)}),1);H(He,_t(ke),dt(ke))}for(let He=pe+1;He<=p.value.count-1;He++){const ke=pi(qt(Ue(),{month:le.value(He-1),year:F.value(He-1)}),1);H(He,_t(ke),dt(ke))}},ue=()=>{if(Array.isArray(l.value)&&l.value.length===2){const pe=Ue(Ue(l.value[1]?l.value[1]:pi(l.value[0],1))),[He,ke]=[_t(l.value[0]),dt(l.value[0])],[qe,Ke]=[_t(l.value[1]),dt(l.value[1])];(He!==qe||He===qe&&ke!==Ke)&&p.value.solo&&H(1,_t(pe),dt(pe))}else l.value&&!Array.isArray(l.value)&&(H(0,_t(l.value),dt(l.value)),ie(Ue()))},Ge=()=>{t.startDate&&(H(0,_t(Ue(t.startDate)),dt(Ue(t.startDate))),p.value.count&&Ee(0))},K=(pe,He)=>{if(t.monthChangeOnScroll){const ke=new Date().getTime()-s.value.getTime(),qe=Math.abs(pe.deltaY);let Ke=500;qe>1&&(Ke=100),qe>100&&(Ke=0),ke>Ke&&(s.value=new Date,ve(t.monthChangeOnScroll!=="inverse"?-pe.deltaY:pe.deltaY,He))}},O=(pe,He,ke=!1)=>{t.monthChangeOnArrows&&t.vertical===ke&&N(pe,He)},N=(pe,He)=>{ve(pe==="right"?-1:1,He)},Q=pe=>{if(E.value.markers)return Vh(pe.value,E.value.markers)},ee=(pe,He)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[pe==0,!0];case"fair":return[pe==0||He>pe,!0];case"append":return[!1,!1];default:return[!1,!1]}},me=(pe,He,ke,qe)=>{if(t.sixWeeks&&pe.length<6){const Ke=6-pe.length,zn=(He.getDay()+7-qe)%7,_r=6-(ke.getDay()+7-qe)%7,[Qi,lo]=ee(zn,_r);for(let xs=1;xs<=Ke;xs++)if(lo?!!(xs%2)==Qi:Qi){const Si=pe[0].days[0],Xl=J(ci(Si.value,-7),_t(He));pe.unshift({days:Xl})}else{const Si=pe[pe.length-1],Xl=Si.days[Si.days.length-1],Af=J(ci(Xl.value,1),_t(He));pe.push({days:Af})}}return pe},J=(pe,He)=>{const ke=Ue(pe),qe=[];for(let Ke=0;Ke<7;Ke++){const zn=ci(ke,Ke),_r=_t(zn)!==He;qe.push({text:t.hideOffsetDates&&_r?"":zn.getDate(),value:zn,current:!_r,classData:{}})}return qe},fe=(pe,He)=>{const ke=[],qe=new Date(He,pe),Ke=new Date(He,pe+1,0),zn=t.weekStart,_r=_i(qe,{weekStartsOn:zn}),Qi=lo=>{const xs=J(lo,pe);if(ke.push({days:xs}),!ke[ke.length-1].days.some(Si=>wt(mr(Si.value),mr(Ke)))){const Si=ci(lo,7);Qi(Si)}};return Qi(_r),me(ke,qe,Ke,zn)},he=pe=>{const He=Zs(Ue(pe.value),c.hours,c.minutes,it());e("date-update",He),x.value.enabled?Zv(He,l,x.value.limit):l.value=He,r(),on().then(()=>{Te()})},Le=pe=>y.value.noDisabledRange?bE(i.value[0],pe).some(He=>L(He)):!1,Ce=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(i.value=[])},xe=(pe,He)=>{const ke=[Ue(pe.value),ci(Ue(pe.value),+y.value.autoRange)];A(ke)?(He&&Je(pe.value),i.value=ke):e("invalid-date",pe.value)},Je=pe=>{const He=_t(Ue(pe)),ke=dt(Ue(pe));if(H(0,He,ke),p.value.count>0)for(let qe=1;qe<p.value.count;qe++){const Ke=aee(qt(Ue(pe),{year:le.value(qe-1),month:F.value(qe-1)}));H(qe,Ke.month,Ke.year)}},Qe=pe=>{if(Le(pe.value)||!D(pe.value,l.value,y.value.fixedStart?0:1))return e("invalid-date",pe.value);i.value=LE(Ue(pe.value),l,e,y)},st=(pe,He)=>{if(Ce(),y.value.autoRange)return xe(pe,He);if(y.value.fixedStart||y.value.fixedEnd)return Qe(pe);i.value[0]?D(Ue(pe.value),l.value)&&!Le(pe.value)?fn(Ue(pe.value),Ue(i.value[0]))?(i.value.unshift(Ue(pe.value)),e("range-end",i.value[0])):(i.value[1]=Ue(pe.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",pe.value),e("invalid-date",pe.value)):(i.value[0]=Ue(pe.value),e("range-start",i.value[0]))},it=(pe=!0)=>t.enableSeconds?Array.isArray(c.seconds)?pe?c.seconds[0]:c.seconds[1]:c.seconds:0,xt=pe=>{i.value[pe]=Zs(i.value[pe],c.hours[pe],c.minutes[pe],it(pe!==1))},vt=()=>{var pe,He;i.value[0]&&i.value[1]&&+((pe=i.value)==null?void 0:pe[0])>+((He=i.value)==null?void 0:He[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},zt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?xt(0):(xt(0),xt(1),r()),vt(),l.value=i.value.slice(),Xp(i.value,e,t.autoApply,t.modelAuto))},Un=(pe,He=!1)=>{if(L(pe.value)||!pe.current&&t.hideOffsetDates)return e("invalid-date",pe.value);if(a.value=JSON.parse(JSON.stringify(pe)),!y.value.enabled)return he(pe);j2(c.hours)&&j2(c.minutes)&&!x.value.enabled&&(st(pe,He),zt())},bt=(pe,He)=>{var ke;H(pe,He.month,He.year,!0),p.value.count&&!p.value.solo&&Ee(pe),e("update-month-year",{instance:pe,month:He.month,year:He.year}),n(p.value.solo?pe:void 0);const qe=(ke=t.flow)!=null&&ke.length?t.flow[t.flowStep]:void 0;!He.fromNav&&(qe===Jn.month||qe===Jn.year)&&r()},ks=(pe,He)=>{AE({value:pe,modelValue:l,range:y.value.enabled,timezone:He?void 0:S.value.timezone}),B(),t.multiCalendars&&on().then(()=>$e(!0))},vr=()=>{const pe=Gv(Ue(),S.value);y.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fn(pe,l.value[0])?[pe,l.value[0]]:[l.value[0],pe]:l.value=[pe]:l.value=pe,B()},Ss=()=>{if(Array.isArray(l.value))if(x.value.enabled){const pe=In();l.value[l.value.length-1]=q(pe)}else l.value=l.value.map((pe,He)=>pe&&q(pe,He));else l.value=q(l.value);e("time-update")},In=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:le,year:F,time:c,disabledTimesConfig:re,today:d,validateTime:Y,getCalendarDays:fe,getMarker:Q,handleScroll:K,handleSwipe:N,handleArrow:O,selectDate:Un,updateMonthYear:bt,presetDate:ks,selectCurrentDate:vr,updateTime:(pe,He=!0,ke=!1)=>{M(pe,He,ke,Ss)},assignMonthAndYear:ie}},kte={key:0},Ste=Be({__name:"DatePicker",props:{...wi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:a,year:o,modelValue:l,time:u,disabledTimesConfig:c,today:d,validateTime:p,getCalendarDays:f,getMarker:y,handleArrow:b,handleScroll:S,handleSwipe:E,selectDate:x,updateMonthYear:k,presetDate:L,selectCurrentDate:A,updateTime:D,assignMonthAndYear:M}=wte(i,r,ze,ie),q=to(),{setHoverDate:j,getDayClassData:W,clearHoverDate:Y}=jte(l,i),{defaultedMultiCalendars:re}=pn(i),le=de([]),F=de([]),R=de(null),H=$r(q,"calendar"),B=$r(q,"monthYear"),se=$r(q,"timePicker"),Te=K=>{i.shadow||r("mount",K)};St(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),St(re,(K,O)=>{K.count-O.count>0&&M()},{deep:!0});const $e=U(()=>K=>f(a.value(K),o.value(K)).map(O=>({...O,days:O.days.map(N=>(N.marker=y(N),N.classData=W(N),N))})));function ze(K){var O;K||K===0?(O=F.value[K])==null||O.triggerTransition(a.value(K),o.value(K)):F.value.forEach((N,Q)=>N.triggerTransition(a.value(Q),o.value(Q)))}function ie(){r("update-flow-step")}const Se=(K,O=!1)=>{x(K,O),i.spaceConfirm&&r("select-date")},X=(K,O,N=0)=>{var Q;(Q=le.value[N])==null||Q.toggleMonthPicker(K,O)},be=(K,O,N=0)=>{var Q;(Q=le.value[N])==null||Q.toggleYearPicker(K,O)},je=(K,O,N)=>{var Q;(Q=R.value)==null||Q.toggleTimePicker(K,O,N)},V=(K,O)=>{var N;if(!i.range){const Q=l.value?l.value:d,ee=O?new Date(O):Q,me=K?_i(ee,{weekStartsOn:1}):Jx(ee,{weekStartsOn:1});x({value:me,current:_t(ee)===a.value(0),text:"",classData:{}}),(N=document.getElementById(xE(me)))==null||N.focus()}},ve=K=>{var O;(O=le.value[0])==null||O.handleMonthYearChange(K,!0)},Ee=K=>{k(0,{month:a.value(0),year:o.value(0)+(K?1:-1),fromNav:!0})},ue=(K,O)=>{K===Jn.time&&r(`time-picker-${O?"open":"close"}`),r("overlay-toggle",{open:O,overlay:K})},Ge=K=>{r("overlay-toggle",{open:!1,overlay:K}),r("focus-menu")};return e({clearHoverDate:Y,presetDate:L,selectCurrentDate:A,toggleMonthPicker:X,toggleYearPicker:be,toggleTimePicker:je,handleArrow:b,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:a,year:o,time:u,updateTime:D,updateMonthYear:k,selectDate:x,presetDate:L}),changeMonth:ve,changeYear:Ee,selectWeekDate:V}),(K,O)=>(m(),T(we,null,[ae(Kp,{"multi-calendars":$(re).count,collapse:K.collapse},{default:Ie(({instance:N,index:Q})=>[K.disableMonthYearSelect?P("",!0):(m(),oe(dte,Xt({key:0,ref:ee=>{ee&&(le.value[Q]=ee)},months:$(fE)(K.formatLocale,K.locale,K.monthNameFormat),years:$(Yv)(K.yearRange,K.locale,K.reverseYears),month:$(a)(N),year:$(o)(N),instance:N},K.$props,{onMount:O[0]||(O[0]=ee=>Te($($a).header)),onResetFlow:O[1]||(O[1]=ee=>K.$emit("reset-flow")),onUpdateMonthYear:ee=>$(k)(N,ee),onOverlayClosed:Ge,onOverlayOpened:O[2]||(O[2]=ee=>K.$emit("overlay-toggle",{open:!0,overlay:ee}))}),nr({_:2},[Fe($(B),(ee,me)=>({name:ee,fn:Ie(J=>[We(K.$slots,ee,Rn(tr(J)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),ae(Tte,Xt({ref:ee=>{ee&&(F.value[Q]=ee)},"mapped-dates":$e.value(N),month:$(a)(N),year:$(o)(N),instance:N},K.$props,{onSelectDate:ee=>$(x)(ee,N!==1),onHandleSpace:ee=>Se(ee,N!==1),onSetHoverDate:O[3]||(O[3]=ee=>$(j)(ee)),onHandleScroll:ee=>$(S)(ee,N),onHandleSwipe:ee=>$(E)(ee,N),onMount:O[4]||(O[4]=ee=>Te($($a).calendar)),onResetFlow:O[5]||(O[5]=ee=>K.$emit("reset-flow")),onTooltipOpen:O[6]||(O[6]=ee=>K.$emit("tooltip-open",ee)),onTooltipClose:O[7]||(O[7]=ee=>K.$emit("tooltip-close",ee))}),nr({_:2},[Fe($(H),(ee,me)=>({name:ee,fn:Ie(J=>[We(K.$slots,ee,Rn(tr({...J})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),K.enableTimePicker?(m(),T("div",kte,[K.$slots["time-picker"]?We(K.$slots,"time-picker",Rn(Xt({key:0},{time:$(u),updateTime:$(D)}))):(m(),oe(ME,Xt({key:1,ref_key:"timePickerRef",ref:R},K.$props,{hours:$(u).hours,minutes:$(u).minutes,seconds:$(u).seconds,"internal-model-value":K.internalModelValue,"disabled-times-config":$(c),"validate-time":$(p),onMount:O[8]||(O[8]=N=>Te($($a).timePicker)),"onUpdate:hours":O[9]||(O[9]=N=>$(D)(N)),"onUpdate:minutes":O[10]||(O[10]=N=>$(D)(N,!1)),"onUpdate:seconds":O[11]||(O[11]=N=>$(D)(N,!1,!0)),onResetFlow:O[12]||(O[12]=N=>K.$emit("reset-flow")),onOverlayClosed:O[13]||(O[13]=N=>ue(N,!1)),onOverlayOpened:O[14]||(O[14]=N=>ue(N,!0)),onAmPmChange:O[15]||(O[15]=N=>K.$emit("am-pm-change",N))}),nr({_:2},[Fe($(se),(N,Q)=>({name:N,fn:Ie(ee=>[We(K.$slots,N,Rn(tr(ee)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):P("",!0)],64))}}),xte=(t,e)=>{const n=de(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:a,propDates:o,defaultedFilters:l,defaultedMultiDates:u}=pn(t),{modelValue:c,year:d,month:p,calendars:f}=Gc(t,e),{isDisabled:y}=fa(t),{selectYear:b,groupedYears:S,showYearPicker:E,isDisabled:x,toggleYearPicker:k,handleYearSelect:L,handleYear:A}=IE({modelValue:c,multiCalendars:r,range:a,highlight:s,calendars:f,propDates:o,month:p,year:d,filters:l,props:t,emit:e}),D=(R,H)=>[R,H].map(B=>Bi(B,"MMMM",{locale:t.formatLocale})).join("-"),M=U(()=>R=>c.value?Array.isArray(c.value)?c.value.some(H=>D2(R,H)):D2(c.value,R):!1),q=R=>{if(a.value.enabled){if(Array.isArray(c.value)){const H=wt(R,c.value[0])||wt(R,c.value[1]);return Gp(c.value,n.value,R)&&!H}return!1}return!1},j=(R,H)=>R.quarter===E2(H)&&R.year===dt(H),W=R=>typeof s.value=="function"?s.value({quarter:E2(R),year:dt(R)}):!!s.value.quarters.find(H=>j(H,R)),Y=U(()=>R=>{const H=qt(new Date,{year:d.value(R)});return QQ({start:_c(H),end:Zx(H)}).map(B=>{const se=zo(B),Te=C2(B),$e=y(B),ze=q(se),ie=W(se);return{text:D(se,Te),value:se,active:M.value(se),highlighted:ie,disabled:$e,isBetween:ze}})}),re=R=>{Zv(R,c,u.value.limit),e("auto-apply",!0)},le=R=>{c.value=Jv(c,R,e),Xp(c.value,e,t.autoApply,t.modelAuto)},F=R=>{c.value=R,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:S,year:d,isDisabled:x,quarters:Y,showYearPicker:E,modelValue:c,setHoverDate:R=>{n.value=R},selectYear:b,selectQuarter:(R,H,B)=>{if(!B)return f.value[H].month=_t(C2(R)),u.value.enabled?re(R):a.value.enabled?le(R):F(R)},toggleYearPicker:k,handleYearSelect:L,handleYear:A}},Ete={class:"dp--quarter-items"},Cte=["data-test","disabled","onClick","onMouseover"],Ate=Be({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...wi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=to(),a=$r(s,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:p,modelValue:f,showYearPicker:y,setHoverDate:b,selectQuarter:S,toggleYearPicker:E,handleYearSelect:x,handleYear:k}=xte(i,r);return e({getSidebarProps:()=>({modelValue:f,year:c,selectQuarter:S,handleYearSelect:x,handleYear:k})}),(L,A)=>(m(),oe(Kp,{"multi-calendars":$(o).count,collapse:L.collapse,stretch:""},{default:Ie(({instance:D})=>[I("div",{class:"dp-quarter-picker-wrap",style:gn({minHeight:`${$(l).modeHeight}px`})},[L.$slots["top-extra"]?We(L.$slots,"top-extra",{key:0,value:L.internalModelValue}):P("",!0),I("div",null,[ae(CE,Xt(L.$props,{items:$(u)(D),instance:D,"show-year-picker":$(y)[D],year:$(c)(D),"is-disabled":M=>$(d)(D,M),onHandleYear:M=>$(k)(D,M),onYearSelect:M=>$(x)(M,D),onToggleYearPicker:M=>$(E)(D,M==null?void 0:M.flow,M==null?void 0:M.show)}),nr({_:2},[Fe($(a),(M,q)=>({name:M,fn:Ie(j=>[We(L.$slots,M,Rn(tr(j)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),I("div",Ete,[(m(!0),T(we,null,Fe($(p)(D),(M,q)=>(m(),T("div",{key:q},[I("button",{type:"button",class:Oe(["dp--qr-btn",{"dp--qr-btn-active":M.active,"dp--qr-btn-between":M.isBetween,"dp--qr-btn-disabled":M.disabled,"dp--highlighted":M.highlighted}]),"data-test":M.value,disabled:M.disabled,onClick:j=>$(S)(M.value,D,M.disabled),onMouseover:j=>$(b)(M.value)},[L.$slots.quarter?We(L.$slots,"quarter",{key:0,value:M.value,text:M.text}):(m(),T(we,{key:1},[tt(ye(M.text),1)],64))],42,Cte)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Lte=["id","aria-label"],Ite={key:0,class:"dp--menu-load-container"},Mte=I("span",{class:"dp--menu-loader"},null,-1),Dte=[Mte],Pte={key:0,class:"dp__sidebar_left"},Ote=["data-test","onClick","onKeydown"],Rte={key:2,class:"dp__sidebar_right"},Nte={key:3,class:"dp__action_extra"},$2=Be({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Yp,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=de(null),a=U(()=>{const{openOnTop:J,...fe}=i;return{...fe,flowStep:j.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:o,setShiftKey:l,control:u}=EE(),c=to(),{defaultedTextInput:d,defaultedInline:p,defaultedConfig:f,defaultedUI:y}=pn(i),b=de(null),S=de(0),E=de(null),x=de(!1),k=de(null);Ht(()=>{if(!i.shadow){x.value=!0,L(),window.addEventListener("resize",L);const J=On(s);if(J&&!d.value.enabled&&!p.value.enabled&&(o(!0),H()),J){const fe=he=>{f.value.allowPreventDefault&&he.preventDefault(),Qs(he,f.value,!0)};J.addEventListener("pointerdown",fe),J.addEventListener("mousedown",fe)}}}),ua(()=>{window.removeEventListener("resize",L)});const L=()=>{const J=On(E);J&&(S.value=J.getBoundingClientRect().width)},{arrowRight:A,arrowLeft:D,arrowDown:M,arrowUp:q}=pa(),{flowStep:j,updateFlowStep:W,childMount:Y,resetFlow:re,handleFlow:le}=$te(i,r,k),F=U(()=>i.monthPicker?jee:i.yearPicker?Hee:i.timePicker?ste:i.quarterPicker?Ate:Ste),R=U(()=>{var J;if(f.value.arrowLeft)return f.value.arrowLeft;const fe=(J=s.value)==null?void 0:J.getBoundingClientRect(),he=i.getInputRect();return(he==null?void 0:he.width)<(S==null?void 0:S.value)&&(he==null?void 0:he.left)<=((fe==null?void 0:fe.left)??0)?`${(he==null?void 0:he.width)/2}px`:(he==null?void 0:he.right)>=((fe==null?void 0:fe.right)??0)&&(he==null?void 0:he.width)<(S==null?void 0:S.value)?`${(S==null?void 0:S.value)-(he==null?void 0:he.width)/2}px`:"50%"}),H=()=>{const J=On(s);J&&J.focus({preventScroll:!0})},B=U(()=>{var J;return((J=k.value)==null?void 0:J.getSidebarProps())||{}}),se=()=>{i.openOnTop&&r("recalculate-position")},Te=$r(c,"action"),$e=U(()=>i.monthPicker||i.yearPicker?$r(c,"monthYear"):i.timePicker?$r(c,"timePicker"):$r(c,"shared")),ze=U(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ie=U(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),Se=U(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,[i.menuClassName]:!!i.menuClassName,...y.value.menu??{}})),X=J=>{Qs(J,f.value,!0)},be=()=>{i.escClose&&r("close-picker")},je=J=>{if(i.arrowNavigation){if(J===ur.up)return q();if(J===ur.down)return M();if(J===ur.left)return D();if(J===ur.right)return A()}else J===ur.left||J===ur.up?Ge("handleArrow",ur.left,0,J===ur.up):Ge("handleArrow",ur.right,0,J===ur.down)},V=J=>{l(J.shiftKey),!i.disableMonthYearSelect&&J.code===ln.tab&&J.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(J.preventDefault(),Qs(J,f.value,!0),r("close-picker"))},ve=()=>{H(),r("time-picker-close")},Ee=J=>{var fe,he,Le;(fe=k.value)==null||fe.toggleTimePicker(!1,!1),(he=k.value)==null||he.toggleMonthPicker(!1,!1,J),(Le=k.value)==null||Le.toggleYearPicker(!1,!1,J)},ue=(J,fe=0)=>{var he,Le,Ce;return J==="month"?(he=k.value)==null?void 0:he.toggleMonthPicker(!1,!0,fe):J==="year"?(Le=k.value)==null?void 0:Le.toggleYearPicker(!1,!0,fe):J==="time"?(Ce=k.value)==null?void 0:Ce.toggleTimePicker(!0,!1):Ee(fe)},Ge=(J,...fe)=>{var he,Le;(he=k.value)!=null&&he[J]&&((Le=k.value)==null||Le[J](...fe))},K=()=>{Ge("selectCurrentDate")},O=(J,fe)=>{Ge("presetDate",J,fe)},N=()=>{Ge("clearHoverDate")},Q=(J,fe)=>{Ge("updateMonthYear",J,fe)},ee=(J,fe)=>{J.preventDefault(),je(fe)},me=J=>{var fe;if(V(J),J.key===ln.home||J.key===ln.end)return Ge("selectWeekDate",J.key===ln.home,J.target.getAttribute("id"));switch((J.key===ln.pageUp||J.key===ln.pageDown)&&(J.shiftKey?Ge("changeYear",J.key===ln.pageUp):Ge("changeMonth",J.key===ln.pageUp),J.target.getAttribute("id")&&((fe=s.value)==null||fe.focus({preventScroll:!0}))),J.key){case ln.esc:return be();case ln.arrowLeft:return ee(J,ur.left);case ln.arrowRight:return ee(J,ur.right);case ln.arrowUp:return ee(J,ur.up);case ln.arrowDown:return ee(J,ur.down);default:return}};return e({updateMonthYear:Q,switchView:ue,handleFlow:le}),(J,fe)=>{var he,Le,Ce;return m(),T("div",{id:J.uid?`dp-menu-${J.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(he=J.ariaLabels)==null?void 0:he.menu,class:Oe(Se.value),style:gn({"--dp-arrow-left":R.value}),onMouseleave:N,onClick:X,onKeydown:me},[(J.disabled||J.readonly)&&$(p).enabled||J.loading?(m(),T("div",{key:0,class:Oe(ie.value)},[J.loading?(m(),T("div",Ite,Dte)):P("",!0)],2)):P("",!0),!$(p).enabled&&!J.teleportCenter?(m(),T("div",{key:1,class:Oe(ze.value)},null,2)):P("",!0),I("div",{ref_key:"innerMenuRef",ref:E,class:Oe({dp__menu_content_wrapper:((Le=J.presetDates)==null?void 0:Le.length)||!!J.$slots["left-sidebar"]||!!J.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Ce=J.presetDates)==null?void 0:Ce.length)||!!J.$slots["left-sidebar"]||!!J.$slots["right-sidebar"])}),style:gn({"--dp-menu-width":`${S.value}px`})},[J.$slots["left-sidebar"]?(m(),T("div",Pte,[We(J.$slots,"left-sidebar",Rn(tr(B.value)))])):P("",!0),J.presetDates.length?(m(),T("div",{key:1,class:Oe({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(m(!0),T(we,null,Fe(J.presetDates,(xe,Je)=>(m(),T(we,{key:Je},[xe.slot?We(J.$slots,xe.slot,{key:0,presetDate:O,label:xe.label,value:xe.value}):(m(),T("button",{key:1,type:"button",style:gn(xe.style||{}),class:Oe(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":xe.testId??void 0,onClick:Mr(Qe=>O(xe.value,xe.noTz),["prevent"]),onKeydown:Qe=>$(Er)(Qe,()=>O(xe.value,xe.noTz),!0)},ye(xe.label),47,Ote))],64))),128))],2)):P("",!0),I("div",{ref_key:"calendarWrapperRef",ref:b,class:"dp__instance_calendar",role:"document"},[(m(),oe(Lt(F.value),Xt({ref_key:"dynCmpRef",ref:k},a.value,{"flow-step":$(j),onMount:$(Y),onUpdateFlowStep:$(W),onResetFlow:$(re),onFocusMenu:H,onSelectDate:fe[0]||(fe[0]=xe=>J.$emit("select-date")),onDateUpdate:fe[1]||(fe[1]=xe=>J.$emit("date-update",xe)),onTooltipOpen:fe[2]||(fe[2]=xe=>J.$emit("tooltip-open",xe)),onTooltipClose:fe[3]||(fe[3]=xe=>J.$emit("tooltip-close",xe)),onAutoApply:fe[4]||(fe[4]=xe=>J.$emit("auto-apply",xe)),onRangeStart:fe[5]||(fe[5]=xe=>J.$emit("range-start",xe)),onRangeEnd:fe[6]||(fe[6]=xe=>J.$emit("range-end",xe)),onInvalidFixedRange:fe[7]||(fe[7]=xe=>J.$emit("invalid-fixed-range",xe)),onTimeUpdate:fe[8]||(fe[8]=xe=>J.$emit("time-update")),onAmPmChange:fe[9]||(fe[9]=xe=>J.$emit("am-pm-change",xe)),onTimePickerOpen:fe[10]||(fe[10]=xe=>J.$emit("time-picker-open",xe)),onTimePickerClose:ve,onRecalculatePosition:se,onUpdateMonthYear:fe[11]||(fe[11]=xe=>J.$emit("update-month-year",xe)),onAutoApplyInvalid:fe[12]||(fe[12]=xe=>J.$emit("auto-apply-invalid",xe)),onInvalidDate:fe[13]||(fe[13]=xe=>J.$emit("invalid-date",xe)),onOverlayToggle:fe[14]||(fe[14]=xe=>J.$emit("overlay-toggle",xe)),"onUpdate:internalModelValue":fe[15]||(fe[15]=xe=>J.$emit("update:internal-model-value",xe))}),nr({_:2},[Fe($e.value,(xe,Je)=>({name:xe,fn:Ie(Qe=>[We(J.$slots,xe,Rn(tr({...Qe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),J.$slots["right-sidebar"]?(m(),T("div",Rte,[We(J.$slots,"right-sidebar",Rn(tr(B.value)))])):P("",!0),J.$slots["action-extra"]?(m(),T("div",Nte,[J.$slots["action-extra"]?We(J.$slots,"action-extra",{key:0,selectCurrentDate:K}):P("",!0)])):P("",!0)],6),!J.autoApply||$(f).keepActionRow?(m(),oe(Dee,Xt({key:2,"menu-mount":x.value},a.value,{"calendar-width":S.value,onClosePicker:fe[16]||(fe[16]=xe=>J.$emit("close-picker")),onSelectDate:fe[17]||(fe[17]=xe=>J.$emit("select-date")),onInvalidSelect:fe[18]||(fe[18]=xe=>J.$emit("invalid-select")),onSelectNow:K}),nr({_:2},[Fe($(Te),(xe,Je)=>({name:xe,fn:Ie(Qe=>[We(J.$slots,xe,Rn(tr({...Qe})))])}))]),1040,["menu-mount","calendar-width"])):P("",!0)],46,Lte)}}});var Ao=(t=>(t.center="center",t.left="left",t.right="right",t))(Ao||{});const Bte=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:a,slots:o})=>{const l=de({}),u=de(!1),c=de({top:"0",left:"0"}),d=de(!1),p=Vi(a,"teleportCenter");St(p,()=>{c.value=JSON.parse(JSON.stringify({})),L()});const f=R=>{if(a.teleport){const H=R.getBoundingClientRect();return{left:H.left+window.scrollX,top:H.top+window.scrollY}}return{top:0,left:0}},y=(R,H)=>{c.value.left=`${R+H-l.value.width}px`},b=R=>{c.value.left=`${R}px`},S=(R,H)=>{a.position===Ao.left&&b(R),a.position===Ao.right&&y(R,H),a.position===Ao.center&&(c.value.left=`${R+H/2-l.value.width/2}px`)},E=R=>{const{width:H,height:B}=R.getBoundingClientRect(),{top:se,left:Te}=a.altPosition?a.altPosition(R):f(R);return{top:+se,left:+Te,width:H,height:B}},x=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},k=()=>{const R=On(n),{top:H,left:B,transform:se}=a.altPosition(R);c.value={top:`${H}px`,left:`${B}px`,transform:se??""}},L=(R=!0)=>{var H;if(!i.value.enabled){if(p.value)return x();if(a.altPosition!==null)return k();if(R){const B=a.teleport?(H=e.value)==null?void 0:H.$el:t.value;B&&(l.value=B.getBoundingClientRect()),s("recalculate-position")}return Y()}},A=({inputEl:R,left:H,width:B})=>{window.screen.width>768&&!u.value&&S(H,B),q(R)},D=R=>{const{top:H,left:B,height:se,width:Te}=E(R);c.value.top=`${se+H+ +a.offset}px`,d.value=!1,u.value||(c.value.left=`${B+Te/2-l.value.width/2}px`),A({inputEl:R,left:B,width:Te})},M=R=>{const{top:H,left:B,width:se}=E(R);c.value.top=`${H-+a.offset-l.value.height}px`,d.value=!0,A({inputEl:R,left:B,width:se})},q=R=>{if(a.autoPosition){const{left:H,width:B}=E(R),{left:se,right:Te}=l.value;if(!u.value){if(Math.abs(se)!==Math.abs(Te)){if(se<=0)return u.value=!0,b(H);if(Te>=document.documentElement.clientWidth)return u.value=!0,y(H,B)}return S(H,B)}}},j=()=>{const R=On(n);if(R){const{height:H}=l.value,{top:B,height:se}=R.getBoundingClientRect(),Te=window.innerHeight-B-se,$e=B;return H<=Te?Ia.bottom:H>Te&&H<=$e?Ia.top:Te>=$e?Ia.bottom:Ia.top}return Ia.bottom},W=R=>j()===Ia.bottom?D(R):M(R),Y=()=>{const R=On(n);if(R)return a.autoPosition?W(R):D(R)},re=function(R){if(R){const H=R.scrollHeight>R.clientHeight,B=window.getComputedStyle(R).overflowY.indexOf("hidden")!==-1;return H&&!B}return!0},le=function(R){return!R||R===document.body||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:re(R)?R:le(R.assignedSlot?R.assignedSlot.parentNode:R.parentNode)},F=R=>{if(R)switch(a.position){case Ao.left:return{left:0,transform:"translateX(0)"};case Ao.right:return{left:`${R.width}px`,transform:"translateX(-100%)"};default:return{left:`${R.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:L,getScrollableParent:le,shadowRender:(R,H)=>{var B,se,Te;const $e=document.createElement("div"),ze=(B=On(n))==null?void 0:B.getBoundingClientRect();$e.setAttribute("id","dp--temp-container");const ie=(se=r.value)!=null&&se.clientWidth?r.value:document.body;ie.append($e);const Se=F(ze),X=sn(R,{...H,shadow:!0,style:{opacity:0,position:"absolute",...Se}},Object.fromEntries(Object.keys(o).filter(be=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(be)).map(be=>[be,o[be]])));eT(X,$e),l.value=(Te=X.el)==null?void 0:Te.getBoundingClientRect(),eT(null,$e),ie.removeChild($e)}}},Ps=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],Fte=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ute={all:()=>Ps,monthYear:()=>Ps.filter(t=>t.use.includes("month-year")),input:()=>Fte,timePicker:()=>Ps.filter(t=>t.use.includes("time")),action:()=>Ps.filter(t=>t.use.includes("action")),calendar:()=>Ps.filter(t=>t.use.includes("calendar")),menu:()=>Ps.filter(t=>t.use.includes("menu")),shared:()=>Ps.filter(t=>t.use.includes("shared")),yearMode:()=>Ps.filter(t=>t.use.includes("year-mode"))},$r=(t,e,n)=>{const r=[];return Ute[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},zc=t=>{const e=U(()=>r=>t.value?r?t.value.open:t.value.close:""),n=U(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Gc=(t,e,n)=>{const{defaultedRange:r,defaultedTz:i}=pn(t),s=Ue(Ar(Ue(),i.value.timezone)),a=de([{month:_t(s),year:dt(s)}]),o=p=>{const f={hours:ps(s),minutes:ra(s),seconds:0};return r.value.enabled?[f[p],f[p]]:f[p]},l=xn({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});St(r,(p,f)=>{p.enabled!==f.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const u=U({get:()=>t.internalModelValue,set:p=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",p)}}),c=U(()=>p=>a.value[p]?a.value[p].month:0),d=U(()=>p=>a.value[p]?a.value[p].year:0);return St(u,(p,f)=>{n&&JSON.stringify(p??{})!==JSON.stringify(f??{})&&n()},{deep:!0}),{calendars:a,time:l,modelValue:u,month:c,year:d,today:s}},jte=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedUI:i,defaultedHighlight:s,defaultedTz:a,propDates:o,defaultedRange:l}=pn(e),{isDisabled:u}=fa(e),c=de(null),d=de(Ar(new Date,a.value.timezone)),p=X=>{!X.current&&e.hideOffsetDates||(c.value=X.value)},f=()=>{c.value=null},y=X=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&c.value?X?Tn(c.value,t.value[0]):fn(c.value,t.value[0]):!0,b=(X,be)=>{const je=()=>t.value?be?t.value[0]||null:t.value[1]:null,V=t.value&&Array.isArray(t.value)?je():null;return wt(Ue(X.value),V)},S=X=>{const be=Array.isArray(t.value)?t.value[0]:null;return X?!fn(c.value??null,be):!0},E=(X,be=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!X.current?!1:wt(Ue(X.value),t.value[be?0:1]):l.value.enabled?b(X,be)&&S(be)||wt(X.value,Array.isArray(t.value)?t.value[0]:null)&&y(be):!1,x=(X,be)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const je=wt(X.value,c.value);return be?Tn(t.value[0],X.value)&&je:fn(t.value[0],X.value)&&je}return!1},k=X=>!t.value||e.hideOffsetDates&&!X.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?wt(X.value,t.value[0]?t.value[0]:d.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(be=>wt(be,X.value)):wt(X.value,t.value?t.value:d.value),L=X=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!X.current)return!1;const be=ci(c.value,+l.value.autoRange),je=rs(Ue(c.value),e.weekStart);return e.weekPicker?wt(je[1],Ue(X.value)):wt(be,Ue(X.value))}return!1}return!1},A=X=>{if(l.value.autoRange||e.weekPicker){if(c.value){const be=ci(c.value,+l.value.autoRange);if(e.hideOffsetDates&&!X.current)return!1;const je=rs(Ue(c.value),e.weekStart);return e.weekPicker?Tn(X.value,je[0])&&fn(X.value,je[1]):Tn(X.value,c.value)&&fn(X.value,be)}return!1}return!1},D=X=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!X.current)return!1;const be=rs(Ue(c.value),e.weekStart);return e.weekPicker?wt(be[0],X.value):wt(c.value,X.value)}return!1}return!1},M=X=>Gp(t.value,c.value,X.value),q=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,j=()=>e.modelAuto?mE(e.internalModelValue):!0,W=X=>{if(e.weekPicker)return!1;const be=l.value.enabled?!E(X)&&!E(X,!1):!0;return!u(X.value)&&!k(X)&&!(!X.current&&e.hideOffsetDates)&&be},Y=X=>l.value.enabled?e.modelAuto?q()&&k(X):!1:k(X),re=X=>s.value?ree(X.value,o.value.highlight):!1,le=X=>{const be=u(X.value);return be&&(typeof s.value=="function"?!s.value(X.value,be):!s.value.options.highlightDisabled)},F=X=>{var be;return typeof s.value=="function"?s.value(X.value):(be=s.value.weekdays)==null?void 0:be.includes(X.value.getDay())},R=X=>(l.value.enabled||e.weekPicker)&&(!(n.value.count>0)||X.current)&&j()&&!(!X.current&&e.hideOffsetDates)&&!k(X)?M(X):!1,H=X=>{const{isRangeStart:be,isRangeEnd:je}=$e(X),V=l.value.enabled?be||je:!1;return{dp__cell_offset:!X.current,dp__pointer:!e.disabled&&!(!X.current&&e.hideOffsetDates)&&!u(X.value),dp__cell_disabled:u(X.value),dp__cell_highlight:!le(X)&&(re(X)||F(X))&&!Y(X)&&!V&&!D(X)&&!(R(X)&&e.weekPicker)&&!je,dp__cell_highlight_active:!le(X)&&(re(X)||F(X))&&Y(X),dp__today:!e.noToday&&wt(X.value,d.value)&&X.current,"dp--past":fn(X.value,d.value),"dp--future":Tn(X.value,d.value)}},B=X=>({dp__active_date:Y(X),dp__date_hover:W(X)}),se=X=>{if(t.value&&!Array.isArray(t.value)){const be=rs(t.value,e.weekStart);return{...ie(X),dp__range_start:wt(be[0],X.value),dp__range_end:wt(be[1],X.value),dp__range_between_week:Tn(X.value,be[0])&&fn(X.value,be[1])}}return{...ie(X)}},Te=X=>{if(t.value&&Array.isArray(t.value)){const be=rs(t.value[0],e.weekStart),je=t.value[1]?rs(t.value[1],e.weekStart):[];return{...ie(X),dp__range_start:wt(be[0],X.value)||wt(je[0],X.value),dp__range_end:wt(be[1],X.value)||wt(je[1],X.value),dp__range_between_week:Tn(X.value,be[0])&&fn(X.value,be[1])||Tn(X.value,je[0])&&fn(X.value,je[1]),dp__range_between:Tn(X.value,be[1])&&fn(X.value,je[0])}}return{...ie(X)}},$e=X=>{const be=n.value.count>0?X.current&&E(X)&&j():E(X)&&j(),je=n.value.count>0?X.current&&E(X,!1)&&j():E(X,!1)&&j();return{isRangeStart:be,isRangeEnd:je}},ze=X=>{const{isRangeStart:be,isRangeEnd:je}=$e(X);return{dp__range_start:be,dp__range_end:je,dp__range_between:R(X),dp__date_hover:wt(X.value,c.value)&&!be&&!je&&!e.weekPicker,dp__date_hover_start:x(X,!0),dp__date_hover_end:x(X,!1)}},ie=X=>({...ze(X),dp__cell_auto_range:A(X),dp__cell_auto_range_start:D(X),dp__cell_auto_range_end:L(X)}),Se=X=>l.value.enabled?l.value.autoRange?ie(X):e.modelAuto?{...B(X),...ze(X)}:e.weekPicker?Te(X):ze(X):e.weekPicker?se(X):B(X);return{setHoverDate:p,clearHoverDate:f,getDayClassData:X=>e.hideOffsetDates&&!X.current?{}:{...H(X),...Se(X),[e.dayClass?e.dayClass(X.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName,...i.value.calendarCell??{}}}},fa=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=pn(t),s=F=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Ue(F)):!!Vh(F,r.value.disabledDates):!1,a=F=>r.value.maxDate?t.yearPicker?dt(F)>dt(r.value.maxDate):Tn(F,r.value.maxDate):!1,o=F=>r.value.minDate?t.yearPicker?dt(F)<dt(r.value.minDate):fn(F,r.value.minDate):!1,l=F=>{const R=a(F),H=o(F),B=s(F),se=e.value.months.map(Se=>+Se).includes(_t(F)),Te=t.disabledWeekDays.length?t.disabledWeekDays.some(Se=>+Se===qZ(F)):!1,$e=f(F),ze=dt(F),ie=ze<+t.yearRange[0]||ze>+t.yearRange[1];return!(R||H||B||se||ie||Te||$e)},u=(F,R)=>fn(...Gs(r.value.minDate,F,R))||wt(...Gs(r.value.minDate,F,R)),c=(F,R)=>Tn(...Gs(r.value.maxDate,F,R))||wt(...Gs(r.value.maxDate,F,R)),d=(F,R,H)=>{let B=!1;return r.value.maxDate&&H&&c(F,R)&&(B=!0),r.value.minDate&&!H&&u(F,R)&&(B=!0),B},p=(F,R,H,B)=>{let se=!1;return B?r.value.minDate&&r.value.maxDate?se=d(F,R,H):(r.value.minDate&&u(F,R)||r.value.maxDate&&c(F,R))&&(se=!0):se=!0,se},f=F=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!Vh(F,r.value.allowedDates):!1,y=F=>!l(F),b=F=>n.value.noDisabledRange?!Qx({start:F[0],end:F[1]}).some(R=>y(R)):!0,S=F=>{if(F){const R=dt(F);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},E=(F,R)=>!!(Array.isArray(F)&&F[R]&&(n.value.maxRange||n.value.minRange)&&S(F[R])),x=(F,R,H=0)=>{if(E(R,H)&&S(F)){const B=Kx(F,R[H]),se=bE(R[H],F),Te=se.length===1?0:se.filter(ze=>y(ze)).length,$e=Math.abs(B)-(n.value.minMaxRawRange?0:Te);if(n.value.minRange&&n.value.maxRange)return $e>=+n.value.minRange&&$e<=+n.value.maxRange;if(n.value.minRange)return $e>=+n.value.minRange;if(n.value.maxRange)return $e<=+n.value.maxRange}return!0},k=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,L=F=>Array.isArray(F)?[F[0]?xm(F[0]):null,F[1]?xm(F[1]):null]:xm(F),A=(F,R,H)=>F.find(B=>+B.hours===ps(R)&&B.minutes==="*"?!0:+B.minutes===ra(R)&&+B.hours===ps(R))&&H,D=(F,R,H)=>{const[B,se]=F,[Te,$e]=R;return!A(B,Te,H)&&!A(se,$e,H)&&H},M=(F,R)=>{const H=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?D(t.disabledTimes,H,F):!H.some(B=>A(t.disabledTimes,B,F)):F},q=(F,R)=>{const H=Array.isArray(R)?[Ha(R[0]),R[1]?Ha(R[1]):void 0]:Ha(R),B=!t.disabledTimes(H);return F&&B},j=(F,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?M(R,F):q(R,F):R,W=F=>{let R=!0;if(!F||k())return!0;const H=!r.value.minDate&&!r.value.maxDate?L(F):F;return(t.maxTime||r.value.maxDate)&&(R=B2(t.maxTime,r.value.maxDate,"max",jn(H),R)),(t.minTime||r.value.minDate)&&(R=B2(t.minTime,r.value.minDate,"min",jn(H),R)),j(F,R)},Y=F=>{if(!t.monthPicker)return!0;let R=!0;const H=Ue(di(F));if(r.value.minDate&&r.value.maxDate){const B=Ue(di(r.value.minDate)),se=Ue(di(r.value.maxDate));return Tn(H,B)&&fn(H,se)||wt(H,B)||wt(H,se)}if(r.value.minDate){const B=Ue(di(r.value.minDate));R=Tn(H,B)||wt(H,B)}if(r.value.maxDate){const B=Ue(di(r.value.maxDate));R=fn(H,B)||wt(H,B)}return R},re=U(()=>F=>!t.enableTimePicker||t.ignoreTimeValidation?!0:W(F)),le=U(()=>F=>t.monthPicker?Array.isArray(F)&&(n.value.enabled||i.value.enabled)?!F.filter(R=>!Y(R)).length:Y(F):!0);return{isDisabled:y,validateDate:l,validateMonthYearInRange:p,isDateRangeAllowed:b,checkMinMaxRange:x,isValidTime:W,isTimeValid:re,isMonthValid:le}},Qp=()=>{const t=U(()=>(r,i)=>r==null?void 0:r.includes(i)),e=U(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=U(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},$te=(t,e,n)=>{const r=de(0),i=xn({[$a.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[$a.calendar]:!1,[$a.header]:!1}),s=U(()=>t.monthPicker||t.timePicker),a=d=>{var p;if((p=t.flow)!=null&&p.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(f=>!i[f]).length||c()}},o=()=>{var d,p;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c()),((p=t.flow)==null?void 0:p.length)===r.value&&on().then(()=>l())},l=()=>{r.value=-1},u=(d,p,...f)=>{var y,b;t.flow[r.value]===d&&n.value&&((b=(y=n.value)[p])==null||b.call(y,...f))},c=(d=0)=>{d&&(r.value+=d),u(Jn.month,"toggleMonthPicker",!0),u(Jn.year,"toggleYearPicker",!0),u(Jn.calendar,"toggleTimePicker",!1,!0),u(Jn.time,"toggleTimePicker",!0,!0);const p=t.flow[r.value];(p===Jn.hours||p===Jn.minutes||p===Jn.seconds)&&u(p,"toggleTimePicker",!0,!0,p)};return{childMount:a,updateFlowStep:o,resetFlow:l,handleFlow:c,flowStep:r}},Hte={key:1,class:"dp__input_wrap"},Vte=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],qte={key:2,class:"dp__clear_icon"},Wte=Be({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Yp},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:a,defaultedInline:o,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,defaultedUI:d,getDefaultPattern:p,getDefaultStartTime:f}=pn(i),{checkMinMaxRange:y}=fa(i),b=de(),S=de(null),E=de(!1),x=de(!1),k=U(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:E.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName,...d.value.input??{}})),L=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),b.value=null)},A=B=>{const se=f();return iee(B,s.value.format??p(),se??TE({},i.enableSeconds),i.inputValue,x.value,i.formatLocale)},D=B=>{const{rangeSeparator:se}=s.value,[Te,$e]=B.split(`${se}`);if(Te){const ze=A(Te.trim()),ie=$e?A($e.trim()):null;if(dl(ze,ie))return;const Se=ze&&ie?[ze,ie]:[ze];y(ie,Se,0)&&(b.value=ze?Se:null)}},M=()=>{x.value=!0},q=B=>{if(u.value.enabled)D(B);else if(c.value.enabled){const se=B.split(";");b.value=se.map(Te=>A(Te.trim())).filter(Te=>Te)}else b.value=A(B)},j=B=>{var se;const Te=typeof B=="string"?B:(se=B.target)==null?void 0:se.value;Te!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),q(Te),r("set-input-date",b.value)):L(),x.value=!1,r("update:input-value",Te)},W=B=>{s.value.enabled?(q(B.target.value),s.value.enterSubmit&&ny(b.value)&&i.inputValue!==""?(r("set-input-date",b.value,!0),b.value=null):s.value.enterSubmit&&i.inputValue===""&&(b.value=null,r("clear"))):le(B)},Y=B=>{s.value.enabled&&s.value.tabSubmit&&q(B.target.value),s.value.tabSubmit&&ny(b.value)&&i.inputValue!==""?(r("set-input-date",b.value,!0,!0),b.value=null):s.value.tabSubmit&&i.inputValue===""&&(b.value=null,r("clear",!0))},re=()=>{E.value=!0,r("focus"),on().then(()=>{var B;s.value.enabled&&s.value.selectOnFocus&&((B=S.value)==null||B.select())})},le=B=>{B.preventDefault(),Qs(B,l.value,!0),s.value.enabled&&s.value.openMenu&&!o.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},F=()=>{r("real-blur"),E.value=!1,(!i.isMenuOpen||o.value.enabled&&o.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&b.value&&!i.isMenuOpen&&(r("set-input-date",b.value),r("select-date"),b.value=null)},R=B=>{Qs(B,l.value,!0),r("clear")},H=B=>{if(B.key==="Tab"&&Y(B),B.key==="Enter"&&W(B),!s.value.enabled){if(B.code==="Tab")return;B.preventDefault()}};return e({focusInput:()=>{var B;(B=S.value)==null||B.focus({preventScroll:!0})},setParsedDate:B=>{b.value=B}}),(B,se)=>{var Te;return m(),T("div",{onClick:le},[B.$slots.trigger&&!B.$slots["dp-input"]&&!$(o).enabled?We(B.$slots,"trigger",{key:0}):P("",!0),!B.$slots.trigger&&(!$(o).enabled||$(o).input)?(m(),T("div",Hte,[B.$slots["dp-input"]&&!B.$slots.trigger&&(!$(o).enabled||$(o).enabled&&$(o).input)?We(B.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:j,onEnter:W,onTab:Y,onClear:R,onBlur:F,onKeypress:H,onPaste:M,onFocus:re,openMenu:()=>B.$emit("open"),closeMenu:()=>B.$emit("close"),toggleMenu:()=>B.$emit("toggle")}):P("",!0),B.$slots["dp-input"]?P("",!0):(m(),T("input",{key:1,id:B.uid?`dp-input-${B.uid}`:void 0,ref_key:"inputRef",ref:S,"data-test":"dp-input",name:B.name,class:Oe(k.value),inputmode:$(s).enabled?"text":"none",placeholder:B.placeholder,disabled:B.disabled,readonly:B.readonly,required:B.required,value:t.inputValue,autocomplete:B.autocomplete,"aria-label":(Te=$(a))==null?void 0:Te.input,"aria-disabled":B.disabled||void 0,"aria-invalid":B.state===!1?!0:void 0,onInput:j,onBlur:F,onFocus:re,onKeypress:H,onKeydown:H,onPaste:M},null,42,Vte)),I("div",{onClick:se[2]||(se[2]=$e=>r("toggle"))},[B.$slots["input-icon"]&&!B.hideInputIcon?(m(),T("span",{key:0,class:"dp__input_icon",onClick:se[0]||(se[0]=$e=>r("toggle"))},[We(B.$slots,"input-icon")])):P("",!0),!B.$slots["input-icon"]&&!B.hideInputIcon&&!B.$slots["dp-input"]?(m(),oe($(Ul),{key:1,class:"dp__input_icon dp__input_icons",onClick:se[1]||(se[1]=$e=>r("toggle"))})):P("",!0)]),B.$slots["clear-icon"]&&t.inputValue&&B.clearable&&!B.disabled&&!B.readonly?(m(),T("span",qte,[We(B.$slots,"clear-icon",{clear:R})])):P("",!0),B.clearable&&!B.$slots["clear-icon"]&&t.inputValue&&!B.disabled&&!B.readonly?(m(),oe($(pE),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:se[3]||(se[3]=Mr($e=>R($e),["prevent"]))})):P("",!0)])):P("",!0)])}}}),zte=typeof window<"u"?window:void 0,Mm=()=>{},Gte=t=>aa()?(Ga(t),!0):!1,Yte=(t,e,n,r)=>{if(!t)return Mm;let i=Mm;const s=St(()=>$(t),o=>{i(),o&&(o.addEventListener(e,n,r),i=()=>{o.removeEventListener(e,n,r),i=Mm})},{immediate:!0,flush:"post"}),a=()=>{s(),i()};return Gte(a),a},Kte=(t,e,n,r={})=>{const{window:i=zte,event:s="pointerdown"}=r;return i?Yte(i,s,a=>{const o=On(t),l=On(e);!o||!l||o===a.target||a.composedPath().includes(o)||a.composedPath().includes(l)||n(a)},{passive:!0}):void 0},Xte=Be({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Yp},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=to(),a=de(!1),o=Vi(i,"modelValue"),l=Vi(i,"timezone"),u=de(null),c=de(null),d=de(null),p=de(!1),f=de(null),y=de(!1),b=de(!1),S=de(!1),E=de(!1),{setMenuFocused:x,setShiftKey:k}=EE(),{clearArrowNav:L}=pa(),{validateDate:A,isValidTime:D}=fa(i),{defaultedTransitions:M,defaultedTextInput:q,defaultedInline:j,defaultedConfig:W,defaultedRange:Y,defaultedMultiDates:re}=pn(i),{menuTransition:le,showTransition:F}=zc(M);Ht(()=>{be(i.modelValue),on().then(()=>{if(!j.value.enabled){const ke=ze(f.value);ke==null||ke.addEventListener("scroll",Q),window==null||window.addEventListener("resize",ee)}}),j.value.enabled&&(a.value=!0),window==null||window.addEventListener("keyup",me),window==null||window.addEventListener("keydown",J)}),ua(()=>{if(!j.value.enabled){const ke=ze(f.value);ke==null||ke.removeEventListener("scroll",Q),window==null||window.removeEventListener("resize",ee)}window==null||window.removeEventListener("keyup",me),window==null||window.removeEventListener("keydown",J)});const R=$r(s,"all",i.presetDates),H=$r(s,"input");St([o,l],()=>{be(o.value)},{deep:!0});const{openOnTop:B,menuStyle:se,xCorrect:Te,setMenuPosition:$e,getScrollableParent:ze,shadowRender:ie}=Bte({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:f,inline:j,emit:r,props:i,slots:s}),{inputValue:Se,internalModelValue:X,parseExternalModelValue:be,emitModelValue:je,formatInputValue:V,checkBeforeEmit:ve}=Aee(r,i,p),Ee=U(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:j.value.enabled,"dp--flex-display-collapsed":S.value,dp__flex_display_with_input:j.value.input})),ue=U(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Ge=U(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||j.value.enabled}:{}),K=U(()=>({class:"dp__outer_menu_wrap"})),O=U(()=>j.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),N=()=>{var ke,qe;return(qe=(ke=d.value)==null?void 0:ke.$el)==null?void 0:qe.getBoundingClientRect()},Q=()=>{a.value&&(W.value.closeOnScroll?it():$e())},ee=()=>{var ke;a.value&&$e();const qe=(ke=c.value)==null?void 0:ke.$el.getBoundingClientRect().width;S.value=document.body.offsetWidth<=qe},me=ke=>{ke.key==="Tab"&&!j.value.enabled&&!i.teleport&&W.value.tabOutClosesMenu&&(f.value.contains(document.activeElement)||it()),b.value=ke.shiftKey},J=ke=>{b.value=ke.shiftKey},fe=()=>{!i.disabled&&!i.readonly&&(ie($2,i),$e(!1),a.value=!0,a.value&&r("open"),a.value||st(),be(i.modelValue))},he=()=>{var ke;Se.value="",st(),(ke=d.value)==null||ke.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),W.value.closeOnClearValue&&it()},Le=()=>{const ke=X.value;return!ke||!Array.isArray(ke)&&A(ke)?!0:Array.isArray(ke)?re.value.enabled||ke.length===2&&A(ke[0])&&A(ke[1])?!0:Y.value.partialRange&&!i.timePicker?A(ke[0]):!1:!1},Ce=()=>{ve()&&Le()?(je(),it()):r("invalid-select",X.value)},xe=ke=>{Je(),je(),W.value.closeOnAutoApply&&!ke&&it()},Je=()=>{d.value&&q.value.enabled&&d.value.setParsedDate(X.value)},Qe=(ke=!1)=>{i.autoApply&&D(X.value)&&Le()&&(Y.value.enabled&&Array.isArray(X.value)?(Y.value.partialRange||X.value.length===2)&&xe(ke):xe(ke))},st=()=>{q.value.enabled||(X.value=null)},it=()=>{j.value.enabled||(a.value&&(a.value=!1,Te.value=!1,x(!1),k(!1),L(),r("closed"),Se.value&&be(o.value)),st(),r("blur"))},xt=(ke,qe,Ke=!1)=>{if(!ke){X.value=null;return}const zn=Array.isArray(ke)?!ke.some(Qi=>!A(Qi)):A(ke),_r=D(ke);zn&&_r&&(E.value=!0,X.value=ke,qe&&(y.value=Ke,Ce(),r("text-submit")),on().then(()=>{E.value=!1}))},vt=()=>{i.autoApply&&D(X.value)&&je(),Je()},zt=()=>a.value?it():fe(),Un=ke=>{X.value=ke},bt=()=>{q.value.enabled&&(p.value=!0,V()),r("focus")},ks=()=>{if(q.value.enabled&&(p.value=!1,be(i.modelValue),y.value)){const ke=tee(f.value,b.value);ke==null||ke.focus()}r("blur")},vr=ke=>{c.value&&c.value.updateMonthYear(0,{month:O2(ke.month),year:O2(ke.year)})},Ss=ke=>{be(ke??i.modelValue)},In=(ke,qe)=>{var Ke;(Ke=c.value)==null||Ke.switchView(ke,qe)},pe=ke=>W.value.onClickOutside?W.value.onClickOutside(ke):it(),He=(ke=0)=>{var qe;(qe=c.value)==null||qe.handleFlow(ke)};return Kte(u,d,()=>pe(Le)),e({closeMenu:it,selectDate:Ce,clearValue:he,openMenu:fe,onScroll:Q,formatInputValue:V,updateInternalModelValue:Un,setMonthYear:vr,parseModel:Ss,switchView:In,toggleMenu:zt,handleFlow:He}),(ke,qe)=>(m(),T("div",{ref_key:"pickerWrapperRef",ref:f,class:Oe(Ee.value),"data-datepicker-instance":""},[ae(Wte,Xt({ref_key:"inputRef",ref:d,"input-value":$(Se),"onUpdate:inputValue":qe[0]||(qe[0]=Ke=>Wt(Se)?Se.value=Ke:null),"is-menu-open":a.value},ke.$props,{onClear:he,onOpen:fe,onSetInputDate:xt,onSetEmptyDate:$(je),onSelectDate:Ce,onToggle:zt,onClose:it,onFocus:bt,onBlur:ks,onRealBlur:qe[1]||(qe[1]=Ke=>p.value=!1)}),nr({_:2},[Fe($(H),(Ke,zn)=>({name:Ke,fn:Ie(_r=>[We(ke.$slots,Ke,Rn(tr(_r)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(m(),oe(Lt(ke.teleport?fD:"div"),Rn(tr(Ge.value)),{default:Ie(()=>[ae(Ti,{name:$(le)($(B)),css:$(F)&&!$(j).enabled},{default:Ie(()=>[a.value?(m(),T("div",Xt({key:0,ref_key:"dpWrapMenuRef",ref:u},K.value,{class:{"dp--menu-wrapper":!$(j).enabled},style:$(j).enabled?void 0:$(se)}),[ae($2,Xt({ref_key:"dpMenuRef",ref:c},ke.$props,{"internal-model-value":$(X),"onUpdate:internalModelValue":qe[2]||(qe[2]=Ke=>Wt(X)?X.value=Ke:null),class:{[ue.value]:!0,"dp--menu-wrapper":ke.teleport},"open-on-top":$(B),"no-overlay-focus":O.value,collapse:S.value,"get-input-rect":N,"is-text-input-date":E.value,onClosePicker:it,onSelectDate:Ce,onAutoApply:Qe,onTimeUpdate:vt,onFlowStep:qe[3]||(qe[3]=Ke=>ke.$emit("flow-step",Ke)),onUpdateMonthYear:qe[4]||(qe[4]=Ke=>ke.$emit("update-month-year",Ke)),onInvalidSelect:qe[5]||(qe[5]=Ke=>ke.$emit("invalid-select",$(X))),onAutoApplyInvalid:qe[6]||(qe[6]=Ke=>ke.$emit("invalid-select",Ke)),onInvalidFixedRange:qe[7]||(qe[7]=Ke=>ke.$emit("invalid-fixed-range",Ke)),onRecalculatePosition:$($e),onTooltipOpen:qe[8]||(qe[8]=Ke=>ke.$emit("tooltip-open",Ke)),onTooltipClose:qe[9]||(qe[9]=Ke=>ke.$emit("tooltip-close",Ke)),onTimePickerOpen:qe[10]||(qe[10]=Ke=>ke.$emit("time-picker-open",Ke)),onTimePickerClose:qe[11]||(qe[11]=Ke=>ke.$emit("time-picker-close",Ke)),onAmPmChange:qe[12]||(qe[12]=Ke=>ke.$emit("am-pm-change",Ke)),onRangeStart:qe[13]||(qe[13]=Ke=>ke.$emit("range-start",Ke)),onRangeEnd:qe[14]||(qe[14]=Ke=>ke.$emit("range-end",Ke)),onDateUpdate:qe[15]||(qe[15]=Ke=>ke.$emit("date-update",Ke)),onInvalidDate:qe[16]||(qe[16]=Ke=>ke.$emit("invalid-date",Ke)),onOverlayToggle:qe[17]||(qe[17]=Ke=>ke.$emit("overlay-toggle",Ke))}),nr({_:2},[Fe($(R),(Ke,zn)=>({name:Ke,fn:Ie(_r=>[We(ke.$slots,Ke,Rn(tr({..._r})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):P("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),e0=(()=>{const t=Xte;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Qte=Object.freeze(Object.defineProperty({__proto__:null,default:e0},Symbol.toStringTag,{value:"Module"}));Object.entries(Qte).forEach(([t,e])=>{t!=="default"&&(e0[t]=e)});const Zte={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-caret-left"},Jte=I("path",{d:"m18 21-4-4 4-4",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),ene=[Jte];function tne(t,e){return m(),T("svg",Zte,[...ene])}const PE={render:tne},nne={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-caret-right"},rne=I("path",{d:"m14 13 4 4-4 4",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),ine=[rne];function sne(t,e){return m(),T("svg",nne,[...ine])}const ane={render:sne},one={width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-ftva-calendar"},lne=I("path",{d:"M7 0.5V2.5H13V0.5H15V2.5H19C19.2652 2.5 19.5196 2.60536 19.7071 2.79289C19.8946 2.98043 20 3.23478 20 3.5V19.5C20 19.7652 19.8946 20.0196 19.7071 20.2071C19.5196 20.3946 19.2652 20.5 19 20.5H1C0.734784 20.5 0.48043 20.3946 0.292893 20.2071C0.105357 20.0196 0 19.7652 0 19.5V3.5C0 3.23478 0.105357 2.98043 0.292893 2.79289C0.48043 2.60536 0.734784 2.5 1 2.5H5V0.5H7ZM18 10.5H2V18.5H18V10.5ZM5 4.5H2V8.5H18V4.5H15V6.5H13V4.5H7V6.5H5V4.5Z",fill:"#115DAF",class:"svg__fill--accent-blue"},null,-1),une=[lne];function cne(t,e){return m(),T("svg",one,[...une])}const dne={render:cne},hne={width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-ftva-drop-triangle"},pne=I("path",{d:"M5 7.5L0.669873 -8.15666e-07L9.33013 -5.85621e-08L5 7.5Z",fill:"#115DAF",class:"svg__fill--accent-blue"},null,-1),fne=[pne];function mne(t,e){return m(),T("svg",hne,[...fne])}const gne={render:mne},yne={class:"date-filter"},vne={class:"custom-header"},_ne={class:"custom-month-year-component"},bne={class:"custom-nav-buttons"},Tne=["onClick"],wne=["onClick"],kne={class:"day-header"},Sne={class:"day-content"},xne={key:0,class:"event-dots"},Ene={key:0,class:"dot"},Cne={class:"action-row"},Ane=Be({__name:"DateFilter",props:{eventDates:{type:Array,default:()=>[]},initialDates:{type:Object,default:()=>({startDate:null,endDate:null})},hideInput:{type:Boolean,default:!1}},emits:["input-selected"],setup(t,{expose:e,emit:n}){const{eventDates:r,initialDates:i,hideInput:s}=t,a=n,o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l={closeOnAutoApply:!1,keepActionRow:!0},u=de([]),c=de(null),d=de(!1),p=de(!1),f=de(!1),y=de({rangeSeparator:"  "}),b=Fl();i.startDate&&i.endDate?u.value=[i.startDate,i.endDate]:i.startDate&&(u.value=[i.startDate,i.startDate]);function S(H){const B={};for(let se=0;se<H.length;se++)B[H[se]]===void 0?B[H[se]]=1:B[H[se]]++;return B}const E=S(r);function x(){var H,B;f.value===!0?((H=c.value)==null||H.updateInternalModelValue(null),f.value=!1,(B=document==null?void 0:document.activeElement)==null||B.blur()):(u.value=[new Date,new Date],f.value=!0)}function k(){var H,B,se;(H=c.value)==null||H.updateInternalModelValue(null),f.value=!1,(B=c.value)==null||B.clearValue(),(se=c.value)==null||se.openMenu()}function L(){var H;(H=c.value)==null||H.closeMenu()}function A(H){H&&"length"in H&&H.length.valueOf()===1?d.value=!0:d.value=!1}function D(){f.value=!1}function M(){p.value=!p.value}function q(){var H;(H=c.value)==null||H.openMenu()}function j(){var H;(H=c.value)==null||H.closeMenu()}e({openDatepicker:q,closeDatepicker:j});const W=U(()=>b.winWidth<=750),Y=U(()=>u.value&&"length"in u.value?{startDate:u.value[0],endDate:u.value[1]}:u.value?{startDate:u.value,endDate:null}:{startDate:null,endDate:null}),re=U(()=>["vue-date-picker",{"is-selecting":d.value}]),le=U(()=>["toggle-triangle-icon",{"is-open":p.value}]),F=U(()=>["today-button",{"is-active-selection":f.value}]),R=Re(()=>Promise.resolve().then(()=>Fc));return St(u,async(H,B)=>{H!==B&&(H&&"length"in H&&H[1]===null?y.value={rangeSeparator:" "}:y.value={rangeSeparator:"  "},a("input-selected",Y.value))}),(H,B)=>(m(),T("div",yne,[ae($(e0),{ref_key:"datepicker",ref:c,modelValue:u.value,"onUpdate:modelValue":B[0]||(B[0]=se=>u.value=se),config:l,range:!W.value,"week-start":0,"month-name-format":"long","enable-time-picker":!1,"auto-position":!1,"auto-apply":!0,"text-input":y.value,"no-today":"",inline:t.hideInput,class:Oe(re.value),placeholder:W.value?"Select a date":"All upcoming",onInternalModelChange:A,onRangeStart:D,onOpen:M,onClosed:M},{"input-icon":Ie(()=>[ae($(dne)),I("span",{class:Oe(le.value)},[ae($(gne))],2)]),"clear-icon":Ie(({clear:se})=>[ae($(yc),{onClick:se},null,8,["onClick"])]),"month-year":Ie(({month:se,year:Te,months:$e,handleMonthYearChange:ze})=>[I("div",vne,[I("div",_ne,ye($e[se].text)+" "+ye(Te),1),I("div",bne,[I("button",{class:"nav-arrow-button",onClick:ie=>{D(),ze(!1)}},[ae($(PE))],8,Tne),I("button",{class:Oe(F.value),onClick:x}," TODAY ",2),I("button",{class:"nav-arrow-button",onClick:ie=>{D(),ze(!0)}},[ae($(ane))],8,wne)])])]),"calendar-header":Ie(({index:se})=>[I("div",kne,ye(o[se]),1)]),day:Ie(({day:se,date:Te})=>[I("div",Sne,[tt(ye(se)+" ",1),$(E).hasOwnProperty(Te.toLocaleDateString())?(m(),T("div",xne,[(m(!0),T(we,null,Fe($(E)[Te.toLocaleDateString()],$e=>(m(),T(we,{key:$e},[$e<=3?(m(),T("span",Ene)):P("",!0)],64))),128))])):P("",!0)])]),"action-row":Ie(({selectDate:se})=>[I("div",Cne,[ae($(R),{class:"action-row-button select-button",label:"Done","icon-name":"none",onClick:Te=>{se(),L()}},null,8,["onClick"]),ae($(R),{class:"action-row-button clear-button",label:"Clear","icon-name":"icon-close",onClick:k})])]),_:1},8,["modelValue","range","text-input","inline","class","placeholder"])]))}}),Lne=Me(Ane,[["__scopeId","data-v-e3d0d940"]]),Ine={name:"DividerGeneral",props:{isBold:{type:Boolean,default:!1},isTertiary:{type:Boolean,default:!1}},computed:{classes(){return["divider-general",{"is-bold":this.isBold},{"is-tertiary":this.isTertiary}]}}};function Mne(t,e,n,r,i,s){return m(),T("div",{class:Oe(s.classes)},null,2)}const ry=Me(Ine,[["render",Mne],["__scopeId","data-v-d8e8ef90"]]);function Dne(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var Pne=Dne,One=bx,Rne={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Nne=One(Rne),Bne=Nne,Fne=Bne,Une=Hc,jne=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$ne="\\u0300-\\u036f",Hne="\\ufe20-\\ufe2f",Vne="\\u20d0-\\u20ff",qne=$ne+Hne+Vne,Wne="["+qne+"]",zne=RegExp(Wne,"g");function Gne(t){return t=Une(t),t&&t.replace(jne,Fne).replace(zne,"")}var Yne=Gne,Kne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Xne(t){return t.match(Kne)||[]}var Qne=Xne,Zne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Jne(t){return Zne.test(t)}var ere=Jne,OE="\\ud800-\\udfff",tre="\\u0300-\\u036f",nre="\\ufe20-\\ufe2f",rre="\\u20d0-\\u20ff",ire=tre+nre+rre,RE="\\u2700-\\u27bf",NE="a-z\\xdf-\\xf6\\xf8-\\xff",sre="\\xac\\xb1\\xd7\\xf7",are="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ore="\\u2000-\\u206f",lre=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",BE="A-Z\\xc0-\\xd6\\xd8-\\xde",ure="\\ufe0e\\ufe0f",FE=sre+are+ore+lre,UE="[']",H2="["+FE+"]",cre="["+ire+"]",jE="\\d+",dre="["+RE+"]",$E="["+NE+"]",HE="[^"+OE+FE+jE+RE+NE+BE+"]",hre="\\ud83c[\\udffb-\\udfff]",pre="(?:"+cre+"|"+hre+")",fre="[^"+OE+"]",VE="(?:\\ud83c[\\udde6-\\uddff]){2}",qE="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+BE+"]",mre="\\u200d",V2="(?:"+$E+"|"+HE+")",gre="(?:"+Lo+"|"+HE+")",q2="(?:"+UE+"(?:d|ll|m|re|s|t|ve))?",W2="(?:"+UE+"(?:D|LL|M|RE|S|T|VE))?",WE=pre+"?",zE="["+ure+"]?",yre="(?:"+mre+"(?:"+[fre,VE,qE].join("|")+")"+zE+WE+")*",vre="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_re="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bre=zE+WE+yre,Tre="(?:"+[dre,VE,qE].join("|")+")"+bre,wre=RegExp([Lo+"?"+$E+"+"+q2+"(?="+[H2,Lo,"$"].join("|")+")",gre+"+"+W2+"(?="+[H2,Lo+V2,"$"].join("|")+")",Lo+"?"+V2+"+"+q2,Lo+"+"+W2,_re,vre,jE,Tre].join("|"),"g");function kre(t){return t.match(wre)||[]}var Sre=kre,xre=Qne,Ere=ere,Cre=Hc,Are=Sre;function Lre(t,e,n){return t=Cre(t),e=n?void 0:e,e===void 0?Ere(t)?Are(t):xre(t):t.match(e)||[]}var Ire=Lre,Mre=Pne,Dre=Yne,Pre=Ire,Ore="[']",Rre=RegExp(Ore,"g");function Nre(t){return function(e){return Mre(Pre(Dre(e).replace(Rre,"")),t,"")}}var Bre=Nre,Fre=Bre,Ure=Fre(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),jre=Ure;const GE=yr(jre),$re=["data-cy"],Hre={key:0,class:"section-header"},Vre=["innerHTML"],qre=["innerHTML"],Wre={class:"cards"},zre=Be({__name:"SectionCardsWithIllustrations",props:{sectionTitle:{type:String,default:""},sectionSummary:{type:String,default:""},items:{type:Array,default:()=>[]},to:{type:String,default:""},buttonText:{type:String,default:""},isHorizontal:{type:Boolean,default:!1}},setup(t){const e=t,n=U(()=>["section-cards-with-illustrations",{"is-horizontal":e.isHorizontal}]),r=U(()=>`section-cards-with-illustrations-${GE(e.sectionTitle)||"untitled"}`);return(i,s)=>(m(),T("section",{class:Oe(n.value),"data-cy":r.value},[t.sectionTitle||t.sectionSummary?(m(),T("div",Hre,[t.sectionTitle?(m(),T("h2",{key:0,id:"cards-with-illustration-title",class:"section-title",innerHTML:t.sectionTitle},null,8,Vre)):P("",!0),t.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.sectionSummary},null,8,qre)):P("",!0)])):P("",!0),I("ul",Wre,[(m(!0),T(we,null,Fe(t.items,a=>(m(),oe(wx,{key:a.to,"icon-name":a.iconName,to:a.to,title:a.title,text:a.text,category:a.category,"is-horizontal":t.isHorizontal},null,8,["icon-name","to","title","text","category","is-horizontal"]))),128)),t.to?(m(),oe(pt,{key:0,class:"card card-more",to:t.to},{default:Ie(()=>[ae(zp,{id:"card-more-button",class:"button",text:t.buttonText,"aria-labelledby":"card-more-button cards-with-illustration-title"},null,8,["text"])]),_:1},8,["to"])):P("",!0)])],10,$re))}}),YE=Me(zre,[["__scopeId","data-v-06b1ab58"]]);function dr(t=""){return t===null||t.match(/^(http|https):\/\//)?t:(t.startsWith("/")||(t=`/${t}`),t.replace("meap/",""))}const Gre=Be({__name:"AssociatedTopicCards",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>e.associatedTopicsFlexiblePageBlock[0].topics.map(r=>({...r,to:r.externalResourceUrl?r.externalResourceUrl:dr(r.uri)})));return(r,i)=>t.block&&t.block.associatedTopicsFlexiblePageBlock?(m(),oe(YE,{key:0,items:n.value,"section-title":t.block.sectionTitle,"section-summary":t.block.sectionSummary,"is-horizontal":!1,class:"associated-topic-cards"},null,8,["items","section-title","section-summary"])):P("",!0)}}),KE=Me(Gre,[["__scopeId","data-v-17750fc2"]]),Yre=Object.freeze(Object.defineProperty({__proto__:null,default:KE},Symbol.toStringTag,{value:"Module"}));function z2(t=""){let e="";const n=t.toLowerCase();switch(!0){case n.includes("article"):e="Read more";break;case n.includes("project"):e="View project";break;case n.includes("event"):e="View event";break;case n.includes("exhibition"):e="View exhibition";break;case n.includes("collection"):e="View collection";break;case n.includes("impactreportstory"):e="Read full story";break}return e}const Kre={key:0},Xre=Be({__name:"BannerFeatured",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>{let p={};return e.content[0].contentLink&&e.content[0].contentLink.length>0&&e.content[0].contentLink[0].heroImage&&e.content[0].contentLink[0].heroImage.length>0?p=e.content[0].contentLink[0].heroImage[0].image[0]:e.content[0].image&&(p=e.content[0].image[0]),p}),r=U(()=>e.content[0].alignment==="right"),i=U(()=>{let p="";return e.content[0].contentType?p=z2(e.content[0].contentType):p=z2(e.content[0].contentLink[0].contentType),p}),s=U(()=>{let p=[];if(e.content&&e.content[0].contentLink){const f=e.content[0].contentLink[0].contentType.toLowerCase();switch(!0){case f.includes("article"):p=e.content[0].contentLink[0].articleLocations;break;case f.includes("project"):p=e.content[0].contentLink[0].projectLocations;break;case f.includes("event"):p=e.content[0].contentLink[0].articleLocations;break}}return e.content&&e.content[0].location&&p.push(e.content[0].location),p}),a=U(()=>{let p="";if(e.content&&e.content[0].category)return e.content[0].category;if(e.content&&e.content[0].contentLink){const f=e.content[0].contentLink[0].contentType,y=e.content[0].contentLink[0].workshopOrEventSeriesType;switch(!0){case f.includes("article"):p=e.content[0].contentLink[0].articleCategory.map(b=>b.title).toString();break;case f.includes("collection"):p=e.content[0].contentLink[0].physicalDigital[0];break;case f.includes("project"):case f.includes("event"):case f.includes("exhibition"):case f.includes("endowment"):p=f;break;case f.includes("impactReportStory"):p="Impact Report Story";break;case f.includes("meapProject"):p="Meap Project";break;case f.includes("meapArticle"):p="Meap Article";break;case y.includes("help/services-resources"):p="Workshop";break;case y.includes("visit/events-exhibitions"):p="Event Series";break}}return p}),o=U(()=>e.sectionTitle?e.sectionTitle:a.value),l=U(()=>{let p="";return e.content&&e.content[0].contentLink&&e.content[0].contentLink[0].startDateWithTime?p=e.content[0].contentLink[0].startDateWithTime:e.content&&e.content[0].contentLink&&e.content[0].contentLink[0].startDate&&(p=e.content[0].contentLink[0].startDate),p}),u=U(()=>{let p="";return e.content&&e.content[0].contentLink&&e.content[0].contentLink[0].endDateWithTime?p=e.content[0].contentLink[0].endDateWithTime:e.content&&e.content[0].contentLink&&e.content[0].contentLink[0].endDate&&(p=e.content[0].contentLink[0].endDate),p}),c=U(()=>{const p=[];if(e.content&&e.content[0].contentLink){const f=e.content[0].contentLink[0].contentType.toLowerCase(),y=e.content[0].contentLink[0].articleByline1,b=e.content[0].contentLink[0].projectByline1,S=Cr(new Date(e.content[0].contentLink[0].articleByline2),"MMMM d, Y");switch(!0){case f.includes("article"):y&&y.forEach(E=>p.push(E.title)),p.push(S);break;case f.includes("project"):b&&p.push(b[0].title);break}}return e.content&&(e.content[0].byline1||e.content[0].byline2)&&(p.push(e.content[0].byline1),p.push(e.content[0].byline2)),p}),d=U(()=>{let p="";return e.content&&e.content[0].contentLink&&e.content[0].contentLink[0].contentType==="event"?p=e.content[0].contentLink[0].eventDescription:p=e.content[0].contentLink[0].summary,p});return(p,f)=>t.block&&t.block.content?(m(),T("div",Kre,[t.block&&t.block.content&&t.block.content[0].contentLink?(m(),oe(qg,{key:0,class:"flexible-banner-featured",media:n.value,to:$(dr)(t.block.content[0].contentLink[0].to),title:t.block.content[0].contentLink[0].title,breadcrumb:o.value,byline:c.value,description:d.value,prompt:i.value,locations:s.value,category:a.value,"start-date":l.value,"end-date":u.value,"section-handle":t.block.content[0].contentLink[0].contentType},null,8,["media","to","title","breadcrumb","byline","description","prompt","locations","category","start-date","end-date","section-handle"])):P("",!0),t.block&&t.block.content&&!t.block.content[0].contentLink?(m(),oe(qg,{key:1,class:"flexible-banner-featured",media:n.value,to:$(dr)(t.block.content[0].to),title:t.block.content[0].title,breadcrumb:o.value,byline:c.value,description:t.block.content[0].summary,prompt:i.value,locations:s.value,category:a.value,"align-right":r.value,"section-handle":t.block.content[0].sectionHandle},null,8,["media","to","title","breadcrumb","byline","description","prompt","locations","category","align-right","section-handle"])):P("",!0)])):P("",!0)}}),XE=Me(Xre,[["__scopeId","data-v-658b7c9e"]]),Qre=Object.freeze(Object.defineProperty({__proto__:null,default:XE},Symbol.toStringTag,{value:"Module"}));var Zre=Up;function Jre(){this.__data__=new Zre,this.size=0}var eie=Jre;function tie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nie=tie;function rie(t){return this.__data__.get(t)}var iie=rie;function sie(t){return this.__data__.has(t)}var aie=sie,oie=Up,lie=Ev,uie=Cv,cie=200;function die(t,e){var n=this.__data__;if(n instanceof oie){var r=n.__data__;if(!lie||r.length<cie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uie(r)}return n.set(t,e),this.size=n.size,this}var hie=die,pie=Up,fie=eie,mie=nie,gie=iie,yie=aie,vie=hie;function jl(t){var e=this.__data__=new pie(t);this.size=e.size}jl.prototype.clear=fie;jl.prototype.delete=mie;jl.prototype.get=gie;jl.prototype.has=yie;jl.prototype.set=vie;var _ie=jl;function bie(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Tie=bie,wie=so,kie=function(){try{var t=wie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),QE=kie,G2=QE;function Sie(t,e,n){e=="__proto__"&&G2?G2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ZE=Sie,xie=ZE,Eie=G5,Cie=Object.prototype,Aie=Cie.hasOwnProperty;function Lie(t,e,n){var r=t[e];(!(Aie.call(t,e)&&Eie(r,n))||n===void 0&&!(e in t))&&xie(t,e,n)}var JE=Lie,Iie=JE,Mie=ZE;function Die(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?Mie(n,o,l):Iie(n,o,l)}return n}var Yc=Die;function Pie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Oie=Pie,Rie=ro,Nie=ha,Bie="[object Arguments]";function Fie(t){return Nie(t)&&Rie(t)==Bie}var Uie=Fie,Y2=Uie,jie=ha,eC=Object.prototype,$ie=eC.hasOwnProperty,Hie=eC.propertyIsEnumerable,Vie=Y2(function(){return arguments}())?Y2:function(t){return jie(t)&&$ie.call(t,"callee")&&!Hie.call(t,"callee")},t0=Vie,qh={exports:{}};function qie(){return!1}var Wie=qie;qh.exports;(function(t,e){var n=Xi,r=Wie,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(qh,qh.exports);var n0=qh.exports,zie=9007199254740991,Gie=/^(?:0|[1-9]\d*)$/;function Yie(t,e){var n=typeof t;return e=e??zie,!!e&&(n=="number"||n!="symbol"&&Gie.test(t))&&t>-1&&t%1==0&&t<e}var Kie=Yie,Xie=9007199254740991;function Qie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xie}var tC=Qie,Zie=ro,Jie=tC,ese=ha,tse="[object Arguments]",nse="[object Array]",rse="[object Boolean]",ise="[object Date]",sse="[object Error]",ase="[object Function]",ose="[object Map]",lse="[object Number]",use="[object Object]",cse="[object RegExp]",dse="[object Set]",hse="[object String]",pse="[object WeakMap]",fse="[object ArrayBuffer]",mse="[object DataView]",gse="[object Float32Array]",yse="[object Float64Array]",vse="[object Int8Array]",_se="[object Int16Array]",bse="[object Int32Array]",Tse="[object Uint8Array]",wse="[object Uint8ClampedArray]",kse="[object Uint16Array]",Sse="[object Uint32Array]",Zt={};Zt[gse]=Zt[yse]=Zt[vse]=Zt[_se]=Zt[bse]=Zt[Tse]=Zt[wse]=Zt[kse]=Zt[Sse]=!0;Zt[tse]=Zt[nse]=Zt[fse]=Zt[rse]=Zt[mse]=Zt[ise]=Zt[sse]=Zt[ase]=Zt[ose]=Zt[lse]=Zt[use]=Zt[cse]=Zt[dse]=Zt[hse]=Zt[pse]=!1;function xse(t){return ese(t)&&Jie(t.length)&&!!Zt[Zie(t)]}var Ese=xse,Cse=Ese,Ase=Hp,K2=Vp,X2=K2&&K2.isTypedArray,Lse=X2?Ase(X2):Cse,nC=Lse,Ise=Oie,Mse=t0,Dse=da,Pse=n0,Ose=Kie,Rse=nC,Nse=Object.prototype,Bse=Nse.hasOwnProperty;function Fse(t,e){var n=Dse(t),r=!n&&Mse(t),i=!n&&!r&&Pse(t),s=!n&&!r&&!i&&Rse(t),a=n||r||i||s,o=a?Ise(t.length,String):[],l=o.length;for(var u in t)(e||Bse.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ose(u,l)))&&o.push(u);return o}var rC=Fse,Use=Object.prototype;function jse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Use;return t===n}var Zp=jse;function $se(t,e){return function(n){return t(e(n))}}var iC=$se,Hse=iC,Vse=Hse(Object.keys,Object),qse=Vse,Wse=Zp,zse=qse,Gse=Object.prototype,Yse=Gse.hasOwnProperty;function Kse(t){if(!Wse(t))return zse(t);var e=[];for(var n in Object(t))Yse.call(t,n)&&n!="constructor"&&e.push(n);return e}var sC=Kse,Xse=W5,Qse=tC;function Zse(t){return t!=null&&Qse(t.length)&&!Xse(t)}var r0=Zse,Jse=rC,eae=sC,tae=r0;function nae(t){return tae(t)?Jse(t):eae(t)}var i0=nae,rae=Yc,iae=i0;function sae(t,e){return t&&rae(e,iae(e),t)}var aae=sae;function oae(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var lae=oae,uae=io,cae=Zp,dae=lae,hae=Object.prototype,pae=hae.hasOwnProperty;function fae(t){if(!uae(t))return dae(t);var e=cae(t),n=[];for(var r in t)r=="constructor"&&(e||!pae.call(t,r))||n.push(r);return n}var mae=fae,gae=rC,yae=mae,vae=r0;function _ae(t){return vae(t)?gae(t,!0):yae(t)}var s0=_ae,bae=Yc,Tae=s0;function wae(t,e){return t&&bae(e,Tae(e),t)}var kae=wae,Wh={exports:{}};Wh.exports;(function(t,e){var n=Xi,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,p=o?o(d):new u.constructor(d);return u.copy(p),p}t.exports=l})(Wh,Wh.exports);var Sae=Wh.exports;function xae(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Eae=xae;function Cae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var Aae=Cae;function Lae(){return[]}var aC=Lae,Iae=Aae,Mae=aC,Dae=Object.prototype,Pae=Dae.propertyIsEnumerable,Q2=Object.getOwnPropertySymbols,Oae=Q2?function(t){return t==null?[]:(t=Object(t),Iae(Q2(t),function(e){return Pae.call(t,e)}))}:Mae,a0=Oae,Rae=Yc,Nae=a0;function Bae(t,e){return Rae(t,Nae(t),e)}var Fae=Bae;function Uae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var o0=Uae,jae=iC,$ae=jae(Object.getPrototypeOf,Object),l0=$ae,Hae=o0,Vae=l0,qae=a0,Wae=aC,zae=Object.getOwnPropertySymbols,Gae=zae?function(t){for(var e=[];t;)Hae(e,qae(t)),t=Vae(t);return e}:Wae,oC=Gae,Yae=Yc,Kae=oC;function Xae(t,e){return Yae(t,Kae(t),e)}var Qae=Xae,Zae=o0,Jae=da;function eoe(t,e,n){var r=e(t);return Jae(t)?r:Zae(r,n(t))}var lC=eoe,toe=lC,noe=a0,roe=i0;function ioe(t){return toe(t,roe,noe)}var soe=ioe,aoe=lC,ooe=oC,loe=s0;function uoe(t){return aoe(t,loe,ooe)}var uC=uoe,coe=so,doe=Xi,hoe=coe(doe,"DataView"),poe=hoe,foe=so,moe=Xi,goe=foe(moe,"Promise"),yoe=goe,voe=so,_oe=Xi,boe=voe(_oe,"WeakMap"),Toe=boe,iy=poe,sy=Ev,ay=yoe,oy=Y5,ly=Toe,cC=ro,$l=z5,Z2="[object Map]",woe="[object Object]",J2="[object Promise]",e1="[object Set]",t1="[object WeakMap]",n1="[object DataView]",koe=$l(iy),Soe=$l(sy),xoe=$l(ay),Eoe=$l(oy),Coe=$l(ly),Ma=cC;(iy&&Ma(new iy(new ArrayBuffer(1)))!=n1||sy&&Ma(new sy)!=Z2||ay&&Ma(ay.resolve())!=J2||oy&&Ma(new oy)!=e1||ly&&Ma(new ly)!=t1)&&(Ma=function(t){var e=cC(t),n=e==woe?t.constructor:void 0,r=n?$l(n):"";if(r)switch(r){case koe:return n1;case Soe:return Z2;case xoe:return J2;case Eoe:return e1;case Coe:return t1}return e});var Jp=Ma,Aoe=Object.prototype,Loe=Aoe.hasOwnProperty;function Ioe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Loe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Moe=Ioe,Doe=Xi,Poe=Doe.Uint8Array,Ooe=Poe,r1=Ooe;function Roe(t){var e=new t.constructor(t.byteLength);return new r1(e).set(new r1(t)),e}var u0=Roe,Noe=u0;function Boe(t,e){var n=e?Noe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Foe=Boe,Uoe=/\w*$/;function joe(t){var e=new t.constructor(t.source,Uoe.exec(t));return e.lastIndex=t.lastIndex,e}var $oe=joe,i1=jc,s1=i1?i1.prototype:void 0,a1=s1?s1.valueOf:void 0;function Hoe(t){return a1?Object(a1.call(t)):{}}var Voe=Hoe,qoe=u0;function Woe(t,e){var n=e?qoe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var zoe=Woe,Goe=u0,Yoe=Foe,Koe=$oe,Xoe=Voe,Qoe=zoe,Zoe="[object Boolean]",Joe="[object Date]",ele="[object Map]",tle="[object Number]",nle="[object RegExp]",rle="[object Set]",ile="[object String]",sle="[object Symbol]",ale="[object ArrayBuffer]",ole="[object DataView]",lle="[object Float32Array]",ule="[object Float64Array]",cle="[object Int8Array]",dle="[object Int16Array]",hle="[object Int32Array]",ple="[object Uint8Array]",fle="[object Uint8ClampedArray]",mle="[object Uint16Array]",gle="[object Uint32Array]";function yle(t,e,n){var r=t.constructor;switch(e){case ale:return Goe(t);case Zoe:case Joe:return new r(+t);case ole:return Yoe(t,n);case lle:case ule:case cle:case dle:case hle:case ple:case fle:case mle:case gle:return Qoe(t,n);case ele:return new r;case tle:case ile:return new r(t);case nle:return Koe(t);case rle:return new r;case sle:return Xoe(t)}}var vle=yle,_le=io,o1=Object.create,ble=function(){function t(){}return function(e){if(!_le(e))return{};if(o1)return o1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Tle=ble,wle=Tle,kle=l0,Sle=Zp;function xle(t){return typeof t.constructor=="function"&&!Sle(t)?wle(kle(t)):{}}var Ele=xle,Cle=Jp,Ale=ha,Lle="[object Map]";function Ile(t){return Ale(t)&&Cle(t)==Lle}var Mle=Ile,Dle=Mle,Ple=Hp,l1=Vp,u1=l1&&l1.isMap,Ole=u1?Ple(u1):Dle,Rle=Ole,Nle=Jp,Ble=ha,Fle="[object Set]";function Ule(t){return Ble(t)&&Nle(t)==Fle}var jle=Ule,$le=jle,Hle=Hp,c1=Vp,d1=c1&&c1.isSet,Vle=d1?Hle(d1):$le,qle=Vle,Wle=_ie,zle=Tie,Gle=JE,Yle=aae,Kle=kae,Xle=Sae,Qle=Eae,Zle=Fae,Jle=Qae,eue=soe,tue=uC,nue=Jp,rue=Moe,iue=vle,sue=Ele,aue=da,oue=n0,lue=Rle,uue=io,cue=qle,due=i0,hue=s0,pue=1,fue=2,mue=4,dC="[object Arguments]",gue="[object Array]",yue="[object Boolean]",vue="[object Date]",_ue="[object Error]",hC="[object Function]",bue="[object GeneratorFunction]",Tue="[object Map]",wue="[object Number]",pC="[object Object]",kue="[object RegExp]",Sue="[object Set]",xue="[object String]",Eue="[object Symbol]",Cue="[object WeakMap]",Aue="[object ArrayBuffer]",Lue="[object DataView]",Iue="[object Float32Array]",Mue="[object Float64Array]",Due="[object Int8Array]",Pue="[object Int16Array]",Oue="[object Int32Array]",Rue="[object Uint8Array]",Nue="[object Uint8ClampedArray]",Bue="[object Uint16Array]",Fue="[object Uint32Array]",Gt={};Gt[dC]=Gt[gue]=Gt[Aue]=Gt[Lue]=Gt[yue]=Gt[vue]=Gt[Iue]=Gt[Mue]=Gt[Due]=Gt[Pue]=Gt[Oue]=Gt[Tue]=Gt[wue]=Gt[pC]=Gt[kue]=Gt[Sue]=Gt[xue]=Gt[Eue]=Gt[Rue]=Gt[Nue]=Gt[Bue]=Gt[Fue]=!0;Gt[_ue]=Gt[hC]=Gt[Cue]=!1;function hh(t,e,n,r,i,s){var a,o=e&pue,l=e&fue,u=e&mue;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!uue(t))return t;var c=aue(t);if(c){if(a=rue(t),!o)return Qle(t,a)}else{var d=nue(t),p=d==hC||d==bue;if(oue(t))return Xle(t,o);if(d==pC||d==dC||p&&!i){if(a=l||p?{}:sue(t),!o)return l?Jle(t,Kle(a,t)):Zle(t,Yle(a,t))}else{if(!Gt[d])return i?t:{};a=iue(t,d,o)}}s||(s=new Wle);var f=s.get(t);if(f)return f;s.set(t,a),cue(t)?t.forEach(function(S){a.add(hh(S,e,n,S,t,s))}):lue(t)&&t.forEach(function(S,E){a.set(E,hh(S,e,n,E,t,s))});var y=u?l?tue:eue:l?hue:due,b=c?void 0:y(t);return zle(b||t,function(S,E){b&&(E=S,S=t[E]),Gle(a,E,hh(S,e,n,E,t,s))}),a}var Uue=hh,jue=da,$ue=$p,Hue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vue=/^\w*$/;function que(t,e){if(jue(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$ue(t)?!0:Vue.test(t)||!Hue.test(t)||e!=null&&t in Object(e)}var Wue=que,fC=Cv,zue="Expected a function";function c0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zue);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(c0.Cache||fC),n}c0.Cache=fC;var Gue=c0,Yue=Gue,Kue=500;function Xue(t){var e=Yue(t,function(r){return n.size===Kue&&n.clear(),r}),n=e.cache;return e}var Que=Xue,Zue=Que,Jue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ece=/\\(\\)?/g,tce=Zue(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Jue,function(n,r,i,s){e.push(i?s.replace(ece,"$1"):r||n)}),e}),nce=tce,rce=da,ice=Wue,sce=nce,ace=Hc;function oce(t,e){return rce(t)?t:ice(t,e)?[t]:sce(ace(t))}var d0=oce;function lce(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var uce=lce,cce=$p,dce=1/0;function hce(t){if(typeof t=="string"||cce(t))return t;var e=t+"";return e=="0"&&1/t==-dce?"-0":e}var mC=hce,pce=d0,fce=mC;function mce(t,e){e=pce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fce(e[n++])];return n&&n==r?t:void 0}var gC=mce,gce=gC,yce=ox;function vce(t,e){return e.length<2?t:gce(t,yce(e,0,-1))}var _ce=vce,bce=d0,Tce=uce,wce=_ce,kce=mC;function Sce(t,e){return e=bce(e,t),t=wce(t,e),t==null||delete t[kce(Tce(e))]}var xce=Sce,Ece=ro,Cce=l0,Ace=ha,Lce="[object Object]",Ice=Function.prototype,Mce=Object.prototype,yC=Ice.toString,Dce=Mce.hasOwnProperty,Pce=yC.call(Object);function Oce(t){if(!Ace(t)||Ece(t)!=Lce)return!1;var e=Cce(t);if(e===null)return!0;var n=Dce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yC.call(n)==Pce}var Rce=Oce,Nce=Rce;function Bce(t){return Nce(t)?void 0:t}var Fce=Bce,h1=jc,Uce=t0,jce=da,p1=h1?h1.isConcatSpreadable:void 0;function $ce(t){return jce(t)||Uce(t)||!!(p1&&t&&t[p1])}var Hce=$ce,Vce=o0,qce=Hce;function vC(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=qce),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?vC(o,e-1,n,r,i):Vce(i,o):r||(i[i.length]=o)}return i}var Wce=vC,zce=Wce;function Gce(t){var e=t==null?0:t.length;return e?zce(t,1):[]}var Yce=Gce;function Kce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Xce=Kce,Qce=Xce,f1=Math.max;function Zce(t,e,n){return e=f1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=f1(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),Qce(t,this,o)}}var Jce=Zce;function ede(t){return function(){return t}}var tde=ede;function nde(t){return t}var rde=nde,ide=tde,m1=QE,sde=rde,ade=m1?function(t,e){return m1(t,"toString",{configurable:!0,enumerable:!1,value:ide(e),writable:!0})}:sde,ode=ade,lde=800,ude=16,cde=Date.now;function dde(t){var e=0,n=0;return function(){var r=cde(),i=ude-(r-n);if(n=r,i>0){if(++e>=lde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hde=dde,pde=ode,fde=hde,mde=fde(pde),gde=mde,yde=Yce,vde=Jce,_de=gde;function bde(t){return _de(vde(t,void 0,yde),t+"")}var Tde=bde,wde=ix,kde=Uue,Sde=xce,xde=d0,Ede=Yc,Cde=Fce,Ade=Tde,Lde=uC,Ide=1,Mde=2,Dde=4,Pde=Ade(function(t,e){var n={};if(t==null)return n;var r=!1;e=wde(e,function(s){return s=xde(s,t),r||(r=s.length>1),s}),Ede(t,Lde(t),n),r&&(n=kde(n,Ide|Mde|Dde,Cde));for(var i=e.length;i--;)Sde(n,e[i]);return n}),Ode=Pde;const Rde=yr(Ode),Nde={__name:"SectionHeader",props:{theme:{type:String,default:"white"},level:{type:Number,default:0}},setup(t){const e=t,n=Et("sectionLevel",1),r=U(()=>Number(e.level||n)),i=U(()=>["section-header",`section-header${r.value}`]),s=U(()=>r.value>=1&&r.value<=6?`h${r.value}`:"h6");return(a,o)=>(m(),oe(Lt(s.value),{class:Oe(i.value)},{default:Ie(()=>[We(a.$slots,"default",{},void 0,!0)]),_:3},8,["class"]))}},ef=Me(Nde,[["__scopeId","data-v-543c1eb7"]]);function Bde(t){return t.replace("&","").replace(/\s+/g," ").trim().toLowerCase().replace(/ /g,"-")}const Fde=["id"],Ude={key:1,class:"section-header"},jde={__name:"SectionWrapper",props:{sectionTitle:{type:String,default:""},sectionSummary:{type:String,default:""},theme:{type:String,default:"white"},level:{type:Number,default:0},noMargins:{type:Boolean,default:!1}},setup(t){const e=t,n=Et("sectionLevel",1),r=Et("ancestorSetMargins",!1),i=U(()=>Number(e.level||n+1)),s=U(()=>!(e.noMargins||r));Dn("sectionLevel",i.value),Dn("ancestorSetMargins",r||s.value);const a=U(()=>["section-wrapper",`section-wrapper${i.value}`,`theme-${e.theme}`,{"top-level":s.value}]),o=U(()=>Bde(e.sectionTitle));return(l,u)=>(m(),T("section",{class:Oe(a.value)},[t.sectionTitle?(m(),T("a",{key:0,id:o.value},null,8,Fde)):P("",!0),t.sectionTitle?(m(),T("div",Ude,[t.sectionTitle?(m(),oe(ef,{key:0,class:"section-title",textContent:ye(t.sectionTitle)},null,8,["textContent"])):P("",!0),t.sectionSummary?(m(),oe(ir,{key:1,class:"section-summary",innerHTML:t.sectionSummary},null,8,["innerHTML"])):P("",!0)])):P("",!0),We(l.$slots,"default",{},void 0,!0)],2))}},Ju=Me(jde,[["__scopeId","data-v-edfb3f5e"]]),$de={__name:"FlexibleBlocks",props:{blocks:{type:Array,default:()=>[]}},setup(t){const e=t,n=Re(()=>Promise.resolve().then(()=>Yre)),r=Re(()=>Promise.resolve().then(()=>Qre)),i=Re(()=>Ne(()=>Promise.resolve().then(()=>Txe),void 0,import.meta.url)),s=Re(()=>Promise.resolve().then(()=>Zde)),a=Re(()=>Promise.resolve().then(()=>ahe)),o=Re(()=>Promise.resolve().then(()=>The)),l=Re(()=>Promise.resolve().then(()=>Ahe)),u=Re(()=>Promise.resolve().then(()=>Hhe)),c=Re(()=>Promise.resolve().then(()=>Spe)),d=Re(()=>Promise.resolve().then(()=>Vbe)),p=Re(()=>Promise.resolve().then(()=>Zbe)),f=Re(()=>Promise.resolve().then(()=>oTe)),y=Re(()=>Promise.resolve().then(()=>dTe)),b=Re(()=>Ne(()=>Promise.resolve().then(()=>wxe),void 0,import.meta.url)),S={"flexible-associated-topic-cards":n,"flexible-banner-featured":r,"flexible-call-to-action":i,"flexible-card-with-image":s,"flexible-form":a,"flexible-grid-gallery-cards":o,"flexible-highlight":l,"flexible-impact-number-cards":u,"flexible-impact-numbers-carousel":c,"flexible-media-gallery":d,"flexible-media-with-text":p,"flexible-pull-quote":f,"flexible-rich-text":y,"flexible-simple-cards":b},E=["flexible-associated-topic-cards","flexible-banner-featured","flexible-divider-general","flexible-form","flexible-impact-numbers-carousel","flexible-pull-quote","flexible-simple-cards","flexible-call-to-action","flexible-cta-block2-up","flexible-impact-number-cards","flexible-grid-gallery-cards"],x=U(()=>{const q=e.blocks.map(j=>({...j,componentName:k(j.typeHandle),theme:"white",needsDivider:!1}));return q.forEach((j,W,Y)=>{W>0&&Y[W-1].theme==="white"&&!E.includes(j.componentName)&&W<Y.length-1&&(j.theme="gray"),W>0&&j.theme==="white"&&Y[W-1].theme==="white"&&(j.needsDivider=!0)}),q.filter(j=>Object.keys(S).includes(j.componentName))});function k(q){return GE(`flexible-${q}`)}function L(q){return q.mediaGalleryStyle!==void 0}function A(q){return L(q)&&q.mediaGalleryStyle==="halfWidth"?"":q.sectionTitle}function D(q){return q.mediaGalleryStyle==="halfWidth"?"":q.sectionSummary||q.richTextSimplified}function M(q){return S[q]}return(q,j)=>(m(),oe(Ju,{class:"flexible-blocks","no-margins":!0},{default:Ie(()=>[ae(ef,{class:"more-information"},{default:Ie(()=>[tt(" More Information ")]),_:1}),(m(!0),T(we,null,Fe(x.value,(W,Y)=>(m(),T("div",{key:`flexibleblocks-${Y}`},[W.needsDivider?(m(),oe(Ju,{key:0,theme:"divider"},{default:Ie(()=>[ae(vc)]),_:1})):P("",!0),ae(Ju,{theme:W.theme,"section-title":A(W),"section-summary":D(W)},{default:Ie(()=>[(m(),oe(Lt(M(W.componentName)),{block:W.mediaGalleryStyle==="halfWidth"?W:$(Rde)(W,["sectionTitle","sectionSummary"]),class:"flexible-block"},null,8,["block"]))]),_:2},1032,["theme","section-title","section-summary"])]))),128))]),_:1}))}},Hde=Me($de,[["__scopeId","data-v-da9e0cfc"]]),_C=Be({__name:"CallToAction",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>e.callToAction[0]);return(r,i)=>(m(),oe(Lv,{class:"cta-block-content-width",to:n.value.buttonUrl,name:n.value.buttonText,title:n.value.titleCta,text:n.value.summary,"svg-name":n.value.icon,"is-dark":n.value.backgroundColor==="true"},null,8,["to","name","title","text","svg-name","is-dark"]))}});var Vde=gC;function qde(t,e,n){var r=t==null?void 0:Vde(t,e);return r===void 0?n:r}var Wde=qde;const ft=yr(Wde),zde={key:0,class:"card-with-image"},Gde={class:"section-header"},Yde={key:0,class:"section-title"},Kde=["innerHTML"],Xde={class:"block-group"},Qde=Be({__name:"CardWithImage",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>{const i=[];for(const s in e.cardWithImage)e.cardWithImage[s].typeHandle==="internalContent"&&e.cardWithImage[s].contentLink&&e.cardWithImage[s].contentLink.length>0?i.push(e.cardWithImage[s].contentLink[0]):e.cardWithImage[s].typeHandle!=="internalContent"&&i.push(e.cardWithImage[s]);return i}),r=U(()=>n.value.filter(i=>i!==null).map(i=>i.typeHandle!=="externalContent"&&i.contentType.includes("article")?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),parsedLocation:ft(i,"associatedLocations",[]),parsedCategory:ft(i,"articleCategory[0].title",""),byline1:ft(i,"articleByline1[0].title",""),byline2:i.articleByline2!==null?no(i.articleByline2,i.articleByline2):""}:i.typeHandle!=="externalContent"&&i.contentType.includes("meapProject")?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),parsedLocation:ft(i,"projectLocations",[]),parsedCategory:ft(i,"projectCategory",""),byline1:ft(i,"projectByline1[0].title","")}:i.typeHandle!=="externalContent"&&i.contentType==="event"?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),parsedLocation:ft(i,"associatedLocations",[]),parsedCategory:ft(i,"eventType.title",""),startDate:ft(i,"startDateWithTime",""),endDate:ft(i,"endDateWithTime",""),text:ft(i,"eventDescription","")}:i.typeHandle!=="externalContent"&&(i.contentType==="exhibition"||!0)?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),parsedLocation:ft(i,"associatedLocations",[]),startDate:ft(i,"startDate",""),endDate:ft(i,"endDate","")}:i.typeHandle==="externalContent"?{...i,parsedImage:ft(i,"image[0]",void 0),parsedCategory:ft(i,"category","")}:{...i,parsedImage:ft(i,"heroImage[0].image[0]",void 0),to:dr(i.to)}));return(i,s)=>t.block.cardWithImage?(m(),T("div",zde,[I("div",Gde,[t.block.sectionTitle?(m(),T("h2",Yde,ye(t.block.sectionTitle),1)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,Kde)):P("",!0)]),I("ul",Xde,[(m(!0),T(we,null,Fe(r.value,(a,o)=>(m(),oe(Mv,{key:`FlexibleCardWithImage${o}`,to:a.to,image:a.parsedImage,category:a.parsedCategory,"byline-one":a.byline1,"byline-two":a.byline2,title:a.title,text:a.text,locations:a.parsedLocation,"image-aspect-ratio":60,"is-vertical":!0,"start-date":a.startDate,"end-date":a.endDate,"section-handle":a.contentType,ongoing:a.ongoing,class:"block"},null,8,["to","image","category","byline-one","byline-two","title","text","locations","start-date","end-date","section-handle","ongoing"]))),128))])])):P("",!0)}}),bC=Me(Qde,[["__scopeId","data-v-869faadf"]]),Zde=Object.freeze(Object.defineProperty({__proto__:null,default:bC},Symbol.toStringTag,{value:"Module"})),Jde={class:"form"},ehe={class:"section-header"},the=["innerHTML"],nhe=["innerHTML"],rhe={class:"content"},ihe=["srcdoc"],she=Be({__name:"Form",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>e.form);return(r,i)=>(m(),T("div",Jde,[I("div",ehe,[t.block.sectionTitle?(m(),T("h2",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,the)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,nhe)):P("",!0)]),I("div",rhe,[I("iframe",{id:"the-iframe",title:"Form",refs:"form_iframe",class:"iframe",srcdoc:n.value,frameBorder:"0",width:"100%",height:"100%",onload:"this.width=screen.width;this.height=screen.height;"},null,8,ihe)])]))}}),TC=Me(she,[["__scopeId","data-v-fddd6ccc"]]),ahe=Object.freeze(Object.defineProperty({__proto__:null,default:TC},Symbol.toStringTag,{value:"Module"})),ohe={class:"grid-gallery"},lhe={class:"cards"},uhe={key:0,class:"title"},che=["innerHTML"],dhe={key:2,class:"section-text"},hhe={class:"text"},phe={key:0,class:"title"},fhe=["innerHTML"],mhe=Be({__name:"GridGallery",props:{items:{type:Array,default:()=>[]}},setup(t){const{items:e}=t,n=U(()=>e.map(r=>{let i="card ";return r.featured&&r.snippet?i=`${i}card-featured`:r.featured&&!r.snippet?i=`${i}card-4up`:i=`${i}card-small`,{...r,classes:i}}));return(r,i)=>(m(),T("div",ohe,[I("ul",lhe,[(m(!0),T(we,null,Fe(n.value,s=>(m(),T("li",{key:s.to,class:Oe(s.classes)},[ae(Fn,{media:s.image,"aspect-ratio":60,"object-fit":"cover"},null,8,["media"]),s.headlineText&&(s.featured&&!s.snippet||!s.featured)?(m(),T("h5",uhe,[ae(pt,{to:s.to,"link-target":"_blank",class:"link"},{default:Ie(()=>[tt(ye(s.headlineText),1)]),_:2},1032,["to"])])):P("",!0),!s.featured&&s.snippet?(m(),T("div",{key:1,class:"snippet",innerHTML:s.snippet},null,8,che)):P("",!0),s.featured&&s.snippet?(m(),T("div",dhe,[I("div",hhe,[s.headlineText?(m(),T("h5",phe,[ae(pt,{to:s.to,"link-target":"_blank",class:"link"},{default:Ie(()=>[tt(ye(s.headlineText),1)]),_:2},1032,["to"])])):P("",!0),I("div",{class:"snippet",innerHTML:s.snippet},null,8,fhe)])])):P("",!0)],2))),128))])]))}}),wC=Me(mhe,[["__scopeId","data-v-a055b0cb"]]),ghe={class:"grid-gallery-cards"},yhe={key:0,class:"section-header"},vhe=["innerHTML"],_he=["innerHTML"],bhe=Be({__name:"GridGalleryCards",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t;function n(i){const s=[];for(const a of i.gridGalleryCards){const o={};o.headlineText=a.contentLink&&a.contentLink[0]?a.contentLink[0].headlineText:a.headlineText,o.snippet=a.contentLink&&a.contentLink[0]?a.contentLink[0].snippet:a.snippet,o.featured=a.featured==="true",o.to=dr(a.contentLink&&a.contentLink[0]?a.contentLink[0].to:a.to),o.image=a.contentLink&&a.contentLink[0]&&a.contentLink[0].heroImage?a.contentLink[0].heroImage[0].image[0]:a.image?a.image[0]:{},s.push(o)}return s}const r=U(()=>n(e));return(i,s)=>(m(),T("div",ghe,[t.block.gridGalleryCards&&t.block.gridGalleryCards.length>0||t.block.sectionTitle?(m(),T("div",yhe,[t.block.sectionTitle?(m(),T("h2",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,vhe)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,_he)):P("",!0)])):P("",!0),t.block.gridGalleryCards&&t.block.gridGalleryCards.length>0?(m(),oe(wC,{key:1,class:"section-summary",items:r.value},null,8,["items"])):P("",!0)]))}}),kC=Me(bhe,[["__scopeId","data-v-13926fda"]]),The=Object.freeze(Object.defineProperty({__proto__:null,default:kC},Symbol.toStringTag,{value:"Module"})),whe={class:"section-teaser-highlight"},khe={class:"section-header"},She=["innerHTML"],xhe=["innerHTML"],Ehe={class:"block-group"},Che=Be({__name:"Highlight",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>{const i=[];for(const s in e.highlight)e.highlight[s].typeHandle==="internalContent"?i.push(e.highlight[s].contentLink[0]):i.push(e.highlight[s]);return i}),r=U(()=>n.value.filter(i=>i!==null).map(i=>i.typeHandle!=="externalContent"&&i.contentType.includes("article")?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),locations:ft(i,"associatedLocations",void 0),category:ft(i,"articleCategory[0].title",""),byline1:ft(i,"articleByline1[0].title",""),byline2:i.articleByline2!=null?no(i.articleByline2,i.articleByline2):""}:i.typeHandle!=="externalContent"&&i.contentType.includes("meapProject")?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),locations:ft(i,"projectLocations",void 0),category:ft(i,"projectCategory",""),byline1:ft(i,"projectByline1[0].title","")}:i.typeHandle!=="externalContent"&&i.contentType==="event"?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),locations:ft(i,"associatedLocations",void 0),category:ft(i,"eventType.title",""),startDate:ft(i,"startDateWithTime",""),endDate:ft(i,"endDateWithTime",""),text:ft(i,"eventDescription","")}:i.typeHandle!=="externalContent"&&(i.contentType==="exhibition"||!0)?{...i,to:dr(i.to),parsedImage:ft(i,"heroImage[0].image[0]",void 0),locations:ft(i,"associatedLocations",void 0),startDate:ft(i,"startDate",""),endDate:ft(i,"endDate","")}:i.typeHandle==="externalContent"?{...i,parsedImage:ft(i,"image[0]",void 0),category:ft(i,"category","")}:{...i,parsedImage:ft(i,"heroImage[0].image[0]",void 0),to:dr(i.to)}));return(i,s)=>(m(),T("section",whe,[I("div",khe,[t.block.sectionTitle?(m(),T("h2",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,She)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,xhe)):P("",!0)]),I("ul",Ehe,[(m(!0),T(we,null,Fe(r.value,(a,o)=>(m(),oe(Dv,{key:`FlexibleHighlight${o}`,to:a.to,image:a.parsedImage,category:a.category,"byline-one":a.byline1,"byline-two":a.byline2,title:a.title,text:a.text,locations:a.locations,"start-date":a.startDate,"end-date":a.endDate,"section-handle":a.contentType,ongoing:a.ongoing,"has-triangle":!0,"is-vertical":!0,class:"block"},null,8,["to","image","category","byline-one","byline-two","title","text","locations","start-date","end-date","section-handle","ongoing"]))),128))])]))}}),SC=Me(Che,[["__scopeId","data-v-fc808ff2"]]),Ahe=Object.freeze(Object.defineProperty({__proto__:null,default:SC},Symbol.toStringTag,{value:"Module"})),Lhe={name:"ImpactNumberCard",props:{title:{type:String,default:""},text:{type:String,default:""},impactNumber:{type:String,default:""}}},Ihe={class:"impact-number-card"},Mhe={class:"card"},Dhe=["innerHTML"],Phe=["innerHTML"],Ohe=["innerHTML"];function Rhe(t,e,n,r,i,s){return m(),T("li",Ihe,[I("div",Mhe,[n.impactNumber?(m(),T("div",{key:0,class:"impact-number",innerHTML:n.impactNumber},null,8,Dhe)):P("",!0),n.title?(m(),T("div",{key:1,class:"title",innerHTML:n.title},null,8,Phe)):P("",!0)]),n.text?(m(),T("div",{key:0,class:"text",innerHTML:n.text},null,8,Ohe)):P("",!0)])}const xC=Me(Lhe,[["render",Rhe],["__scopeId","data-v-f2b0f22d"]]),Nhe={class:"impact-number-cards"},Bhe={class:"section-header"},Fhe=["innerHTML"],Uhe=["innerHTML"],jhe={class:"impact-number-cards-list"},$he=Be({__name:"ImpactNumberCards",props:{block:{type:Object,default:()=>{}}},setup(t){return(e,n)=>(m(),T("div",Nhe,[I("div",Bhe,[t.block.sectionTitle?(m(),T("h3",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,Fhe)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,Uhe)):P("",!0)]),I("ul",jhe,[(m(!0),T(we,null,Fe(t.block.impactNumberCards,(r,i)=>(m(),oe(xC,{key:`impactNumberCards${i}`,title:r.title,text:r.text,"impact-number":r.impactNumber,class:"flexible-impact-number-card"},null,8,["title","text","impact-number"]))),128))])]))}}),EC=Me($he,[["__scopeId","data-v-00f03cb9"]]),Hhe=Object.freeze(Object.defineProperty({__proto__:null,default:EC},Symbol.toStringTag,{value:"Module"}));/**
 * Vue 3 Carousel 0.3.3
 * (c) 2024
 * @license MIT
 */const Gn={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},g1={itemsToShow:{default:Gn.itemsToShow,type:Number},itemsToScroll:{default:Gn.itemsToScroll,type:Number},wrapAround:{default:Gn.wrapAround,type:Boolean},throttle:{default:Gn.throttle,type:Number},snapAlign:{default:Gn.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:Gn.transition,type:Number},breakpoints:{default:Gn.breakpoints,type:Object},autoplay:{default:Gn.autoplay,type:Number},pauseAutoplayOnHover:{default:Gn.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:Gn.mouseDrag,type:Boolean},touchDrag:{default:Gn.touchDrag,type:Boolean},dir:{default:Gn.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:Gn.i18n,type:Object},settings:{default(){return{}},type:Object}};function Vhe({config:t,slidesCount:e}){const{snapAlign:n,wrapAround:r,itemsToShow:i=1}=t;if(r)return Math.max(e-1,0);let s;switch(n){case"start":s=e-i;break;case"end":s=e-1;break;case"center":case"center-odd":s=e-Math.ceil((i-.5)/2);break;case"center-even":s=e-Math.ceil(i/2);break;default:s=0;break}return Math.max(s,0)}function qhe({config:t,slidesCount:e}){const{wrapAround:n,snapAlign:r,itemsToShow:i=1}=t;let s=0;if(n||i>e)return s;switch(r){case"start":s=0;break;case"end":s=i-1;break;case"center":case"center-odd":s=Math.floor((i-1)/2);break;case"center-even":s=Math.floor((i-2)/2);break;default:s=0;break}return s}function uy({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,n),e)}function Whe({config:t,currentSlide:e,slidesCount:n}){const{snapAlign:r,wrapAround:i,itemsToShow:s=1}=t;let a=e;switch(r){case"center":case"center-odd":a-=(s-1)/2;break;case"center-even":a-=(s-2)/2;break;case"end":a-=s-1;break}return i?a:uy({val:a,max:n-s,min:0})}function CC(t){return t?t.reduce((e,n)=>{var r;return n.type===we?[...e,...CC(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...e,n]:e},[]):[]}function cy({val:t,max:e,min:n=0}){return t>e?cy({val:t-(e+1),max:e,min:n}):t<n?cy({val:t+(e+1),max:e,min:n}):t}function zhe(t,e){let n;return e?function(...r){const i=this;n||(t.apply(i,r),n=!0,setTimeout(()=>n=!1,e))}:t}function Ghe(t,e){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}}function Yhe(t="",e={}){return Object.entries(e).reduce((n,[r,i])=>n.replace(`{${r}}`,String(i)),t)}var Khe=Be({name:"ARIA",setup(){const t=Et("config",xn(Object.assign({},Gn))),e=Et("currentSlide",de(0)),n=Et("slidesCount",de(0));return()=>sn("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Yhe(t.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:n.value}))}}),AC=Be({name:"Carousel",props:g1,setup(t,{slots:e,emit:n,expose:r}){var i;const s=de(null),a=de([]),o=de(0),l=de(0),u=xn(Object.assign({},Gn));let c=Object.assign({},Gn),d;const p=de((i=t.modelValue)!==null&&i!==void 0?i:0),f=de(0),y=de(0),b=de(0),S=de(0);let E,x;Dn("config",u),Dn("slidesCount",l),Dn("currentSlide",p),Dn("maxSlide",b),Dn("minSlide",S),Dn("slideWidth",o);function k(){d=Object.assign({},t.breakpoints),c=Object.assign(Object.assign(Object.assign({},c),t),{i18n:Object.assign(Object.assign({},c.i18n),t.i18n),breakpoints:void 0}),A(c)}function L(){if(!d||!Object.keys(d).length)return;const N=Object.keys(d).map(ee=>Number(ee)).sort((ee,me)=>+me-+ee);let Q=Object.assign({},c);N.some(ee=>{const me=window.matchMedia(`(min-width: ${ee}px)`).matches;return me&&(Q=Object.assign(Object.assign({},Q),d[ee])),me}),A(Q)}function A(N){Object.entries(N).forEach(([Q,ee])=>u[Q]=ee)}const D=Ghe(()=>{L(),q(),M()},16);function M(){if(!s.value)return;const N=s.value.getBoundingClientRect();o.value=N.width/u.itemsToShow}function q(){l.value<=0||(y.value=Math.ceil((l.value-1)/2),b.value=Vhe({config:u,slidesCount:l.value}),S.value=qhe({config:u,slidesCount:l.value}),u.wrapAround||(p.value=uy({val:p.value,max:b.value,min:S.value})))}Ht(()=>{on(()=>M()),setTimeout(()=>M(),1e3),L(),$e(),window.addEventListener("resize",D,{passive:!0}),n("init")}),ua(()=>{x&&clearTimeout(x),E&&clearInterval(E),window.removeEventListener("resize",D,{passive:!0})});let j=!1;const W={x:0,y:0},Y={x:0,y:0},re=xn({x:0,y:0}),le=de(!1),F=de(!1),R=()=>{le.value=!0},H=()=>{le.value=!1};function B(N){["INPUT","TEXTAREA","SELECT"].includes(N.target.tagName)||(j=N.type==="touchstart",j||N.preventDefault(),!(!j&&N.button!==0||ie.value)&&(W.x=j?N.touches[0].clientX:N.clientX,W.y=j?N.touches[0].clientY:N.clientY,document.addEventListener(j?"touchmove":"mousemove",se,!0),document.addEventListener(j?"touchend":"mouseup",Te,!0)))}const se=zhe(N=>{F.value=!0,Y.x=j?N.touches[0].clientX:N.clientX,Y.y=j?N.touches[0].clientY:N.clientY;const Q=Y.x-W.x,ee=Y.y-W.y;re.y=ee,re.x=Q},u.throttle);function Te(){const N=u.dir==="rtl"?-1:1,Q=Math.sign(re.x)*.4,ee=Math.round(re.x/o.value+Q)*N;if(ee&&!j){const me=J=>{window.removeEventListener("click",me,!0)};window.addEventListener("click",me,!0)}Se(p.value-ee),re.x=0,re.y=0,F.value=!1,document.removeEventListener(j?"touchmove":"mousemove",se,!0),document.removeEventListener(j?"touchend":"mouseup",Te,!0)}function $e(){!u.autoplay||u.autoplay<=0||(E=setInterval(()=>{u.pauseAutoplayOnHover&&le.value||X()},u.autoplay))}function ze(){E&&(clearInterval(E),E=null),$e()}const ie=de(!1);function Se(N){const Q=u.wrapAround?N:uy({val:N,max:b.value,min:S.value});p.value===Q||ie.value||(n("slide-start",{slidingToIndex:N,currentSlideIndex:p.value,prevSlideIndex:f.value,slidesCount:l.value}),ie.value=!0,f.value=p.value,p.value=Q,x=setTimeout(()=>{if(u.wrapAround){const ee=cy({val:Q,max:b.value,min:0});ee!==p.value&&(p.value=ee,n("loop",{currentSlideIndex:p.value,slidingToIndex:N}))}n("update:modelValue",p.value),n("slide-end",{currentSlideIndex:p.value,prevSlideIndex:f.value,slidesCount:l.value}),ie.value=!1,ze()},u.transition))}function X(){Se(p.value+u.itemsToScroll)}function be(){Se(p.value-u.itemsToScroll)}const je={slideTo:Se,next:X,prev:be};Dn("nav",je),Dn("isSliding",ie);const V=U(()=>Whe({config:u,currentSlide:p.value,slidesCount:l.value}));Dn("slidesToScroll",V);const ve=U(()=>{const N=u.dir==="rtl"?-1:1,Q=V.value*o.value*N;return{transform:`translateX(${re.x-Q}px)`,transition:`${ie.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${l.value*o.value}px`:"",width:"100%"}});function Ee(){k(),L(),q(),M(),ze()}Object.keys(g1).forEach(N=>{["modelValue"].includes(N)||St(()=>t[N],Ee)}),St(()=>t.modelValue,N=>{N!==p.value&&Se(Number(N))}),St(l,q),n("before-init"),k();const ue={config:u,slidesCount:l,slideWidth:o,next:X,prev:be,slideTo:Se,currentSlide:p,maxSlide:b,minSlide:S,middleSlide:y};r({updateBreakpointsConfigs:L,updateSlidesData:q,updateSlideWidth:M,initDefaultConfigs:k,restartCarousel:Ee,slideTo:Se,next:X,prev:be,nav:je,data:ue});const Ge=e.default||e.slides,K=e.addons,O=xn(ue);return()=>{const N=CC(Ge==null?void 0:Ge(O)),Q=(K==null?void 0:K(O))||[];N.forEach((fe,he)=>fe.props.index=he);let ee=N;if(u.wrapAround){const fe=N.map((Le,Ce)=>yi(Le,{index:-N.length+Ce,isClone:!0,key:`clone-before-${Ce}`})),he=N.map((Le,Ce)=>yi(Le,{index:N.length+Ce,isClone:!0,key:`clone-after-${Ce}`}));ee=[...fe,...N,...he]}a.value=N,l.value=Math.max(N.length,1);const me=sn("ol",{class:"carousel__track",style:ve.value,onMousedownCapture:u.mouseDrag?B:null,onTouchstartPassiveCapture:u.touchDrag?B:null},ee),J=sn("div",{class:"carousel__viewport"},me);return sn("section",{ref:s,class:{carousel:!0,"is-sliding":ie.value,"is-dragging":F.value,"is-hover":le.value,"carousel--rtl":u.dir==="rtl"},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:R,onMouseleave:H},[J,Q,sn(Khe)])}}}),y1;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(y1||(y1={}));var LC=Be({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=Et("config",xn(Object.assign({},Gn))),r=Et("currentSlide",de(0)),i=Et("slidesToScroll",de(0)),s=Et("isSliding",de(!1)),a=U(()=>t.index===r.value),o=U(()=>t.index===r.value-1),l=U(()=>t.index===r.value+1),u=U(()=>{const c=Math.floor(i.value),d=Math.ceil(i.value+n.itemsToShow-1);return t.index>=c&&t.index<=d});return()=>{var c;return sn("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":u.value,"carousel__slide--active":a.value,"carousel__slide--prev":o.value,"carousel__slide--next":l.value,"carousel__slide--sliding":s.value},"aria-hidden":!u.value},(c=e.default)===null||c===void 0?void 0:c.call(e,{isActive:a.value,isClone:t.isClone,isPrev:o.value,isNext:l.value,isSliding:s.value,isVisible:u.value}))}}});const Xhe={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-arrow-left"},Qhe=I("g",{stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},[I("path",{d:"M23 16.8645H9.75"}),I("path",{d:"m16 23.8645-7-7 7-7"})],-1),Zhe=[Qhe];function Jhe(t,e){return m(),T("svg",Xhe,[...Zhe])}const epe={render:Jhe},tpe={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg_icon-molecule-bullet"},npe=I("path",{d:"M15.8977 10L20.068 11.7574L21.7954 16L20.068 20.2426L15.8977 22L11.7274 20.2426L10 16L11.7274 11.7574L15.8977 10Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"},null,-1),rpe=I("path",{d:"M12.1124 12.1377L15.8977 10.5426L19.683 12.1377L21.2556 16L19.683 19.8623L15.8977 21.4574L12.1124 19.8623L10.5399 16L12.1124 12.1377Z",stroke:"#0B6AB7",class:"svg__stroke--primary-blue-03"},null,-1),ipe=[npe,rpe];function spe(t,e){return m(),T("svg",tpe,[...ipe])}const IC={render:spe},ape=t=>(Ot("data-v-0c60395c"),t=t(),Rt(),t),ope={class:"impact-numbers-carousel"},lpe={class:"slide-indicator"},upe={class:"slide-image"},cpe={class:"impact-numbers-text-container"},dpe={class:"impactNumber"},hpe={class:"impactText"},ppe={class:"small-descriptor"},fpe={class:"controls"},mpe=["disabled"],gpe=["disabled"],ype=ape(()=>I("div",{role:"tablist",class:"dots"},null,-1)),vpe=Be({__name:"ImpactNumbersCarousel",props:{blocks:{type:Array,default:()=>[],required:!0}},setup(t){const e=de(0);function n(i){if(i===e.value)return"current-slide"}function r(i){e.value=i}return(i,s)=>(m(),T("div",ope,[I("div",lpe,[(m(!0),T(we,null,Fe(t.blocks,(a,o)=>(m(),oe($(IC),{key:a.largeText,class:Oe(n(o)),onClick:l=>r(o)},null,8,["class","onClick"]))),128))]),ae($(AC),{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a)},{default:Ie(()=>[(m(!0),T(we,null,Fe(t.blocks,a=>(m(),oe($(LC),{key:a.largeText},{default:Ie(()=>[I("div",upe,[ae(Fn,{media:a.image[0]},null,8,["media"])]),I("div",cpe,[I("span",dpe,ye(a.largeText),1),I("span",hpe,ye(a.mediumText),1)]),I("div",ppe,ye(a.smallDescriptor),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),I("div",fpe,[I("button",{"data-glide-dir":"<",disabled:e.value<=0,onClick:s[1]||(s[1]=a=>e.value-=1)},[ae($(epe),{"aria-label":"Go to previous item",class:"prev-control"})],8,mpe),I("button",{"data-glide-dir":">",disabled:e.value>=t.blocks.length-1,onClick:s[2]||(s[2]=a=>e.value+=1)},[ae($(Qa),{"aria-label":"Go to next item"})],8,gpe)]),ype]))}}),MC=Me(vpe,[["__scopeId","data-v-0c60395c"]]),_pe={key:0,class:"impact-numbers-carousel"},bpe={class:"section-header"},Tpe=["textContent"],wpe=["innerHTML"],kpe=Be({__name:"ImpactNumbersCarousel",props:{block:{type:Object,default:()=>{}}},setup(t){return(e,n)=>t.block?(m(),T("div",_pe,[I("div",bpe,[t.block.sectionTitle?(m(),T("h2",{key:0,class:"section-title",textContent:ye(t.block.sectionTitle)},null,8,Tpe)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,wpe)):P("",!0)]),ae(MC,{blocks:t.block.blocks},null,8,["blocks"])])):P("",!0)}}),DC=Me(kpe,[["__scopeId","data-v-257824af"]]),Spe=Object.freeze(Object.defineProperty({__proto__:null,default:DC},Symbol.toStringTag,{value:"Module"})),xpe={width:"128",height:"128",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-image-stack"},Epe=I("path",{d:"m64 0 45.255 18.745L128 64l-18.745 45.255L64 128l-45.255-18.745L0 64l18.745-45.255L64 0Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"},null,-1),Cpe=I("path",{d:"M40.97 51.901v-2.93h46.058v30.705h-2.85",stroke:"#fff","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--white"},null,-1),Ape=I("path",{d:"M43.943 48.992V46h46.058v30.705h-2.788",stroke:"#fff","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--white"},null,-1),Lpe=I("path",{d:"M84.057 82.648H38V51.943h46.057v30.705Z",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--white"},null,-1),Ipe=[Epe,Cpe,Ape,Lpe];function Mpe(t,e){return m(),T("svg",xpe,[...Ipe])}const Dpe={render:Mpe};var Pu;typeof window<"u"?Pu=window:typeof zs<"u"?Pu=zs:typeof self<"u"?Pu=self:Pu={};var tf=Pu;const te=yr(tf),Ppe={},Ope=Object.freeze(Object.defineProperty({__proto__:null,default:Ppe},Symbol.toStringTag,{value:"Module"})),Rpe=e$(Ope);var v1=typeof zs<"u"?zs:typeof window<"u"?window:{},Npe=Rpe,Ou;typeof document<"u"?Ou=document:(Ou=v1["__GLOBAL_DOCUMENT_CACHE@4"],Ou||(Ou=v1["__GLOBAL_DOCUMENT_CACHE@4"]=Npe));var PC=Ou;const Ve=yr(PC);var dy={exports:{}};(function(t,e){function n(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),d=r[c.toLowerCase()];if(d)return d;var d=i[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(l,u){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;if(c==null)return!1;if(typeof u=="string"){var d=r[u.toLowerCase()];if(d)return d===c;var d=i[u.toLowerCase()];if(d)return d===c}else if(typeof u=="number")return u===c;return!1}},e=t.exports=n;var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a=e.names=e.title={};for(s in r)a[r[s]]=s;for(var o in i)r[o]=i[o]})(dy,dy.exports);var Bpe=dy.exports;const mt=yr(Bpe);var Fpe=Upe;function Upe(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(i){r=i}return[r,n]}const jpe=yr(Fpe);var h0={exports:{}},OC={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(OC);var $pe=OC.exports,Hpe=qpe,Vpe=Object.prototype.toString;function qpe(t){if(!t)return!1;var e=Vpe.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var Wpe=tf,zpe=function(t,e){return e===void 0&&(e=!1),function(n,r,i){if(n){t(n);return}if(r.statusCode>=400&&r.statusCode<=599){var s=i;if(e)if(Wpe.TextDecoder){var a=Gpe(r.headers&&r.headers["content-type"]);try{s=new TextDecoder(a).decode(i)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(i));t({cause:s});return}t(null,i)}};function Gpe(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var r=n.split("="),i=r[0],s=r[1];return i.trim()==="charset"?s.trim():e},"utf-8")}var Ype=zpe,RC=tf,Kpe=$pe,Xpe=Hpe;Fi.httpHandler=Ype;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Qpe=function(t){var e={};return t&&t.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),i=n.slice(0,r).trim().toLowerCase(),s=n.slice(r+1).trim();typeof e[i]>"u"?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}),e};h0.exports=Fi;h0.exports.default=Fi;Fi.XMLHttpRequest=RC.XMLHttpRequest||tfe;Fi.XDomainRequest="withCredentials"in new Fi.XMLHttpRequest?Fi.XMLHttpRequest:RC.XDomainRequest;Zpe(["get","put","post","patch","head","delete"],function(t){Fi[t==="delete"?"del":t]=function(e,n,r){return n=NC(e,n,r),n.method=t.toUpperCase(),BC(n)}});function Zpe(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Jpe(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function NC(t,e,n){var r=t;return Xpe(e)?(n=e,typeof t=="string"&&(r={uri:t})):r=Kpe({},e,{uri:t}),r.callback=n,r}function Fi(t,e,n){return e=NC(t,e,n),BC(e)}function BC(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(x,k,L){e||(e=!0,t.callback(x,k,L))};function r(){o.readyState===4&&setTimeout(a,0)}function i(){var x=void 0;if(o.response?x=o.response:x=o.responseText||efe(o),b)try{x=JSON.parse(x)}catch{}return x}function s(x){return clearTimeout(S),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,n(x,E)}function a(){if(!u){var x;clearTimeout(S),t.useXDR&&o.status===void 0?x=200:x=o.status===1223?204:o.status;var k=E,L=null;return x!==0?(k={body:i(),statusCode:x,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(k.headers=Qpe(o.getAllResponseHeaders()))):L=new Error("Internal XMLHttpRequest Error"),n(L,k,k.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Fi.XDomainRequest:o=new Fi.XMLHttpRequest);var l,u,c=o.url=t.uri||t.url,d=o.method=t.method||"GET",p=t.body||t.data,f=o.headers=t.headers||{},y=!!t.sync,b=!1,S,E={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(b=!0,f.accept||f.Accept||(f.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(t.json===!0?p:t.json))),o.onreadystatechange=r,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=s,o.open(d,c,!y,t.username,t.password),y||(o.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(S=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",s(x)}},t.timeout)),o.setRequestHeader)for(l in f)f.hasOwnProperty(l)&&o.setRequestHeader(l,f[l]);else if(t.headers&&!Jpe(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(p||null),o}function efe(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function tfe(){}var nfe=h0.exports;const FC=yr(nfe);var UC={exports:{}},_1=PC,p0=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function jr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}jr.prototype=p0(Error.prototype);jr.prototype.constructor=jr;jr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function f0(t){function e(r,i,s,a){return(r|0)*3600+(i|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function ec(){this.values=p0(null)}ec.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Ru(t,e,n,r){var i=r?t.split(r):[t];for(var s in i)if(typeof i[s]=="string"){var a=i[s].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function rfe(t,e,n){var r=t;function i(){var o=f0(t);if(o===null)throw new jr(jr.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new ec;Ru(o,function(c,d){switch(c){case"region":for(var p=n.length-1;p>=0;p--)if(n[p].id===d){u.set(c,n[p].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var f=d.split(","),y=f[0];u.integer(c,y),u.percent(c,y)&&u.set("snapToLines",!1),u.alt(c,y,["auto"]),f.length===2&&u.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),u.percent(c,f[0]),f.length===2&&u.alt("positionAlign",f[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.substr(0,3)!=="-->")throw new jr(jr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=i(),a(),s(t,e)}var Dm=_1.createElement&&_1.createElement("textarea"),ife={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b1={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},sfe={v:"title",lang:"lang"},T1={rt:"ruby"};function jC(t,e){function n(){if(!e)return null;function y(S){return e=e.substr(S.length),S}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return y(b[1]?b[1]:b[2])}function r(y){return Dm.innerHTML=y,y=Dm.textContent,Dm.textContent="",y}function i(y,b){return!T1[b.localName]||T1[b.localName]===y.localName}function s(y,b){var S=ife[y];if(!S)return null;var E=t.document.createElement(S),x=sfe[y];return x&&b&&(E[x]=b.trim()),E}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=f0(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var p=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p||(d=s(p[1],p[3]),!d)||!i(o,d))continue;if(p[2]){var f=p[2].split(".");f.forEach(function(y){var b=/^bg_/.test(y),S=b?y.slice(3):y;if(b1.hasOwnProperty(S)){var E=b?"background-color":"color",x=b1[S];d.style[E]=x}}),d.className=f.join(" ")}u.push(p[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var w1=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function afe(t){for(var e=0;e<w1.length;e++){var n=w1[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function ofe(t){var e=[],n="",r;if(!t||!t.childNodes)return"ltr";function i(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return i(o,l),s(o)}for(i(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(r=n.charCodeAt(a),afe(r))return"rtl";return"ltr"}function lfe(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)n[i].mode==="showing"&&r++;return++r*-1}function nf(){}nf.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};nf.prototype.formatStyle=function(t,e){return t===0?0:t+e};function zh(t,e,n){nf.call(this),this.cue=e,this.cueDiv=jC(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:ofe(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":case"line-left":i=e.position;break;case"center":i=e.position-e.size/2;break;case"end":case"line-right":i=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}zh.prototype=p0(nf.prototype);zh.prototype.constructor=zh;function hr(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}hr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};hr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};hr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};hr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};hr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};hr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*n;return r/(this.height*this.width)};hr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};hr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n};return i};function ufe(t,e,n,r){function i(S,E){for(var x,k=new hr(S),L=1,A=0;A<E.length;A++){for(;S.overlapsOppositeAxis(n,E[A])||S.within(n)&&S.overlapsAny(r);)S.move(E[A]);if(S.within(n))return S;var D=S.intersectPercentage(n);L>D&&(x=new hr(S),L=D),S=new hr(k)}return x||k}var s=new hr(e),a=e.cue,o=lfe(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,d=c*Math.round(o),p=n[u]+c,f=l[0];Math.abs(d)>p&&(d=d<0?-1:1,d*=Math.ceil(p/c)*c),o<0&&(d+=a.vertical===""?n.height:n.width,l=l.reverse()),s.move(f,d)}else{var y=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=y/2;break;case"end":o-=y;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new hr(e)}var b=i(s,l);e.move(b.toCSSCompatValues(n))}function Hl(){}Hl.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Hl.convertCueToDOMTree=function(t,e){return!t||!e?null:jC(t,e)};var cfe=.05,dfe="sans-serif",hfe="1.5%";Hl.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=hfe,n.appendChild(r);function i(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!i(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=hr.getSimpleBoxPosition(r),l=Math.round(o.height*cfe*100)/100,u={font:l+"px "+dfe};(function(){for(var c,d,p=0;p<e.length;p++)d=e[p],c=new zh(t,d,u),r.appendChild(c.div),ufe(t,c,o,a),d.displayState=c.div,a.push(hr.getSimpleBoxPosition(c))})()};Hl.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Hl.Parser.prototype={reportOrThrowError:function(t){if(t instanceof jr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var p=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),p}function r(c){var d=new ec;if(Ru(c,function(f,y){switch(f){case"id":d.set(f,y);break;case"width":d.percent(f,y);break;case"lines":d.integer(f,y);break;case"regionanchor":case"viewportanchor":var b=y.split(",");if(b.length!==2)break;var S=new ec;if(S.percent("x",b[0]),S.percent("y",b[1]),!S.has("x")||!S.has("y"))break;d.set(f+"X",S.get("x")),d.set(f+"Y",S.get("y"));break;case"scroll":d.alt(f,y,["up"]);break}},/=/,/\s/),d.has("id")){var p=new(e.vttjs.VTTRegion||e.window.VTTRegion);p.width=d.get("width",100),p.lines=d.get("lines",3),p.regionAnchorX=d.get("regionanchorX",0),p.regionAnchorY=d.get("regionanchorY",100),p.viewportAnchorX=d.get("viewportanchorX",0),p.viewportAnchorY=d.get("viewportanchorY",100),p.scroll=d.get("scroll",""),e.onregion&&e.onregion(p),e.regionList.push({id:d.get("id"),region:p})}}function i(c){var d=new ec;Ru(c,function(p,f){switch(p){case"MPEGT":d.integer(p+"S",f);break;case"LOCA":d.set(p+"L",f0(f));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?Ru(c,function(d,p){switch(d){case"X-TIMESTAMP-MAP":i(p);break}},/=/):Ru(c,function(d,p){switch(d){case"Region":r(p);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new jr(jr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{rfe(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new jr(jr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var pfe=Hl,ffe="auto",mfe={"":1,lr:1,rl:1},gfe={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function yfe(t){if(typeof t!="string")return!1;var e=mfe[t.toLowerCase()];return e?t.toLowerCase():!1}function Pm(t){if(typeof t!="string")return!1;var e=gfe[t.toLowerCase()];return e?t.toLowerCase():!1}function $C(t,e,n){this.hasBeenReset=!1;var r="",i=!1,s=t,a=e,o=n,l=null,u="",c=!0,d="auto",p="start",f="auto",y="auto",b=100,S="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(E){r=""+E}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(E){i=!!E}},startTime:{enumerable:!0,get:function(){return s},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");s=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");a=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(E){o=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(E){l=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(E){var x=yfe(E);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(E){c=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(E){if(typeof E!="number"&&E!==ffe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return p},set:function(E){var x=Pm(E);x?(p=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");f=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(E){var x=Pm(E);x?(y=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");b=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return S},set:function(E){var x=Pm(E);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");S=x,this.hasBeenReset=!0}}}),this.displayState=void 0}$C.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vfe=$C,_fe={"":!0,up:!0};function bfe(t){if(typeof t!="string")return!1;var e=_fe[t.toLowerCase()];return e?t.toLowerCase():!1}function bu(t){return typeof t=="number"&&t>=0&&t<=100}function Tfe(){var t=100,e=3,n=0,r=100,i=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!bu(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!bu(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!bu(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!bu(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!bu(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=bfe(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var wfe=Tfe,fs=tf,oo=UC.exports={WebVTT:pfe,VTTCue:vfe,VTTRegion:wfe};fs.vttjs=oo;fs.WebVTT=oo.WebVTT;var kfe=oo.VTTCue,Sfe=oo.VTTRegion,xfe=fs.VTTCue,Efe=fs.VTTRegion;oo.shim=function(){fs.VTTCue=kfe,fs.VTTRegion=Sfe};oo.restore=function(){fs.VTTCue=xfe,fs.VTTRegion=Efe};fs.VTTCue||oo.shim();var Cfe=UC.exports;const k1=yr(Cfe);function fi(){return fi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fi.apply(null,arguments)}var HC={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var p=o.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return c.alwaysNormalize?(p.path=o.normalizePath(p.path),o.buildURLFromParts(p)):u;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var y=i.exec(f.path);f.netLoc=y[1],f.path=y[2]}f.netLoc&&!f.path&&(f.path="/");var b={scheme:f.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(b.netLoc=f.netLoc,p.path[0]!=="/"))if(!p.path)b.path=f.path,p.params||(b.params=f.params,p.query||(b.query=f.query));else{var S=f.path,E=S.substring(0,S.lastIndexOf("/")+1)+p.path;b.path=o.normalizePath(E)}return b.path===null&&(b.path=c.alwaysNormalize?o.normalizePath(p.path):p.path),o.buildURLFromParts(b)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(HC);var Afe=HC.exports;const S1=yr(Afe);var x1="http://example.com",rf=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=te.location&&te.location.href||"");var n=typeof te.URL=="function",r=/^\/\//.test(t),i=!te.location&&!/\/\//i.test(t);if(n?t=new te.URL(t,te.location||x1):/\/\//i.test(t)||(t=S1.buildAbsoluteURL(te.location&&te.location.href||"",t)),n){var s=new URL(e,t);return i?s.href.slice(x1.length):r?s.href.slice(s.protocol.length):s.href}return S1.buildAbsoluteURL(t,e)},m0=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(i,1),i>-1},e.trigger=function(n){var r=this.listeners[n];if(r)if(arguments.length===2)for(var i=r.length,s=0;s<i;++s)r[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),o=r.length,l=0;l<o;++l)r[l].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),Lfe=function(t){return te.atob?te.atob(t):Buffer.from(t,"base64").toString("binary")};function Ife(t){for(var e=Lfe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.1.0 @license Apache-2.0 */class Mfe extends m0{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const Dfe="	",Om=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},Pfe=function(){const t='(?:[^=]*)=(?:"[^"]*"|[^,]*)';return new RegExp("(?:^|,)("+t+")")},Nr=function(t){const e={};if(!t)return e;const n=t.split(Pfe());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e};class Ofe extends m0{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,r;if(e=e.trim(),e.length!==0){if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((i,s)=>{const a=s(e);return a===e?i:i.concat([a])},[e]).forEach(i=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,i))return;if(i.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:i.slice(1)});return}if(i=i.replace("\r",""),n=/^#EXTM3U/.exec(i),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(i),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(i),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(i),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(i),n){r=fi(Om(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(i),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(i),n){if(r={type:"tag",tagType:"map"},n[1]){const s=Nr(n[1]);s.URI&&(r.uri=s.URI),s.BYTERANGE&&(r.byterange=Om(s.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(i),n){if(r={type:"tag",tagType:"stream-inf"},n[1]){if(r.attributes=Nr(n[1]),r.attributes.RESOLUTION){const s=r.attributes.RESOLUTION.split("x"),a={};s[0]&&(a.width=parseInt(s[0],10)),s[1]&&(a.height=parseInt(s[1],10)),r.attributes.RESOLUTION=a}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(i),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=Nr(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(i),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(i),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(i),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(i),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=Nr(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(i),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=Nr(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:(.*)?$/.exec(i),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=Nr(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(Dfe)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=Nr(n[1]),["DURATION"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=Om(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=Nr(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=Nr(n[1]),["PART-TARGET"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=Nr(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(r.attributes.hasOwnProperty(s)){r.attributes[s]=parseInt(r.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[a]=r.attributes[s],delete r.attributes[s]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=Nr(n[1]),["LAST-MSN","LAST-PART"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseInt(r.attributes[s],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(i),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=Nr(n[1]),["ID","CLASS"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=String(r.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=new Date(r.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/i.test(r.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=r.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in r.attributes){if(!s.test(a))continue;const o=/[0-9A-Fa-f]{6}/g.test(r.attributes[a]),l=/^\d+(\.\d+)?$/.test(r.attributes[a]);r.attributes[a]=o?r.attributes[a].toString(16):l?parseFloat(r.attributes[a]):String(r.attributes[a])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(i),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(i),n){r={type:"tag",tagType:"content-steering"},r.attributes=Nr(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:i.slice(4)})})}}addParser({expression:e,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:n,segment:i}),!0})}addTagMapper({expression:e,map:n}){const r=i=>e.test(i)?n(i):i;this.tagMappers.push(r)}}const Rfe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Os=function(t){const e={};return Object.keys(t).forEach(function(n){e[Rfe(n)]=t[n]}),e},Rm=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:r}=t;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=r&&r*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class Nfe extends m0{constructor(){super(),this.lineStream=new Mfe,this.parseStream=new Ofe,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;const e=this,n=[];let r={},i,s,a=!1;const o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let c=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let d=0,p=0;const f={};this.on("end",()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&i&&(r.map=i),!r.key&&s&&(r.key=s),!r.timeline&&typeof c=="number"&&(r.timeline=c),this.manifest.preloadSegment=r)}),this.parseStream.on("data",function(y){let b,S;({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const E={};"length"in y&&(r.byterange=E,E.length=y.length,"offset"in y||(y.offset=d)),"offset"in y&&(r.byterange=E,E.offset=y.offset),d=E.offset+E.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(r.title=y.title),y.duration>0&&(r.duration=y.duration),y.duration===0&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){s=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:Ife(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(s.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,c=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){i={},y.uri&&(i.uri=y.uri),y.byterange&&(i.byterange=y.byterange),s&&(i.key=s)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}r.attributes||(r.attributes={}),fi(r.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const E=this.manifest.mediaGroups[y.attributes.TYPE];E[y.attributes["GROUP-ID"]]=E[y.attributes["GROUP-ID"]]||{},b=E[y.attributes["GROUP-ID"]],S={default:/yes/i.test(y.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(S.language=y.attributes.LANGUAGE),y.attributes.URI&&(S.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(S.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(S.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(S.forced=/yes/i.test(y.attributes.FORCED)),b[y.attributes.NAME]=S},discontinuity(){c+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),r.dateTimeString=y.dateTimeString,r.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:E}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),E===null&&this.manifest.segments.reduceRight((x,k)=>(k.programDateTime=x-k.duration*1e3,k.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,Rm.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){r.cueOut=y.data},"cue-out-cont"(){r.cueOutCont=y.data},"cue-in"(){r.cueIn=y.data},skip(){this.manifest.skip=Os(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const E=this.manifest.segments.length,x=Os(y.attributes);r.parts=r.parts||[],r.parts.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=p),p=x.byterange.offset+x.byterange.length);const k=r.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${k} for segment #${E}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((L,A)=>{L.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${A} lacks required attribute(s): LAST-PART`})})},"server-control"(){const E=this.manifest.serverControl=Os(y.attributes);E.hasOwnProperty("canBlockReload")||(E.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Rm.call(this,this.manifest),E.canSkipDateranges&&!E.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const E=this.manifest.segments.length,x=Os(y.attributes),k=x.type&&x.type==="PART";r.preloadHints=r.preloadHints||[],r.preloadHints.push(x),x.byterange&&(x.byterange.hasOwnProperty("offset")||(x.byterange.offset=k?p:0,k&&(p=x.byterange.offset+x.byterange.length)));const L=r.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${L} for segment #${E}`,y.attributes,["TYPE","URI"]),!!x.type)for(let A=0;A<r.preloadHints.length-1;A++){const D=r.preloadHints[A];D.type&&D.type===x.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${L} for segment #${E} has the same TYPE ${x.type} as preload hint #${A}`})}},"rendition-report"(){const E=Os(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(E);const x=this.manifest.renditionReports.length-1,k=["LAST-MSN","URI"];a&&k.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${x}`,y.attributes,k)},"part-inf"(){this.manifest.partInf=Os(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Rm.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Os(y.attributes));const E=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${E}`,y.attributes,["ID","START-DATE"]);const x=this.manifest.dateRanges[E];x.endDate&&x.startDate&&new Date(x.endDate)<new Date(x.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),x.duration&&x.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),x.plannedDuration&&x.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const k=!!x.endOnNext;if(k&&!x.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),k&&(x.duration||x.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),x.duration&&x.endDate){const L=x.startDate.getTime()+x.duration*1e3;this.manifest.dateRanges[E].endDate=new Date(L)}if(!f[x.id])f[x.id]=x;else{for(const A in f[x.id])if(x[A]&&JSON.stringify(f[x.id][A])!==JSON.stringify(x[A])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const L=this.manifest.dateRanges.findIndex(A=>A.id===x.id);this.manifest.dateRanges[L]=fi(this.manifest.dateRanges[L],x),f[x.id]=fi(f[x.id],x),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=Os(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])}}[y.tagType]||o).call(e)},uri(){r.uri=y.uri,n.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),s&&(r.key=s),r.timeline=c,i&&(r.map=i),p=0,this.lastProgramDateTime!==null&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=r.duration*1e3),r={}},comment(){},custom(){y.segment?(r.custom=r.custom||{},r.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(e)})}warnOnMissingAttributes_(e,n,r){const i=[];r.forEach(function(s){n.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Va={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Bfe=["video","audio","text"],E1=["Video","Audio","Text"],VC=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(e,n,r){var i=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(r).toString(16)).slice(-2);return"avc1."+i+"00"+s})},Ci=function(t){t===void 0&&(t="");var e=t.split(","),n=[];return e.forEach(function(r){r=r.trim();var i;Bfe.forEach(function(s){var a=Va[s].exec(r.toLowerCase());if(!(!a||a.length<=1)){i=s;var o=r.substring(0,a[1].length),l=r.replace(o,"");n.push({type:o,details:l,mediaType:s})}}),i||n.push({type:r,details:"",mediaType:"unknown"})}),n},Ffe=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return Ci(i.playlists[0].attributes.CODECS)}return null},qC=function(t){return t===void 0&&(t=""),Va.audio.test(t.trim().toLowerCase())},Ufe=function(t){return t===void 0&&(t=""),Va.text.test(t.trim().toLowerCase())},wc=function(t){if(!(!t||typeof t!="string")){var e=t.toLowerCase().split(",").map(function(i){return VC(i.trim())}),n="video";e.length===1&&qC(e[0])?n="audio":e.length===1&&Ufe(e[0])&&(n="application");var r="mp4";return e.every(function(i){return Va.mp4.test(i)})?r="mp4":e.every(function(i){return Va.webm.test(i)})?r="webm":e.every(function(i){return Va.ogg.test(i)})&&(r="ogg"),n+"/"+r+';codecs="'+t+'"'}},ph=function(t){return t===void 0&&(t=""),te.MediaSource&&te.MediaSource.isTypeSupported&&te.MediaSource.isTypeSupported(wc(t))||!1},Nm=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(e){e=e.trim();for(var n=0;n<E1.length;n++){var r=E1[n];if(Va["muxer"+r].test(e))return!0}return!1})},C1="mp4a.40.2",jfe="avc1.4d400d",$fe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Hfe=/^application\/dash\+xml/i,WC=function(t){return $fe.test(t)?"hls":Hfe.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},Vfe=function(t){return t.toString(2).length},qfe=function(t){return Math.ceil(Vfe(t)/8)},zC=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},Wfe=function(t){return zC(t)},at=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!Wfe(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Kn=te.BigInt||Number,hy=[Kn("0x1"),Kn("0x100"),Kn("0x10000"),Kn("0x1000000"),Kn("0x100000000"),Kn("0x10000000000"),Kn("0x1000000000000"),Kn("0x100000000000000"),Kn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var zfe=function(t,e){var n=e===void 0?{}:e,r=n.signed,i=r===void 0?!1:r,s=n.le,a=s===void 0?!1:s;t=at(t);var o=a?"reduce":"reduceRight",l=t[o]?t[o]:Array.prototype[o],u=l.call(t,function(d,p,f){var y=a?f:Math.abs(f+1-t.length);return d+Kn(p)*hy[y]},Kn(0));if(i){var c=hy[t.length]/Kn(2)-Kn(1);u=Kn(u),u>c&&(u-=c,u-=c,u-=Kn(2))}return Number(u)},Gfe=function(t,e){var n={},r=n.le,i=r===void 0?!1:r;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=Kn(t);for(var s=qfe(t),a=new Uint8Array(new ArrayBuffer(s)),o=0;o<s;o++){var l=i?o:Math.abs(o+1-a.length);a[l]=Number(t/hy[o]&Kn(255)),t<0&&(a[l]=Math.abs(~a[l]),a[l]-=o===0?1:2)}return a},GC=function(t,e){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Yfe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e=e.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),e.length<=1)return at(e[0]);var r=e.reduce(function(a,o,l){return a+(o.byteLength||o.length)},0),i=new Uint8Array(r),s=0;return e.forEach(function(a){a=at(a),i.set(a,s),s+=a.byteLength}),i},nn=function(t,e,n){var r=n===void 0?{}:n,i=r.offset,s=i===void 0?0:i,a=r.mask,o=a===void 0?[]:a;t=at(t),e=at(e);var l=e.every?e.every:Array.prototype.every;return e.length&&t.length-s>=e.length&&l.call(e,function(u,c){var d=o[c]?o[c]&t[s+c]:t[s+c];return u===d})},Kfe=function(t,e,n){e.forEach(function(r){for(var i in t.mediaGroups[r])for(var s in t.mediaGroups[r][i]){var a=t.mediaGroups[r][i][s];n(a,r,i,s)}})},Xfe=function(t){return te.atob?te.atob(t):Buffer.from(t,"base64").toString("binary")};function Qfe(t){for(var e=Xfe(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ma={},ws={};function Zfe(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];if(e.call(void 0,i,r,t))return i}}function g0(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Jfe(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var YC=g0({HTML:"text/html",isHTML:function(t){return t===YC.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),KC=g0({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===KC.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ws.assign=Jfe;ws.find=Zfe;ws.freeze=g0;ws.MIME_TYPE=YC;ws.NAMESPACE=KC;var XC=ws,Ui=XC.find,kc=XC.NAMESPACE;function eme(t){return t!==""}function tme(t){return t?t.split(/[\t\n\f\r ]+/).filter(eme):[]}function nme(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function A1(t){if(!t)return[];var e=tme(t);return Object.keys(e.reduce(nme,{}))}function rme(t){return function(e){return t&&t.indexOf(e)!==-1}}function Kc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Pr(t,e){var n=t.prototype;if(!(n instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,Kc(n,r),t.prototype=n=r}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Or={},mi=Or.ELEMENT_NODE=1,ml=Or.ATTRIBUTE_NODE=2,Gh=Or.TEXT_NODE=3,QC=Or.CDATA_SECTION_NODE=4,ZC=Or.ENTITY_REFERENCE_NODE=5,ime=Or.ENTITY_NODE=6,JC=Or.PROCESSING_INSTRUCTION_NODE=7,e3=Or.COMMENT_NODE=8,t3=Or.DOCUMENT_NODE=9,n3=Or.DOCUMENT_TYPE_NODE=10,ms=Or.DOCUMENT_FRAGMENT_NODE=11,sme=Or.NOTATION_NODE=12,sr={},Wn={};sr.INDEX_SIZE_ERR=(Wn[1]="Index size error",1);sr.DOMSTRING_SIZE_ERR=(Wn[2]="DOMString size error",2);var kr=sr.HIERARCHY_REQUEST_ERR=(Wn[3]="Hierarchy request error",3);sr.WRONG_DOCUMENT_ERR=(Wn[4]="Wrong document",4);sr.INVALID_CHARACTER_ERR=(Wn[5]="Invalid character",5);sr.NO_DATA_ALLOWED_ERR=(Wn[6]="No data allowed",6);sr.NO_MODIFICATION_ALLOWED_ERR=(Wn[7]="No modification allowed",7);var r3=sr.NOT_FOUND_ERR=(Wn[8]="Not found",8);sr.NOT_SUPPORTED_ERR=(Wn[9]="Not supported",9);var L1=sr.INUSE_ATTRIBUTE_ERR=(Wn[10]="Attribute in use",10);sr.INVALID_STATE_ERR=(Wn[11]="Invalid state",11);sr.SYNTAX_ERR=(Wn[12]="Syntax error",12);sr.INVALID_MODIFICATION_ERR=(Wn[13]="Invalid modification",13);sr.NAMESPACE_ERR=(Wn[14]="Invalid namespace",14);sr.INVALID_ACCESS_ERR=(Wn[15]="Invalid access",15);function wn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Wn[t]),this.message=Wn[t],Error.captureStackTrace&&Error.captureStackTrace(this,wn);return n.code=t,e&&(this.message=this.message+": "+e),n}wn.prototype=Error.prototype;Kc(sr,wn);function ds(){}ds.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)Oo(this[r],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function gl(t,e){this._node=t,this._refresh=e,y0(this)}function y0(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(m3(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var r=n.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];Kc(n,t),t._inc=e}}gl.prototype.item=function(t){return y0(this),this[t]||null};Pr(gl,ds);function Yh(){}function i3(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function I1(t,e,n,r){if(r?e[i3(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&o3(i,t,r),ame(i,t,n))}}function M1(t,e,n){var r=i3(e,n);if(r>=0){for(var i=e.length-1;r<i;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(o3(s,t,n),n.ownerElement=null)}}else throw new wn(r3,new Error(t.tagName+"@"+n))}Yh.prototype={length:0,item:ds.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new wn(L1);var n=this.getNamedItem(t.nodeName);return I1(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new wn(L1);return n=this.getNamedItemNS(t.namespaceURI,t.localName),I1(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return M1(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return M1(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function s3(){}s3.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var r=new Xc;if(r.implementation=this,r.childNodes=new ds,r.doctype=n||null,n&&r.appendChild(n),e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new sf;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=n||"",r}};function jt(){}jt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Kh(this,t,e)},replaceChild:function(t,e){Kh(this,t,e,u3),e&&this.removeChild(e)},removeChild:function(t){return l3(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return py(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Gh&&t.nodeType==Gh?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===t)return r}e=e.nodeType==ml?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==ml?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function a3(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Kc(Or,jt);Kc(Or,jt.prototype);function Sc(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Sc(t,e))return!0;while(t=t.nextSibling)}function Xc(){this.ownerDocument=this}function ame(t,e,n){t&&t._inc++;var r=n.namespaceURI;r===kc.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function o3(t,e,n,r){t&&t._inc++;var i=n.namespaceURI;i===kc.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function v0(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function l3(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,v0(t.ownerDocument,t),e}function ome(t){return t&&(t.nodeType===jt.DOCUMENT_NODE||t.nodeType===jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===jt.ELEMENT_NODE)}function lme(t){return t&&(ji(t)||_0(t)||gs(t)||t.nodeType===jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===jt.COMMENT_NODE||t.nodeType===jt.PROCESSING_INSTRUCTION_NODE)}function gs(t){return t&&t.nodeType===jt.DOCUMENT_TYPE_NODE}function ji(t){return t&&t.nodeType===jt.ELEMENT_NODE}function _0(t){return t&&t.nodeType===jt.TEXT_NODE}function D1(t,e){var n=t.childNodes||[];if(Ui(n,ji)||gs(e))return!1;var r=Ui(n,gs);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function P1(t,e){var n=t.childNodes||[];function r(s){return ji(s)&&s!==e}if(Ui(n,r))return!1;var i=Ui(n,gs);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function ume(t,e,n){if(!ome(t))throw new wn(kr,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new wn(r3,"child not in parent");if(!lme(e)||gs(e)&&t.nodeType!==jt.DOCUMENT_NODE)throw new wn(kr,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function cme(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===jt.DOCUMENT_FRAGMENT_NODE){var s=i.filter(ji);if(s.length>1||Ui(i,_0))throw new wn(kr,"More than one element or text in fragment");if(s.length===1&&!D1(t,n))throw new wn(kr,"Element in fragment can not be inserted before doctype")}if(ji(e)&&!D1(t,n))throw new wn(kr,"Only one element can be added and only after doctype");if(gs(e)){if(Ui(r,gs))throw new wn(kr,"Only one doctype is allowed");var a=Ui(r,ji);if(n&&r.indexOf(a)<r.indexOf(n))throw new wn(kr,"Doctype can only be inserted before an element");if(!n&&a)throw new wn(kr,"Doctype can not be appended since element is present")}}function u3(t,e,n){var r=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===jt.DOCUMENT_FRAGMENT_NODE){var s=i.filter(ji);if(s.length>1||Ui(i,_0))throw new wn(kr,"More than one element or text in fragment");if(s.length===1&&!P1(t,n))throw new wn(kr,"Element in fragment can not be inserted before doctype")}if(ji(e)&&!P1(t,n))throw new wn(kr,"Only one element can be added and only after doctype");if(gs(e)){if(Ui(r,function(o){return gs(o)&&o!==n}))throw new wn(kr,"Only one doctype is allowed");var a=Ui(r,ji);if(n&&r.indexOf(a)<r.indexOf(n))throw new wn(kr,"Doctype can only be inserted before an element")}}function Kh(t,e,n,r){ume(t,e,n),t.nodeType===jt.DOCUMENT_NODE&&(r||cme)(t,e,n);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===ms){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return v0(t.ownerDocument||t,t),e.nodeType==ms&&(e.firstChild=e.lastChild=null),e}function dme(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,v0(t.ownerDocument,t,e),e}Xc.prototype={nodeName:"#document",nodeType:t3,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==ms){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return Kh(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===mi&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),l3(this,t)},replaceChild:function(t,e){Kh(this,t,e,u3),t.ownerDocument=this,e&&this.removeChild(e),ji(t)&&(this.documentElement=t)},importNode:function(t,e){return f3(this,t,e)},getElementById:function(t){var e=null;return Sc(this.documentElement,function(n){if(n.nodeType==mi&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=A1(t);return new gl(this,function(n){var r=[];return e.length>0&&Sc(n.documentElement,function(i){if(i!==n&&i.nodeType===mi){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=A1(s);a=e.every(rme(o))}a&&r.push(i)}}}),r})},createElement:function(t){var e=new Za;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new ds;var n=e.attributes=new Yh;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new af;return t.ownerDocument=this,t.childNodes=new ds,t},createTextNode:function(t){var e=new b0;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new T0;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new w0;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new S0;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Xh;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new k0;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Za,r=e.split(":"),i=n.attributes=new Yh;return n.childNodes=new ds,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Xh,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}};Pr(Xc,jt);function Za(){this._nsMap={}}Za.prototype={nodeType:mi,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===ms?this.insertBefore(t,null):dme(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new gl(this,function(e){var n=[];return Sc(e,function(r){r!==e&&r.nodeType==mi&&(t==="*"||r.tagName==t)&&n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new gl(this,function(n){var r=[];return Sc(n,function(i){i!==n&&i.nodeType===mi&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&r.push(i)}),r})}};Xc.prototype.getElementsByTagName=Za.prototype.getElementsByTagName;Xc.prototype.getElementsByTagNameNS=Za.prototype.getElementsByTagNameNS;Pr(Za,jt);function Xh(){}Xh.prototype.nodeType=ml;Pr(Xh,jt);function Qc(){}Qc.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Wn[kr])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};Pr(Qc,jt);function b0(){}b0.prototype={nodeName:"#text",nodeType:Gh,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Pr(b0,Qc);function T0(){}T0.prototype={nodeName:"#comment",nodeType:e3};Pr(T0,Qc);function w0(){}w0.prototype={nodeName:"#cdata-section",nodeType:QC};Pr(w0,Qc);function sf(){}sf.prototype.nodeType=n3;Pr(sf,jt);function c3(){}c3.prototype.nodeType=sme;Pr(c3,jt);function d3(){}d3.prototype.nodeType=ime;Pr(d3,jt);function k0(){}k0.prototype.nodeType=ZC;Pr(k0,jt);function af(){}af.prototype.nodeName="#document-fragment";af.prototype.nodeType=ms;Pr(af,jt);function S0(){}S0.prototype.nodeType=JC;Pr(S0,jt);function h3(){}h3.prototype.serializeToString=function(t,e,n){return p3.call(t,e,n)};jt.prototype.toString=p3;function p3(t,e){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&i==null){var i=r.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return Oo(this,n,t,e,a),n.join("")}function O1(t,e,n){var r=t.prefix||"",i=t.namespaceURI;if(!i||r==="xml"&&i===kc.XML||i===kc.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===r)return a.namespace!==i}return!0}function Bm(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,a3),'"')}function Oo(t,e,n,r,i){if(i||(i=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case mi:var s=t.attributes,a=s.length,o=t.firstChild,l=t.tagName;n=kc.isHTML(t.namespaceURI)||n;var u=l;if(!n&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){c=s.item(d).value;break}if(!c)for(var p=i.length-1;p>=0;p--){var f=i[p];if(f.prefix===""&&f.namespace===t.namespaceURI){c=f.namespace;break}}if(c!==t.namespaceURI)for(var p=i.length-1;p>=0;p--){var f=i[p];if(f.namespace===t.namespaceURI){f.prefix&&(u=f.prefix+":"+l);break}}}e.push("<",u);for(var y=0;y<a;y++){var b=s.item(y);b.prefix=="xmlns"?i.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&i.push({prefix:"",namespace:b.value})}for(var y=0;y<a;y++){var b=s.item(y);if(O1(b,n,i)){var S=b.prefix||"",E=b.namespaceURI;Bm(e,S?"xmlns:"+S:"xmlns",E),i.push({prefix:S,namespace:E})}Oo(b,e,n,r,i)}if(l===u&&O1(t,n,i)){var S=t.prefix||"",E=t.namespaceURI;Bm(e,S?"xmlns:"+S:"xmlns",E),i.push({prefix:S,namespace:E})}if(o||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;o;)o.data?e.push(o.data):Oo(o,e,n,r,i.slice()),o=o.nextSibling;else for(;o;)Oo(o,e,n,r,i.slice()),o=o.nextSibling;e.push("</",u,">")}else e.push("/>");return;case t3:case ms:for(var o=t.firstChild;o;)Oo(o,e,n,r,i.slice()),o=o.nextSibling;return;case ml:return Bm(e,t.name,t.value);case Gh:return e.push(t.data.replace(/[<&>]/g,a3));case QC:return e.push("<![CDATA[",t.data,"]]>");case e3:return e.push("<!--",t.data,"-->");case n3:var x=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),k&&k!="."&&e.push(" ",k),e.push(">");else if(k&&k!=".")e.push(" SYSTEM ",k,">");else{var L=t.internalSubset;L&&e.push(" [",L,"]"),e.push(">")}return;case JC:return e.push("<?",t.target," ",t.data,"?>");case ZC:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function f3(t,e,n){var r;switch(e.nodeType){case mi:r=e.cloneNode(!1),r.ownerDocument=t;case ms:break;case ml:n=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(f3(t,i,n)),i=i.nextSibling;return r}function py(t,e,n){var r=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=r[i]&&(r[i]=s)}switch(e.childNodes&&(r.childNodes=new ds),r.ownerDocument=t,r.nodeType){case mi:var a=e.attributes,o=r.attributes=new Yh,l=a.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(py(t,a.item(u),!0));break;case ml:n=!0}if(n)for(var c=e.firstChild;c;)r.appendChild(py(t,c,n)),c=c.nextSibling;return r}function m3(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case mi:case ms:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(gl.prototype,"length",{get:function(){return y0(this),this.$$length}}),Object.defineProperty(jt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case mi:case ms:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),m3=function(e,n,r){e["$$"+n]=r}}}catch{}ma.DocumentType=sf;ma.DOMException=wn;ma.DOMImplementation=s3;ma.Element=Za;ma.Node=jt;ma.NodeList=ds;ma.XMLSerializer=h3;var of={},g3={};(function(t){var e=ws.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(g3);var x0={},xc=ws.NAMESPACE,fy=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R1=new RegExp("[\\-\\.0-9"+fy.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),N1=new RegExp("^"+fy.source+R1.source+"*(?::"+fy.source+R1.source+"*)?$"),Tu=0,Rs=1,To=2,wu=3,wo=4,ko=5,ku=6,Gd=7;function yl(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,yl)}yl.prototype=new Error;yl.prototype.name=yl.name;function y3(){}y3.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),v3(e,e={}),hme(t,e,n,r,this.errorHandler),r.endDocument()}};function hme(t,e,n,r,i){function s(H){if(H>65535){H-=65536;var B=55296+(H>>10),se=56320+(H&1023);return String.fromCharCode(B,se)}else return String.fromCharCode(H)}function a(H){var B=H.slice(1,-1);return Object.hasOwnProperty.call(n,B)?n[B]:B.charAt(0)==="#"?s(parseInt(B.substr(1).replace("x","0x"))):(i.error("entity not found:"+H),H)}function o(H){if(H>b){var B=t.substring(b,H).replace(/&#?\w+;/g,a);p&&l(b),r.characters(B,0,H-b),b=H}}function l(H,B){for(;H>=c&&(B=d.exec(t));)u=B.index,c=u+B[0].length,p.lineNumber++;p.columnNumber=H-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,p=r.locator,f=[{currentNSMap:e}],y={},b=0;;){try{var S=t.indexOf("<",b);if(S<0){if(!t.substr(b).match(/^\s*$/)){var E=r.doc,x=E.createTextNode(t.substr(b));E.appendChild(x),r.currentElement=x}return}switch(S>b&&o(S),t.charAt(S+1)){case"/":var Y=t.indexOf(">",S+3),k=t.substring(S+2,Y).replace(/[ \t\n\r]+$/g,""),L=f.pop();Y<0?(k=t.substring(S+2).replace(/[\s<].*/,""),i.error("end tag name: "+k+" is not complete:"+L.tagName),Y=S+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),i.error("end tag name: "+k+" maybe not complete"),Y=S+1+k.length);var A=L.localNSMap,D=L.tagName==k,M=D||L.tagName&&L.tagName.toLowerCase()==k.toLowerCase();if(M){if(r.endElement(L.uri,L.localName,k),A)for(var q in A)Object.prototype.hasOwnProperty.call(A,q)&&r.endPrefixMapping(q);D||i.fatalError("end tag name: "+k+" is not match the current start tagName:"+L.tagName)}else f.push(L);Y++;break;case"?":p&&l(S),Y=yme(t,S,r);break;case"!":p&&l(S),Y=gme(t,S,r,i);break;default:p&&l(S);var j=new _3,W=f[f.length-1].currentNSMap,Y=pme(t,S,j,W,a,i),re=j.length;if(!j.closed&&mme(t,Y,j.tagName,y)&&(j.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),p&&re){for(var le=B1(p,{}),F=0;F<re;F++){var R=j[F];l(R.offset),R.locator=B1(p,{})}r.locator=le,F1(j,r,W)&&f.push(j),r.locator=p}else F1(j,r,W)&&f.push(j);xc.isHTML(j.uri)&&!j.closed?Y=fme(t,Y,j.tagName,a,r):Y++}}catch(H){if(H instanceof yl)throw H;i.error("element parse error: "+H),Y=-1}Y>b?b=Y:o(Math.max(S,b)+1)}}function B1(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function pme(t,e,n,r,i,s){function a(p,f,y){n.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),n.addValue(p,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),y)}for(var o,l,u=++e,c=Tu;;){var d=t.charAt(u);switch(d){case"=":if(c===Rs)o=t.slice(e,u),c=wu;else if(c===To)c=wu;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===wu||c===Rs)if(c===Rs&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u),a(o,l,e-1),c=ko;else throw new Error("attribute value no end '"+d+"' match");else if(c==wo)l=t.slice(e,u),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=u+1,c=ko;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Tu:n.setTagName(t.slice(e,u));case ko:case ku:case Gd:c=Gd,n.closed=!0;case wo:case Rs:break;case To:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==Tu&&n.setTagName(t.slice(e,u)),u;case">":switch(c){case Tu:n.setTagName(t.slice(e,u));case ko:case ku:case Gd:break;case wo:case Rs:l=t.slice(e,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case To:c===To&&(l=o),c==wo?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!xc.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case wu:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case Tu:n.setTagName(t.slice(e,u)),c=ku;break;case Rs:o=t.slice(e,u),c=To;break;case wo:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case ko:c=ku;break}else switch(c){case To:n.tagName,(!xc.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=Rs;break;case ko:s.warning('attribute space is required"'+o+'"!!');case ku:c=Rs,e=u;break;case wu:c=wo,e=u;break;case Gd:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function F1(t,e,n){for(var r=t.tagName,i=null,s=t.length;s--;){var a=t[s],o=a.qName,l=a.value,p=o.indexOf(":");if(p>0)var u=a.prefix=o.slice(0,p),c=o.slice(p+1),d=u==="xmlns"&&c;else c=o,u=null,d=o==="xmlns"&&"";a.localName=c,d!==!1&&(i==null&&(i={},v3(n,n={})),n[d]=i[d]=l,a.uri=xc.XMLNS,e.startPrefixMapping(d,l))}for(var s=t.length;s--;){a=t[s];var u=a.prefix;u&&(u==="xml"&&(a.uri=xc.XML),u!=="xmlns"&&(a.uri=n[u||""]))}var p=r.indexOf(":");p>0?(u=t.prefix=r.slice(0,p),c=t.localName=r.slice(p+1)):(u=null,c=t.localName=r);var f=t.uri=n[u||""];if(e.startElement(f,c,r,t),t.closed){if(e.endElement(f,c,r),i)for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&e.endPrefixMapping(u)}else return t.currentNSMap=n,t.localNSMap=i,!0}function fme(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return e+1}function mme(t,e,n,r){var i=r[n];return i==null&&(i=t.lastIndexOf("</"+n+">"),i<e&&(i=t.lastIndexOf("</"+n)),r[n]=i),i<e}function v3(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function gme(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=vme(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[o-1];return n.startDTD(l,u,c),n.endDTD(),d.index+d[0].length}}return-1}function yme(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function _3(){this.attributeNames={}}_3.prototype={setTagName:function(t){if(!N1.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!N1.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function vme(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}x0.XMLReader=y3;x0.ParseError=yl;var _me=ws,bme=ma,U1=g3,b3=x0,Tme=bme.DOMImplementation,j1=_me.NAMESPACE,wme=b3.ParseError,kme=b3.XMLReader;function T3(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function w3(t){this.options=t||{locator:{}}}w3.prototype.parseFromString=function(t,e){var n=this.options,r=new kme,i=n.domBuilder||new Zc,s=n.errorHandler,a=n.locator,o=n.xmlns||{},l=/\/x?html?$/.test(e),u=l?U1.HTML_ENTITIES:U1.XML_ENTITIES;a&&i.setDocumentLocator(a),r.errorHandler=Sme(s,i,a),r.domBuilder=n.domBuilder||i,l&&(o[""]=j1.HTML),o.xml=o.xml||j1.XML;var c=n.normalizeLineEndings||T3;return t&&typeof t=="string"?r.parse(c(t),o,u):r.errorHandler.error("invalid doc source"),i.doc};function Sme(t,e,n){if(!t){if(e instanceof Zc)return e;t=e}var r={},i=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+my(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function Zc(){this.cdata=!1}function So(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Zc.prototype={startDocument:function(){this.doc=new Tme().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.doc,s=i.createElementNS(t,n||e),a=r.length;Yd(this,s),this.currentElement=s,this.locator&&So(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),n=r.getQName(o),u=i.createAttributeNS(t,n);this.locator&&So(r.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&So(this.locator,n),Yd(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=$1.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&So(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=$1.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&So(this.locator,r),Yd(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&So(this.locator,i),Yd(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,my(this.locator))},error:function(t){console.error("[xmldom error]	"+t,my(this.locator))},fatalError:function(t){throw new wme(t,this.locator)}};function my(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function $1(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Zc.prototype[t]=function(){return null}});function Yd(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}of.__DOMHandler=Zc;of.normalizeLineEndings=T3;of.DOMParser=w3;var xme=of.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const H1=t=>!!t&&typeof t=="object",qn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):H1(e[r])&&H1(n[r])?e[r]=qn(e[r],n[r]):e[r]=n[r]}),e),{}),k3=t=>Object.keys(t).map(e=>t[e]),Eme=(t,e)=>{const n=[];for(let r=t;r<e;r++)n.push(r);return n},vl=t=>t.reduce((e,n)=>e.concat(n),[]),S3=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},Cme=(t,e)=>t.reduce((n,r,i)=>(r[e]&&n.push(i),n),[]),Ame=(t,e)=>k3(t.reduce((n,r)=>(r.forEach(i=>{n[e(i)]=i}),n),{}));var _l={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Ec=({baseUrl:t="",source:e="",range:n="",indexRange:r=""})=>{const i={uri:e,resolvedUri:rf(t||"",e)};if(n||r){const s=(n||r).split("-");let a=te.BigInt?te.BigInt(s[0]):parseInt(s[0],10),o=te.BigInt?te.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o));let l;typeof o=="bigint"||typeof a=="bigint"?l=te.BigInt(o)-te.BigInt(a)+te.BigInt(1):l=o-a+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),i.byterange={length:l,offset:a}}return i},Lme=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=te.BigInt(t.offset)+te.BigInt(t.length)-te.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},V1=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),Ime={static(t){const{duration:e,timescale:n=1,sourceDuration:r,periodDuration:i}=t,s=V1(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,u=V1(t.endNumber),c=(e+n)/1e3,d=r+a,p=c+o-d,f=Math.ceil(p*i/s),y=Math.floor((c-d-l)*i/s),b=Math.floor((c-d)*i/s);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(f,b)}}},Mme=t=>e=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:s=1}=t;return{number:s+e,duration:n/r,timeline:i,time:e*n}},E0=t=>{const{type:e,duration:n,timescale:r=1,periodDuration:i,sourceDuration:s}=t,{start:a,end:o}=Ime[e](t),l=Eme(a,o).map(Mme(t));if(e==="static"){const u=l.length-1,c=typeof i=="number"?i:s;l[u].duration=c-n/r*u}return l},x3=t=>{const{baseUrl:e,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(_l.NO_BASE_URL);const u=Ec({baseUrl:e,source:n.sourceURL,range:n.range}),c=Ec({baseUrl:e,source:e,indexRange:i});if(c.map=u,l){const d=E0(t);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else r&&(c.duration=r,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},C0=(t,e,n)=>{const r=t.sidx.map?t.sidx.map:null,i=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(S=>S.referenceType!==1),c=[],d=t.endList?"static":"dynamic",p=t.sidx.timeline;let f=p,y=t.mediaSequence||0,b;typeof e.firstOffset=="bigint"?b=te.BigInt(o)+e.firstOffset:b=o+e.firstOffset;for(let S=0;S<u.length;S++){const E=e.references[S],x=E.referencedSize,k=E.subsegmentDuration;let L;typeof b=="bigint"?L=b+te.BigInt(x)-te.BigInt(1):L=b+x-1;const A=`${b}-${L}`,D=x3({baseUrl:n,timescale:l,timeline:s,periodStart:p,presentationTime:f,number:y,duration:k,sourceDuration:i,indexRange:A,type:d})[0];r&&(D.map=r),c.push(D),typeof b=="bigint"?b+=te.BigInt(x):b+=x,f+=k/l,y++}return t.segments=c,t},Dme=["AUDIO","SUBTITLES"],Pme=1/60,E3=t=>Ame(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),Ome=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},q1=t=>{let e=[];return Kfe(t,Dme,(n,r,i,s)=>{e=e.concat(n.playlists||[])}),e},W1=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,r)=>{n.number=t.mediaSequence+r})},Rme=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:o}){return o===r.timeline});const i=Ome(t,r.attributes.NAME);if(!i||r.sidx)return;const s=r.segments[0],a=i.segments.findIndex(function(o){return Math.abs(o.presentationTime-s.presentationTime)<Pme});if(a===-1){W1({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),W1({playlist:r,mediaSequence:i.segments[a].number})})},Nme=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(q1(t)),r=e.playlists.concat(q1(e));return e.timelineStarts=E3([t.timelineStarts,e.timelineStarts]),Rme({oldPlaylists:n,newPlaylists:r,timelineStarts:e.timelineStarts}),e},lf=t=>t&&t.uri+"-"+Lme(t.byterange),Fm=t=>{const e=t.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(e).forEach(r=>{const i=k3(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=Cme(r.segments||[],"discontinuity"),r))},A0=(t,e)=>{const n=lf(t.sidx),r=n&&e[n]&&e[n].sidx;return r&&C0(t,r,t.sidx.resolvedUri),t},Bme=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=A0(t[n],e);return t},Fme=({attributes:t,segments:e,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Ume=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},jme=(t,e={},n=!1)=>{let r;const i=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";u=`${a.attributes.lang}${d}`}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=A0(Fme(a,n),e);return s[u].playlists.push(c),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(i)[0];i[s].default=!0}return i},$me=(t,e={})=>t.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text";return n[i]||(n[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(A0(Ume(r),e)),n},{}),Hme=t=>t.reduce((e,n)=>(n&&n.forEach(r=>{const{channel:i,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),Vme=({attributes:t,segments:e,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(i.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),i},qme=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",Wme=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",zme=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",Gme=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},z1=t=>t?Object.keys(t).reduce((e,n)=>{const r=t[n];return e.concat(r.playlists)},[]):[],Yme=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=Fm(t.filter(qme)).map(Vme),d=Fm(t.filter(Wme)),p=Fm(t.filter(zme)),f=t.map(L=>L.attributes.captionServices).filter(Boolean),y={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:Bme(c,r)};u>=0&&(y.minimumUpdatePeriod=u*1e3),e&&(y.locations=e),n&&(y.contentSteering=n),o==="dynamic"&&(y.suggestedPresentationDelay=l),s&&s.length>0&&(y.eventStream=s);const b=y.playlists.length===0,S=d.length?jme(d,r,b):null,E=p.length?$me(p,r):null,x=c.concat(z1(S),z1(E)),k=x.map(({timelineStarts:L})=>L);return y.timelineStarts=E3(k),Gme(x,y.timelineStarts),S&&(y.mediaGroups.AUDIO.audio=S),E&&(y.mediaGroups.SUBTITLES.subs=E),f.length&&(y.mediaGroups["CLOSED-CAPTIONS"].cc=Hme(f)),i?Nme({oldManifest:i,newManifest:y}):y},Kme=(t,e,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,u=(r+i)/1e3,c=s+o,d=u+l-c;return Math.ceil((d*a-e)/n)},C3=(t,e)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,u=[];let c=-1;for(let d=0;d<e.length;d++){const p=e[d],f=p.d,y=p.r||0,b=p.t||0;c<0&&(c=b),b&&b>c&&(c=b);let S;if(y<0){const k=d+1;k===e.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?S=Kme(t,c,f):S=(s*a-c)/f:S=(e[k].t-c)/f}else S=y+1;const E=o+u.length+S;let x=o+u.length;for(;x<E;)u.push({number:x,duration:f/a,time:c,timeline:l}),c+=f,x++}return u},Xme=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Qme=t=>(e,n,r,i)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},G1=(t,e)=>t.replace(Xme,Qme(e)),Zme=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?E0(t):C3(t,e),Jme=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,i=Ec({baseUrl:t.baseUrl,source:G1(r.sourceURL,n),range:r.range});return Zme(t,e).map(s=>{n.Number=s.number,n.Time=s.time;const a=G1(t.media||"",n),o=t.timescale||1,l=t.presentationTimeOffset||0,u=t.periodStart+(s.time-l)/o;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:rf(t.baseUrl||"",a),map:i,number:s.number,presentationTime:u}})},ege=(t,e)=>{const{baseUrl:n,initialization:r={}}=t,i=Ec({baseUrl:n,source:r.sourceURL,range:r.range}),s=Ec({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=i,s},tge=(t,e)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=t;if(!n&&!e||n&&e)throw new Error(_l.SEGMENT_TIME_UNSPECIFIED);const s=r.map(o=>ege(t,o));let a;return n&&(a=E0(t)),e&&(a=C3(t,e)),a.map((o,l)=>{if(s[l]){const u=s[l],c=t.timescale||1,d=t.presentationTimeOffset||0;return u.timeline=o.timeline,u.duration=o.duration,u.number=o.number,u.presentationTime=i+(o.time-d)/c,u}}).filter(o=>o)},nge=({attributes:t,segmentInfo:e})=>{let n,r;e.template?(r=Jme,n=qn(t,e.template)):e.base?(r=x3,n=qn(t,e.base)):e.list&&(r=tge,n=qn(t,e.list));const i={attributes:t};if(!r)return i;const s=r(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return i.attributes=n,i.segments=s,e.base&&n.indexRange&&(i.sidx=s[0],i.segments=[]),i},rge=t=>t.map(nge),rn=(t,e)=>S3(t.childNodes).filter(({tagName:n})=>n===e),Jc=t=>t.textContent.trim(),ige=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),xo=t=>{const e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;const[n,r,i,s,a,o]=e.slice(1);return parseFloat(n||0)*31536e3+parseFloat(r||0)*2592e3+parseFloat(i||0)*86400+parseFloat(s||0)*3600+parseFloat(a||0)*60+parseFloat(o||0)},sge=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Y1={mediaPresentationDuration(t){return xo(t)},availabilityStartTime(t){return sge(t)/1e3},minimumUpdatePeriod(t){return xo(t)},suggestedPresentationDelay(t){return xo(t)},type(t){return t},timeShiftBufferDepth(t){return xo(t)},start(t){return xo(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return ige(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?xo(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},An=t=>t&&t.attributes?S3(t.attributes).reduce((e,n)=>{const r=Y1[n.name]||Y1.DEFAULT;return e[n.name]=r(n.value),e},{}):{},age={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},uf=(t,e)=>e.length?vl(t.map(function(n){return e.map(function(r){const i=Jc(r),s=rf(n.baseUrl,i),a=qn(An(r),{baseUrl:s});return s!==i&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,L0=t=>{const e=rn(t,"SegmentTemplate")[0],n=rn(t,"SegmentList")[0],r=n&&rn(n,"SegmentURL").map(d=>qn({tag:"SegmentURL"},An(d))),i=rn(t,"SegmentBase")[0],s=n||e,a=s&&rn(s,"SegmentTimeline")[0],o=n||i||e,l=o&&rn(o,"Initialization")[0],u=e&&An(e);u&&l?u.initialization=l&&An(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&rn(a,"S").map(d=>An(d)),list:n&&qn(An(n),{segmentUrls:r,initialization:An(l)}),base:i&&qn(An(i),{initialization:An(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},oge=(t,e,n)=>r=>{const i=rn(r,"BaseURL"),s=uf(e,i),a=qn(t,An(r)),o=L0(r);return s.map(l=>({segmentInfo:qn(n,o),attributes:qn(a,l)}))},lge=t=>t.reduce((e,n)=>{const r=An(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=age[r.schemeIdUri];if(i){e[i]={attributes:r};const s=rn(n,"cenc:pssh")[0];if(s){const a=Jc(s);e[i].pssh=a&&Qfe(a)}}return e},{}),uge=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{let n,r;return r=e,/^CC\d=/.test(e)?[n,r]=e.split("="):/^CC\d$/.test(e)&&(n=e),{channel:n,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[r,i=""]=e.split("=");n.channel=r,n.language=e,i.split(",").forEach(s=>{const[a,o]=s.split(":");a==="lang"?n.language=o:a==="er"?n.easyReader=Number(o):a==="war"?n.aspectRatio=Number(o):a==="3D"&&(n["3D"]=Number(o))})}else n.language=e;return n.channel&&(n.channel="SERVICE"+n.channel),n})},cge=t=>vl(rn(t.node,"EventStream").map(e=>{const n=An(e),r=n.schemeIdUri;return rn(e,"Event").map(i=>{const s=An(i),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,u=a/o+t.attributes.start;return{schemeIdUri:r,value:n.value,id:s.id,start:u,end:u+l/o,messageData:Jc(i)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),dge=(t,e,n)=>r=>{const i=An(r),s=uf(e,rn(r,"BaseURL")),a=rn(r,"Role")[0],o={role:An(a)};let l=qn(t,i,o);const u=rn(r,"Accessibility")[0],c=uge(An(u));c&&(l=qn(l,{captionServices:c}));const d=rn(r,"Label")[0];if(d&&d.childNodes.length){const S=d.childNodes[0].nodeValue.trim();l=qn(l,{label:S})}const p=lge(rn(r,"ContentProtection"));Object.keys(p).length&&(l=qn(l,{contentProtection:p}));const f=L0(r),y=rn(r,"Representation"),b=qn(n,f);return vl(y.map(oge(l,s,b)))},hge=(t,e)=>(n,r)=>{const i=uf(e,rn(n.node,"BaseURL")),s=qn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=rn(n.node,"AdaptationSet"),o=L0(n.node);return vl(a.map(dge(s,i,o)))},pge=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=qn({serverURL:Jc(t[0])},An(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},fge=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,mge=(t,e={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=rn(t,"Period");if(!a.length)throw new Error(_l.INVALID_NUMBER_OF_PERIOD);const o=rn(t,"Location"),l=An(t),u=uf([{baseUrl:n}],rn(t,"BaseURL")),c=rn(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,o.length&&(l.locations=o.map(Jc));const d=[];return a.forEach((p,f)=>{const y=An(p),b=d[f-1];y.start=fge({attributes:y,priorPeriodAttributes:b?b.attributes:null,mpdType:l.type}),d.push({node:p,attributes:y})}),{locations:l.locations,contentSteeringInfo:pge(c,s),representationInfo:vl(d.map(hge(l,u))),eventStream:vl(d.map(cge))}},A3=t=>{if(t==="")throw new Error(_l.DASH_EMPTY_MANIFEST);const e=new xme;let n,r;try{n=e.parseFromString(t,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(_l.DASH_INVALID_XML);return r},gge=t=>{const e=rn(t,"UTCTiming")[0];if(!e)return null;const n=An(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(_l.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},yge=(t,e={})=>{const n=mge(A3(t),e),r=rge(n.representationInfo);return Yme({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},vge=t=>gge(A3(t));var L3=Math.pow(2,32),_ge=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*L3+e.getUint32(4)},bge={getUint64:_ge,MAX_UINT32:L3},K1=bge.getUint64,Tge=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=e.getUint32(r),n.firstOffset=e.getUint32(r+4),r+=8):(n.earliestPresentationTime=K1(t.subarray(r)),n.firstOffset=K1(t.subarray(r+8)),r+=16),r+=2;var i=e.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return n},wge=Tge;const kge=yr(wge);var Sge=at([73,68,51]),xge=function(t,e){e===void 0&&(e=0),t=at(t);var n=t[e+5],r=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=(n&16)>>4;return i?r+20:r+10},Nu=function t(e,n){return n===void 0&&(n=0),e=at(e),e.length-n<10||!nn(e,Sge,{offset:n})?n:(n+=xge(e,n),t(e,n))},X1=function(t){return typeof t=="string"?GC(t):t},Ege=function(t){return Array.isArray(t)?t.map(function(e){return X1(e)}):[X1(t)]},Cge=function t(e,n,r){r===void 0&&(r=!1),n=Ege(n),e=at(e);var i=[];if(!n.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);nn(o,n[0])&&(n.length===1?i.push(u):i.push.apply(i,t(u,n.slice(1),r))),s=l}return i},Kd={EBML:at([26,69,223,163]),DocType:at([66,130]),Segment:at([24,83,128,103]),SegmentInfo:at([21,73,169,102]),Tracks:at([22,84,174,107]),Track:at([174]),TrackNumber:at([215]),DefaultDuration:at([35,227,131]),TrackEntry:at([174]),TrackType:at([131]),FlagDefault:at([136]),CodecID:at([134]),CodecPrivate:at([99,162]),VideoTrack:at([224]),AudioTrack:at([225]),Cluster:at([31,67,182,117]),Timestamp:at([231]),TimestampScale:at([42,215,177]),BlockGroup:at([160]),BlockDuration:at([155]),Block:at([161]),SimpleBlock:at([163])},gy=[128,64,32,16,8,4,2,1],Age=function(t){for(var e=1,n=0;n<gy.length&&!(t&gy[n]);n++)e++;return e},Qh=function(t,e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var i=Age(t[e]),s=t.subarray(e,e+i);return n&&(s=Array.prototype.slice.call(t,e,e+i),s[0]^=gy[i-1]),{length:i,value:zfe(s,{signed:r}),bytes:s}},Q1=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?Gfe(e):e},Lge=function(t){return Array.isArray(t)?t.map(function(e){return Q1(e)}):[Q1(t)]},Ige=function t(e,n,r){if(r>=n.length)return n.length;var i=Qh(n,r,!1);if(nn(e.bytes,i.bytes))return r;var s=Qh(n,r+i.length);return t(e,n,r+s.length+s.value+i.length)},Z1=function t(e,n){n=Lge(n),e=at(e);var r=[];if(!n.length)return r;for(var i=0;i<e.length;){var s=Qh(e,i,!1),a=Qh(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=Ige(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);nn(n[0],s.bytes)&&(n.length===1?r.push(u):r=r.concat(t(u,n.slice(1))));var c=s.length+a.length+u.length;i+=c}return r},Mge=at([0,0,0,1]),Dge=at([0,0,1]),Pge=at([0,0,3]),Oge=function(t){for(var e=[],n=1;n<t.length-2;)nn(t.subarray(n,n+3),Pge)&&(e.push(n+2),n++),n++;if(e.length===0)return t;var r=t.length-e.length,i=new Uint8Array(r),s=0;for(n=0;n<r;s++,n++)s===e[0]&&(s++,e.shift()),i[n]=t[s];return i},I3=function(t,e,n,r){t=at(t),n=[].concat(n);for(var i=0,s,a=0;i<t.length&&(a<r||s);){var o=void 0;if(nn(t.subarray(i),Mge)?o=4:nn(t.subarray(i),Dge)&&(o=3),!o){i++;continue}if(a++,s)return Oge(t.subarray(s,i));var l=void 0;e==="h264"?l=t[i+o]&31:e==="h265"&&(l=t[i+o]>>1&63),n.indexOf(l)!==-1&&(s=i+o),i+=o+(e==="h264"?1:2)}return t.subarray(0,0)},Rge=function(t,e,n){return I3(t,"h264",e,n)},Nge=function(t,e,n){return I3(t,"h265",e,n)},or={webm:at([119,101,98,109]),matroska:at([109,97,116,114,111,115,107,97]),flac:at([102,76,97,67]),ogg:at([79,103,103,83]),ac3:at([11,119]),riff:at([82,73,70,70]),avi:at([65,86,73]),wav:at([87,65,86,69]),"3gp":at([102,116,121,112,51,103]),mp4:at([102,116,121,112]),fmp4:at([115,116,121,112]),mov:at([102,116,121,112,113,116]),moov:at([109,111,111,118]),moof:at([109,111,111,102])},bl={aac:function(t){var e=Nu(t);return nn(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=Nu(t);return nn(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){var e=Z1(t,[Kd.EBML,Kd.DocType])[0];return nn(e,or.webm)},mkv:function(t){var e=Z1(t,[Kd.EBML,Kd.DocType])[0];return nn(e,or.matroska)},mp4:function(t){if(bl["3gp"](t)||bl.mov(t))return!1;if(nn(t,or.mp4,{offset:4})||nn(t,or.fmp4,{offset:4})||nn(t,or.moof,{offset:4})||nn(t,or.moov,{offset:4}))return!0},mov:function(t){return nn(t,or.mov,{offset:4})},"3gp":function(t){return nn(t,or["3gp"],{offset:4})},ac3:function(t){var e=Nu(t);return nn(t,or.ac3,{offset:e})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var e=0;e+188<t.length&&e<188;){if(t[e]===71&&t[e+188]===71)return!0;e+=1}return!1},flac:function(t){var e=Nu(t);return nn(t,or.flac,{offset:e})},ogg:function(t){return nn(t,or.ogg)},avi:function(t){return nn(t,or.riff)&&nn(t,or.avi,{offset:8})},wav:function(t){return nn(t,or.riff)&&nn(t,or.wav,{offset:8})},h264:function(t){return Rge(t,7,3).length},h265:function(t){return Nge(t,[32,33],3).length}},yy=Object.keys(bl).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);yy.forEach(function(t){var e=bl[t];bl[t]=function(n){return e(at(n))}});var Bge=bl,I0=function(t){t=at(t);for(var e=0;e<yy.length;e++){var n=yy[e];if(Bge[n](t))return n}return""},Fge=function(t){return Cge(t,["moof"]).length>0},M0=9e4,D0,P0,cf,O0,M3,D3,P3;D0=function(t){return t*M0};P0=function(t,e){return t*e};cf=function(t){return t/M0};O0=function(t,e){return t/e};M3=function(t,e){return D0(O0(t,e))};D3=function(t,e){return P0(cf(t),e)};P3=function(t,e,n){return cf(n?t:t-e)};var Na={ONE_SECOND_IN_TS:M0,secondsToVideoTs:D0,secondsToAudioTs:P0,videoTsToSeconds:cf,audioTsToSeconds:O0,audioTsToVideoTs:M3,videoTsToAudioTs:D3,metadataTsToSeconds:P3};/**
 * @license
 * Video.js 8.12.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var vy="8.12.0";const ss={},ia=function(t,e){return ss[t]=ss[t]||[],e&&(ss[t]=ss[t].concat(e)),ss[t]},Uge=function(t,e){ia(t,e)},O3=function(t,e){const n=ia(t).indexOf(e);return n<=-1?!1:(ss[t]=ss[t].slice(),ss[t].splice(n,1),!0)},jge=function(t,e){ia(t,[].concat(e).map(n=>{const r=(...i)=>(O3(t,r),n(...i));return r}))},Zh={prefixed:!0},fh=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],J1=fh[0];let Bu;for(let t=0;t<fh.length;t++)if(fh[t][1]in Ve){Bu=fh[t];break}if(Bu){for(let t=0;t<Bu.length;t++)Zh[J1[t]]=Bu[t];Zh.prefixed=Bu[0]!==J1[0]}let wr=[];const $ge=(t,e,n)=>(r,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),wr){wr.push([].concat(s));const c=wr.length-1e3;wr.splice(0,c>0?c:0)}if(!te.console)return;let u=te.console[r];!u&&r==="debug"&&(u=te.console.info||te.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(s)?"apply":"call"](te.console,s)};function _y(t,e=":",n=""){let r="info",i;const s=function(...a){i("log",r,a)};return i=$ge(t,s,n),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,c=l!==void 0?l:n,d=`${t} ${u} ${a}`;return _y(d,u,c)},s.createNewLogger=(a,o,l)=>_y(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>wr?[].concat(wr):[],s.history.filter=a=>(wr||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{wr&&(wr.length=0)},s.history.disable=()=>{wr!==null&&(wr.length=0,wr=null)},s.history.enable=()=>{wr===null&&(wr=[])},s.error=(...a)=>i("error",r,a),s.warn=(...a)=>i("warn",r,a),s.debug=(...a)=>i("debug",r,a),s}const kt=_y("VIDEOJS"),R3=kt.createLogger,Hge=Object.prototype.toString,N3=function(t){return qi(t)?Object.keys(t):[]};function Go(t,e){N3(t).forEach(n=>e(t[n],n))}function B3(t,e,n=0){return N3(t).reduce((r,i)=>e(r,t[i],i),n)}function qi(t){return!!t&&typeof t=="object"}function Tl(t){return qi(t)&&Hge.call(t)==="[object Object]"&&t.constructor===Object}function Yt(...t){const e={};return t.forEach(n=>{n&&Go(n,(r,i)=>{if(!Tl(r)){e[i]=r;return}Tl(e[i])||(e[i]={}),e[i]=Yt(e[i],r)})}),e}function F3(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push(r)}return e}function df(t,e,n,r=!0){const i=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return i(a),a}};return r&&(s.set=i),Object.defineProperty(t,e,s)}var Vge=Object.freeze({__proto__:null,each:Go,reduce:B3,isObject:qi,isPlain:Tl,merge:Yt,values:F3,defineLazyProperty:df});let R0=!1,U3=null,Wi=!1,j3,$3=!1,Yo=!1,Ko=!1,zi=!1,N0=null,hf=null,H3=null,Jh=!1,pf=!1,ep=!1,ff=!1,by=!1,Ty=!1,wy=!1;const Cc=!!(Vl()&&("ontouchstart"in te||te.navigator.maxTouchPoints||te.DocumentTouch&&te.document instanceof te.DocumentTouch)),Ns=te.navigator&&te.navigator.userAgentData;Ns&&Ns.platform&&Ns.brands&&(Wi=Ns.platform==="Android",Yo=!!Ns.brands.find(t=>t.brand==="Microsoft Edge"),Ko=!!Ns.brands.find(t=>t.brand==="Chromium"),zi=!Yo&&Ko,N0=hf=(Ns.brands.find(t=>t.brand==="Chromium")||{}).version||null,pf=Ns.platform==="Windows");if(!Ko){const t=te.navigator&&te.navigator.userAgent||"";R0=/iPod/i.test(t),U3=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Wi=/Android/i.test(t),j3=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return n&&r?parseFloat(e[1]+"."+e[2]):n||null}(),$3=/Firefox/i.test(t),Yo=/Edg/i.test(t),Ko=/Chrome/i.test(t)||/CriOS/i.test(t),zi=!Yo&&Ko,N0=hf=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),H3=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),by=/Tizen/i.test(t),Ty=/Web0S/i.test(t),wy=by||Ty,Jh=/Safari/i.test(t)&&!zi&&!Wi&&!Yo&&!wy,pf=/Windows/i.test(t),ep=/iPad/i.test(t)||Jh&&Cc&&!/iPhone/i.test(t),ff=/iPhone/i.test(t)&&!ep}const fr=ff||ep||R0,mf=(Jh||fr)&&!zi;var V3=Object.freeze({__proto__:null,get IS_IPOD(){return R0},get IOS_VERSION(){return U3},get IS_ANDROID(){return Wi},get ANDROID_VERSION(){return j3},get IS_FIREFOX(){return $3},get IS_EDGE(){return Yo},get IS_CHROMIUM(){return Ko},get IS_CHROME(){return zi},get CHROMIUM_VERSION(){return N0},get CHROME_VERSION(){return hf},get IE_VERSION(){return H3},get IS_SAFARI(){return Jh},get IS_WINDOWS(){return pf},get IS_IPAD(){return ep},get IS_IPHONE(){return ff},get IS_TIZEN(){return by},get IS_WEBOS(){return Ty},get IS_SMART_TV(){return wy},TOUCH_ENABLED:Cc,IS_IOS:fr,IS_ANY_SAFARI:mf});function ew(t){return typeof t=="string"&&!!t.trim()}function qge(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Vl(){return Ve===te.document}function ql(t){return qi(t)&&t.nodeType===1}function q3(){try{return te.parent!==te.self}catch{return!0}}function W3(t){return function(e,n){if(!ew(e))return Ve[t](null);ew(n)&&(n=Ve.querySelector(n));const r=ql(n)?n:Ve;return r[t]&&r[t](e)}}function yt(t="div",e={},n={},r){const i=Ve.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?ga(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){i.setAttribute(s,n[s])}),r&&B0(i,r),i}function ga(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function ky(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function tc(t,e){return qge(e),t.classList.contains(e)}function qa(t,...e){return t.classList.add(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t}function gf(t,...e){return t?(t.classList.remove(...e.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),t):(kt.warn("removeClass was called with an element that doesn't exist"),null)}function z3(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,n)),t}function G3(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const r=e[n];r===null||typeof r>"u"||r===!1?t.removeAttribute(n):t.setAttribute(n,r===!0?"":r)})}function Vs(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let i=r.length-1;i>=0;i--){const s=r[i].name;let a=r[i].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function Y3(t,e){return t.getAttribute(e)}function wl(t,e,n){t.setAttribute(e,n)}function yf(t,e){t.removeAttribute(e)}function K3(){Ve.body.focus(),Ve.onselectstart=function(){return!1}}function X3(){Ve.onselectstart=function(){return!0}}function kl(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n.height||(n.height=parseFloat(Sl(t,"height"))),n.width||(n.width=parseFloat(Sl(t,"width"))),n}}function Ac(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let r=0,i=0;for(;t.offsetParent&&t!==Ve[Zh.fullscreenElement];)r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:r,top:i,width:e,height:n}}function vf(t,e){const n={x:0,y:0};if(fr){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=Sl(c,"transform");if(/^matrix/.test(d)){const p=d.slice(7,-1).split(/,\s/).map(Number);n.x+=p[4],n.y+=p[5]}else if(/^matrix3d/.test(d)){const p=d.slice(9,-1).split(/,\s/).map(Number);n.x+=p[12],n.y+=p[13]}c=c.parentNode}}const r={},i=Ac(e.target),s=Ac(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,fr&&(u-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/o)),r.x=Math.max(0,Math.min(1,u/a)),r}function Q3(t){return qi(t)&&t.nodeType===3}function _f(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Z3(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),ql(e)||Q3(e))return e;if(typeof e=="string"&&/\S/.test(e))return Ve.createTextNode(e)}).filter(e=>e)}function B0(t,e){return Z3(e).forEach(n=>t.appendChild(n)),t}function J3(t,e){return B0(_f(t),e)}function Lc(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const sa=W3("querySelector"),e8=W3("querySelectorAll");function Sl(t,e){if(!t||!e)return"";if(typeof te.getComputedStyle=="function"){let n;try{n=te.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function t8(t){[...Ve.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(i=>i.cssText).join(""),r=Ve.createElement("style");r.textContent=n,t.document.head.appendChild(r)}catch{const n=Ve.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var n8=Object.freeze({__proto__:null,isReal:Vl,isEl:ql,isInFrame:q3,createEl:yt,textContent:ga,prependTo:ky,hasClass:tc,addClass:qa,removeClass:gf,toggleClass:z3,setAttributes:G3,getAttributes:Vs,getAttribute:Y3,setAttribute:wl,removeAttribute:yf,blockTextSelection:K3,unblockTextSelection:X3,getBoundingClientRect:kl,findPosition:Ac,getPointerPosition:vf,isTextNode:Q3,emptyEl:_f,normalizeContent:Z3,appendContent:B0,insertContent:J3,isSingleLeftClick:Lc,$:sa,$$:e8,computedStyle:Sl,copyStyleSheetsToWindow:t8});let r8=!1,Sy;const Wge=function(){if(Sy.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Ve.getElementsByTagName("video")),e=Array.prototype.slice.call(Ve.getElementsByTagName("audio")),n=Array.prototype.slice.call(Ve.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Sy(a);else{xy(1);break}}else r8||xy(1)};function xy(t,e){Vl()&&(e&&(Sy=e),te.setTimeout(Wge,t))}function Ey(){r8=!0,te.removeEventListener("load",Ey)}Vl()&&(Ve.readyState==="complete"?Ey():te.addEventListener("load",Ey));const i8=function(t){const e=Ve.createElement("style");return e.className=t,e},s8=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var pr=new WeakMap;const zge=3;let Gge=zge;function bi(){return Gge++}function tw(t,e){if(!pr.has(t))return;const n=pr.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&pr.delete(t)}function F0(t,e,n,r){n.forEach(function(i){t(e,i,r)})}function bf(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||te.event;t={};for(const i in r)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&i!=="path"&&(i==="returnValue"&&r.preventDefault||(t[i]=r[i]));if(t.target||(t.target=t.srcElement||Ve),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const i=Ve.documentElement,s=Ve.body;t.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Xd;const Yge=function(){if(typeof Xd!="boolean"){Xd=!1;try{const t=Object.defineProperty({},"passive",{get(){Xd=!0}});te.addEventListener("test",null,t),te.removeEventListener("test",null,t)}catch{}}return Xd},Kge=["touchstart","touchmove"];function Vr(t,e,n){if(Array.isArray(e))return F0(Vr,t,e,n);pr.has(t)||pr.set(t,{});const r=pr.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=bi()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,s){if(r.disabled)return;i=bf(i);const a=r.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!i.isImmediatePropagationStopped();l++)try{o[l].call(t,i,s)}catch(c){kt.error(c)}}}),r.handlers[e].length===1)if(t.addEventListener){let i=!1;Yge()&&Kge.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function rr(t,e,n){if(!pr.has(t))return;const r=pr.get(t);if(!r.handlers)return;if(Array.isArray(e))return F0(rr,t,e,n);const i=function(a,o){r.handlers[o]=[],tw(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(t,a);return}const s=r.handlers[e];if(s){if(!n){i(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);tw(t,e)}}function Wl(t,e,n){const r=pr.has(t)?pr.get(t):{},i=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=bf(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&e.bubbles===!0)Wl.call(null,i,e,n);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){pr.has(e.target)||pr.set(e.target,{});const s=pr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Tf(t,e,n){if(Array.isArray(e))return F0(Tf,t,e,n);const r=function(){rr(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||bi(),Vr(t,e,r)}function U0(t,e,n){const r=function(){rr(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||bi(),Vr(t,e,r)}var Xge=Object.freeze({__proto__:null,fixEvent:bf,on:Vr,off:rr,trigger:Wl,one:Tf,any:U0});const ei=30,Kt=function(t,e,n){e.guid||(e.guid=bi());const r=e.bind(t);return r.guid=n?n+"_"+e.guid:e.guid,r},Gi=function(t,e){let n=te.performance.now();return function(...r){const i=te.performance.now();i-n>=e&&(t(...r),n=i)}},a8=function(t,e,n,r=te){let i;const s=()=>{r.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let u=function(){i=null,u=null,n||t.apply(o,l)};!i&&n&&t.apply(o,l),r.clearTimeout(i),i=r.setTimeout(u,e)};return a.cancel=s,a};var Qge=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:ei,bind_:Kt,throttle:Gi,debounce:a8});let Su;class ti{on(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Vr(this,e,n),this.addEventListener=r}off(e,n){rr(this,e,n)}one(e,n){const r=this.addEventListener;this.addEventListener=()=>{},Tf(this,e,n),this.addEventListener=r}any(e,n){const r=this.addEventListener;this.addEventListener=()=>{},U0(this,e,n),this.addEventListener=r}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=bf(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),Wl(this,e)}queueTrigger(e){Su||(Su=new Map);const n=e.type||e;let r=Su.get(this);r||(r=new Map,Su.set(this,r));const i=r.get(n);r.delete(n),te.clearTimeout(i);const s=te.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,Su.delete(this)),this.trigger(e)},0);r.set(n,s)}}ti.prototype.allowedEvents_={};ti.prototype.addEventListener=ti.prototype.on;ti.prototype.removeEventListener=ti.prototype.off;ti.prototype.dispatchEvent=ti.prototype.trigger;const wf=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,hs=t=>t instanceof ti||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),Zge=(t,e)=>{hs(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Cy=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,tp=(t,e,n)=>{if(!t||!t.nodeName&&!hs(t))throw new Error(`Invalid target for ${wf(e)}#${n}; must be a DOM node or evented object.`)},o8=(t,e,n)=>{if(!Cy(t))throw new Error(`Invalid event type for ${wf(e)}#${n}; must be a non-empty string or array.`)},l8=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${wf(e)}#${n}; must be a function.`)},Um=(t,e,n)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let i,s,a;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):[i,s,a]=e,tp(i,t,n),o8(s,t,n),l8(a,t,n),a=Kt(t,a),{isTargetingSelf:r,target:i,type:s,listener:a}},Ea=(t,e,n,r)=>{tp(t,t,e),t.nodeName?Xge[e](t,n,r):t[e](n,r)},Jge={on(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Um(this,t,"on");if(Ea(n,"on",r,i),!e){const s=()=>this.off(n,r,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,Ea(this,"on","dispose",s),Ea(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Um(this,t,"one");if(e)Ea(n,"one",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,Ea(n,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:n,type:r,listener:i}=Um(this,t,"any");if(e)Ea(n,"any",r,i);else{const s=(...a)=>{this.off(n,r,s),i.apply(null,a)};s.guid=i.guid,Ea(n,"any",r,s)}},off(t,e,n){if(!t||Cy(t))rr(this.eventBusEl_,t,e);else{const r=t,i=e;tp(r,this,"off"),o8(i,this,"off"),l8(n,this,"off"),n=Kt(this,n),this.off("dispose",n),r.nodeName?(rr(r,i,n),rr(r,"dispose",n)):hs(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(t,e){tp(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!Cy(n))throw new Error(`Invalid event type for ${wf(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Wl(this.eventBusEl_,t,e)}};function j0(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=yt("span",{className:"vjs-event-bus"});return Object.assign(t,Jge),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&pr.has(r)&&pr.delete(r)}),te.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const eye={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Go(t,(n,r)=>{this.state[r]!==n&&(e=e||{},e[r]={from:this.state[r],to:n}),this.state[r]=n}),e&&hs(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function u8(t,e){return Object.assign(t,eye),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&hs(t)&&t.on("statechanged",t.handleStateChanged),t}const nc=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},mn=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},c8=function(t,e){return mn(t)===mn(e)};var tye=Object.freeze({__proto__:null,toLowerCase:nc,toTitleCase:mn,titleCaseEquals:c8});class Ae{constructor(e,n,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Yt({},this.options_),n=this.options_=Yt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${bi()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(j0(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),u8(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,n){}off(e,n){}one(e,n){}any(e,n){}trigger(e,n){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Yt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,r){return yt(e,n,r)}localize(e,n,r=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let u=r;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const p=n[d-1];let f=p;return typeof p>"u"&&(f=c),f})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<e.length;r++)if(n=n.getChild(e[r]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=yt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Ve.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Ve.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(e,n={},r=this.children_.length){let i,s;if(typeof e=="string"){s=mn(e);const a=n.componentClass||s;n.name=s;const o=Ae.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,n)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&mn(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[nc(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:ql(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[mn(e.name())]=null,this.childNameIndex_[nc(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,r=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let i;const s=Ae.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Ae.getComponent(a.opts.componentClass||mn(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return sa(e,n||this.contentEl())}$$(e,n){return e8(e,n||this.contentEl())}hasClass(e){return tc(this.el_,e)}addClass(...e){qa(this.el_,...e)}removeClass(...e){gf(this.el_,...e)}toggleClass(e,n){z3(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Y3(this.el_,e)}setAttribute(e,n){wl(this.el_,e,n)}removeAttribute(e){yf(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+mn(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Sl(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${mn(e)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(mt.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const r=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=te.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,u=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&te.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Kt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const r=function(i){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,n){var r;return e=Kt(this,e),this.clearTimersOnDispose_(),r=te.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},n),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),te.clearTimeout(e)),e}setInterval(e,n){e=Kt(this,e),this.clearTimersOnDispose_();const r=te.setInterval(e,n);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),te.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Kt(this,e),n=te.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),n=Kt(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),te.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=Ae.getComponent("Tech"),i=r&&r.isTech(n),s=Ae===n||Ae.prototype.isPrototypeOf(n.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=mn(e),Ae.components_||(Ae.components_={});const a=Ae.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(u=>o[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ae.components_[e]=n,Ae.components_[nc(e)]=n,n}static getComponent(e){if(!(!e||!Ae.components_))return Ae.components_[e]}}Ae.registerComponent("Component",Ae);function nye(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function nw(t,e,n,r){return nye(t,r,n.length-1),n[r][e]}function jm(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:nw.bind(null,"start",0,t),end:nw.bind(null,"end",1,t)},te.Symbol&&te.Symbol.iterator&&(e[te.Symbol.iterator]=()=>(t||[]).values()),e}function gi(t,e){return Array.isArray(t)?jm(t):t===void 0||e===void 0?jm():jm([[t,e]])}const d8=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||s>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let $0=d8;function h8(t){$0=t}function p8(){$0=d8}function Ja(t,e=t){return $0(t,e)}var rye=Object.freeze({__proto__:null,createTimeRanges:gi,createTimeRange:gi,setFormatTime:h8,resetFormatTime:p8,formatTime:Ja});function f8(t,e){let n=0,r,i;if(!e)return 0;(!t||!t.length)&&(t=gi(0,0));for(let s=0;s<t.length;s++)r=t.start(s),i=t.end(s),i>e&&(i=e),n+=i-r;return n/e}function hn(t){if(t instanceof hn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:qi(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=hn.defaultMessages[this.code]||"")}hn.prototype.code=0;hn.prototype.message="";hn.prototype.status=null;hn.prototype.metadata=null;hn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];hn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};hn.MEDIA_ERR_CUSTOM=0;hn.prototype.MEDIA_ERR_CUSTOM=0;hn.MEDIA_ERR_ABORTED=1;hn.prototype.MEDIA_ERR_ABORTED=1;hn.MEDIA_ERR_NETWORK=2;hn.prototype.MEDIA_ERR_NETWORK=2;hn.MEDIA_ERR_DECODE=3;hn.prototype.MEDIA_ERR_DECODE=3;hn.MEDIA_ERR_SRC_NOT_SUPPORTED=4;hn.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;hn.MEDIA_ERR_ENCRYPTED=5;hn.prototype.MEDIA_ERR_ENCRYPTED=5;function rc(t){return t!=null&&typeof t.then=="function"}function Pi(t){rc(t)&&t.then(null,e=>{})}const Ay=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((e,n,r)=>(t[n]&&(e[n]=t[n]),e),{cues:t.cues&&Array.prototype.map.call(t.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},iye=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const i=Ay(r.track);return r.src&&(i.src=r.src),i}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(Ay))},sye=function(t,e){return t.forEach(function(n){const r=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),e.textTracks()};var rw={textTracksToJson:iye,jsonToTextTracks:sye,trackToJson_:Ay};const $m="vjs-modal-dialog";class zl extends Ae{constructor(e,n){super(e,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=yt("div",{className:`${$m}-content`},{role:"document"}),this.descEl_=yt("p",{className:`${$m}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ga(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${$m} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),J3(n,e),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const s=this.getChild("closeButton");s&&r.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),_f(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Ve.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),mt.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!mt.isEventKey(e,"Tab"))return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let s=0;s<n.length;s++)if(r===n[s]){i=s;break}Ve.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof te.HTMLAnchorElement||n instanceof te.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof te.HTMLInputElement||n instanceof te.HTMLSelectElement||n instanceof te.HTMLTextAreaElement||n instanceof te.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof te.HTMLIFrameElement||n instanceof te.HTMLObjectElement||n instanceof te.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}zl.prototype.options_={pauseOnOpen:!0,temporary:!0};Ae.registerComponent("ModalDialog",zl);class xl extends ti{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},hs(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}xl.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in xl.prototype.allowedEvents_)xl.prototype["on"+t]=null;const Hm=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class aye extends xl{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){Hm(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Hm(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Hm(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const Vm=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class oye extends xl{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){Vm(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&Vm(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Vm(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class m8 extends xl{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class lye{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(e){for(let n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class np{constructor(e){np.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let r=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<i)for(r=n;r<i;r++)s.call(this,r)}getCueById(e){let n=null;for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e){n=s;break}}return n}}const uye={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},cye={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},dye={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},iw={disabled:"disabled",hidden:"hidden",showing:"showing"};class H0 extends ti{constructor(e={}){super();const n={id:e.id||"vjs_track_"+bi(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const V0=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],n=Ve.createElement("a");n.href=t;const r={};for(let i=0;i<e.length;i++)r[e[i]]=n[e[i]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=te.location.protocol),r.host||(r.host=te.location.host),r},g8=function(t){if(!t.match(/^https?:\/\//)){const e=Ve.createElement("a");e.href=t,t=e.href}return t},q0=function(t){if(typeof t=="string"){const e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},kf=function(t,e=te.location){const n=V0(t);return(n.protocol===":"?e.protocol:n.protocol)+n.host!==e.protocol+e.host};var hye=Object.freeze({__proto__:null,parseUrl:V0,getAbsoluteURL:g8,getFileExtension:q0,isCrossOrigin:kf});const sw=function(t,e){const n=new te.WebVTT.Parser(te,te.vttjs,te.WebVTT.StringDecoder()),r=[];n.oncue=function(i){e.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(te.console&&te.console.groupCollapsed&&te.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(i=>kt.error(i)),te.console&&te.console.groupEnd&&te.console.groupEnd()),n.flush()},aw=function(t,e){const n={uri:t},r=kf(t);r&&(n.cors=r);const i=e.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),FC(n,Kt(this,function(s,a,o){if(s)return kt.error(s,a);e.loaded_=!0,typeof te.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){kt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return sw(o,e)}):sw(o,e)}))};class ed extends H0{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Yt(e,{kind:dye[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=iw[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new np(this.cues_),a=new np(this.activeCues_);let o=!1;this.timeupdateHandler=Kt(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(u){iw[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&aw(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let d=0,p=this.cues.length;d<p;d++){const f=this.cues[d];f.startTime<=u&&f.endTime>=u&&c.push(f)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&aw(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new te.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}ed.prototype.allowedEvents_={cuechange:"cuechange"};class y8 extends H0{constructor(e={}){const n=Yt(e,{kind:cye[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class v8 extends H0{constructor(e={}){const n=Yt(e,{kind:uye[e.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class ys extends ti{constructor(e={}){super();let n;const r=new ed(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=ys.NONE,r.addEventListener("loadeddata",()=>{n=ys.LOADED,this.trigger({type:"load",target:this})})}}ys.prototype.allowedEvents_={load:"load"};ys.NONE=0;ys.LOADING=1;ys.LOADED=2;ys.ERROR=3;const Jr={audio:{ListClass:aye,TrackClass:y8,capitalName:"Audio"},video:{ListClass:oye,TrackClass:v8,capitalName:"Video"},text:{ListClass:m8,TrackClass:ed,capitalName:"Text"}};Object.keys(Jr).forEach(function(t){Jr[t].getterName=`${t}Tracks`,Jr[t].privateName=`${t}Tracks_`});const El={remoteText:{ListClass:m8,TrackClass:ed,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:lye,TrackClass:ys,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},cr=Object.assign({},Jr,El);El.names=Object.keys(El);Jr.names=Object.keys(Jr);cr.names=[].concat(El.names).concat(Jr.names);function pye(t,e,n,r,i={}){const s=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;const a=new cr.text.TrackClass(i);return s.addTrack(a),a}class gt extends Ae{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),cr.names.forEach(r=>{const i=cr[r];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new cr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Kt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return gi(0,0)}bufferedPercent(){return f8(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Jr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const s=r[i];n==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const r=e[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new hn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?gi(0,0):gi()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Jr.names.forEach(e=>{const n=Jr[e],r=()=>{this.trigger(`${e}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!te.WebVTT)if(Ve.body.contains(this.el())){if(!this.options_["vtt.js"]&&Tl(k1)&&Object.keys(k1).length>0){this.trigger("vttjsloaded");return}const e=Ve.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),te.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),r=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return pye(this,e,n,r)}createRemoteTextTrack(e){const n=Yt(e,{tech:this});return new El.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const r=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=bi();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return gt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof gt||e instanceof gt||e===gt}static registerTech(e,n){if(gt.techs_||(gt.techs_={}),!gt.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!gt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!gt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=mn(e),gt.techs_[e]=n,gt.techs_[nc(e)]=n,e!=="Tech"&&gt.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(gt.techs_&&gt.techs_[e])return gt.techs_[e];if(e=mn(e),te&&te.videojs&&te.videojs[e])return kt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),te.videojs[e]}}}cr.names.forEach(function(t){const e=cr[t];gt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});gt.prototype.featuresVolumeControl=!0;gt.prototype.featuresMuteControl=!0;gt.prototype.featuresFullscreenResize=!1;gt.prototype.featuresPlaybackRate=!1;gt.prototype.featuresProgressEvents=!1;gt.prototype.featuresSourceset=!1;gt.prototype.featuresTimeupdateEvents=!1;gt.prototype.featuresNativeTextTracks=!1;gt.prototype.featuresVideoFrameCallback=!1;gt.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){const n=t.sourceHandlers||[];let r;for(let i=0;i<n.length;i++)if(r=n[i].canPlayType(e),r)return r;return""},t.selectSourceHandler=function(e,n){const r=t.sourceHandlers||[];let i;for(let s=0;s<r.length;s++)if(i=r[s].canHandleSource(e,n),i)return r[s];return null},t.canPlaySource=function(e,n){const r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach(function(e){const n=this[e];typeof n=="function"&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){let n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:kt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ae.registerComponent("Tech",gt);gt.registerTech("Tech",gt);gt.defaultTechOrder_=[];const Wa={},Ly={},rp={};function fye(t,e){Wa[t]=Wa[t]||[],Wa[t].push(e)}function mye(t,e,n){t.setTimeout(()=>Da(e,Wa[e.type],n,t),1)}function gye(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function yye(t,e,n){return t.reduceRight(W0(n),e[n]())}function vye(t,e,n,r){return e[n](t.reduce(W0(n),r))}function ow(t,e,n,r=null){const i="call"+mn(n),s=t.reduce(W0(i),r),a=s===rp,o=a?null:e[n](s);return Tye(t,n,o,a),o}const _ye={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},bye={setCurrentTime:1,setMuted:1,setVolume:1},lw={play:1,pause:1};function W0(t){return(e,n)=>e===rp?rp:n[t]?n[t](e):e}function Tye(t,e,n,r){for(let i=t.length-1;i>=0;i--){const s=t[i];s[e]&&s[e](r,n)}}function wye(t){Ly[t.id()]=null}function kye(t,e){const n=Ly[t.id()];let r=null;if(n==null)return r=e(t),Ly[t.id()]=[[e,r]],r;for(let i=0;i<n.length;i++){const[s,a]=n[i];s===e&&(r=a)}return r===null&&(r=e(t),n.push([e,r])),r}function Da(t={},e=[],n,r,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")Da(t,Wa[a],n,r,i,s);else if(a){const l=kye(r,a);if(!l.setSource)return i.push(l),Da(t,o,n,r,i,s);l.setSource(Object.assign({},t),function(u,c){if(u)return Da(t,o,n,r,i,s);i.push(l),Da(c,t.type===c.type?o:Wa[c.type],n,r,i,s)})}else o.length?Da(t,o,n,r,i,s):s?n(t,i):Da(t,Wa["*"],n,r,i,!0)}const Sye={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},ip=function(t=""){const e=q0(t);return Sye[e.toLowerCase()]||""},xye=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(i=>i.src===e);if(n.length)return n[0].type;const r=t.$$("source");for(let i=0;i<r.length;i++){const s=r[i];if(s.type&&s.src&&s.src===e)return s.type}return ip(e)},_8=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=_8(n),Array.isArray(n)?e=e.concat(n):qi(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[uw({src:t})]:qi(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[uw(t)]:t=[];return t};function uw(t){if(!t.type){const e=ip(t.src);e&&(t.type=e)}return t}var Eye=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class Cye extends Ae{constructor(e,n,r){const i=Yt({createEl:!1},n);if(super(e,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=mn(a[s]);let l=gt.getTech(o);if(o||(l=Ae.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}Ae.registerComponent("MediaLoader",Cye);class Sf extends Ae{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&kt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=yt(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=yt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,ga(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){mt.isEventKey(e,"Space")||mt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("ClickableComponent",Sf);class Iy extends Sf{constructor(e,n){super(e,n),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return yt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(yt("picture",{className:"vjs-poster",tabIndex:-1},{},yt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Pi(this.player_.play()):this.player_.pause())}}Iy.prototype.crossorigin=Iy.prototype.crossOrigin;Ae.registerComponent("PosterImage",Iy);const Gr="#222",cw="#ccc",Aye={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function qm(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function xu(t,e,n){try{t.style[e]=n}catch{return}}function dw(t){return t?`${t}px`:""}class Lye extends Ae{constructor(e,n,r){super(e,n,r);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(Kt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=te.screen.orientation||te,o=te.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<n.length;o++){const l=n[o];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?a=l:a||(a=l):r&&!r.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof te.WebVTT=="function"&&te.WebVTT.processCues(te,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let r=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:i=a)}i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!te.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),r=e/n,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-i)>.1&&(r>i?s=Math.round((e-n*i)/2):a=Math.round((n-e/i)/2)),xu(this.el_,"insetInline",dw(s)),xu(this.el_,"insetBlock",dw(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),r=e.activeCues;let i=r.length;for(;i--;){const s=r[i];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&xu(a.firstChild,"color",qm(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&xu(a.firstChild,"backgroundColor",qm(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?xu(a,"backgroundColor",qm(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Gr}, 2px 2px 4px ${Gr}, 2px 2px 5px ${Gr}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Gr}, 2px 2px ${Gr}, 3px 3px ${Gr}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${cw}, 0 1px ${cw}, -1px -1px ${Gr}, 0 -1px ${Gr}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Gr}, 0 0 4px ${Gr}, 0 0 4px ${Gr}, 0 0 4px ${Gr}`)),n.fontPercent&&n.fontPercent!==1){const o=te.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Aye[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof te.WebVTT!="function"||e.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s)n.push(i.activeCues[s])}te.WebVTT.processCues(te,n,this.el_);for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;qa(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&wl(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}Ae.registerComponent("TextTrackDisplay",Lye);class Iye extends Ae{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=yt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ae.registerComponent("LoadingSpinner",Iye);class Hr extends Sf{createEl(e,n={},r={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=yt(e,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,n={}){const r=this.constructor.name;return kt.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),Ae.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(mt.isEventKey(e,"Space")||mt.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}Ae.registerComponent("Button",Hr);class b8 extends Hr{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Pi(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();rc(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}b8.prototype.controlText_="Play Video";Ae.registerComponent("BigPlayButton",b8);class Mye extends Hr{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){mt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("CloseButton",Mye);class T8 extends Hr{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),n.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Pi(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}T8.prototype.controlText_="Play";Ae.registerComponent("PlayToggle",T8);class Gl extends Ae{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=yt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(r),this.contentEl_=yt("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Ja(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,kt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ve.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Gl.prototype.labelText_="Time";Gl.prototype.controlText_="Time";Ae.registerComponent("TimeDisplay",Gl);class z0 extends Gl{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}z0.prototype.labelText_="Current Time";z0.prototype.controlText_="Current Time";Ae.registerComponent("CurrentTimeDisplay",z0);class G0 extends Gl{constructor(e,n){super(e,n);const r=i=>this.updateContent(i);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}G0.prototype.labelText_="Duration";G0.prototype.controlText_="Duration";Ae.registerComponent("DurationDisplay",G0);class Dye extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),e.appendChild(n),e}}Ae.registerComponent("TimeDivider",Dye);class Y0 extends Gl{constructor(e,n){super(e,n),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(yt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}Y0.prototype.labelText_="Remaining Time";Y0.prototype.controlText_="Remaining Time";Ae.registerComponent("RemainingTimeDisplay",Y0);class Pye extends Ae{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=yt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(yt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Ve.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ae.registerComponent("LiveDisplay",Pye);class w8 extends Hr{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=yt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}w8.prototype.controlText_="Seek to live, currently playing live";Ae.registerComponent("SeekToLive",w8);function td(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var Oye=Object.freeze({__proto__:null,clamp:td});class K0 extends Ae{constructor(e,n){super(e,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,n,r)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!zi&&e.preventDefault(),K3(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;X3(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(td(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=vf(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){mt.isEventKey(e,"Left")||mt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):mt.isEventKey(e,"Right")||mt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ae.registerComponent("Slider",K0);const Wm=(t,e)=>td(t/e*100,0,100).toFixed(2)+"%";class Rye extends Ae{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=yt("span",{className:"vjs-control-text"}),r=yt("span",{textContent:this.localize("Loaded")}),i=Ve.createTextNode(": ");return this.percentageEl_=yt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Wm(s,i);this.percent_!==o&&(this.el_.style.width=o,ga(this.percentageEl_,o),this.percent_=o);for(let l=0;l<r.length;l++){const u=r.start(l),c=r.end(l);let d=a[l];d||(d=this.el_.appendChild(yt()),a[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=Wm(u,s),d.style.width=Wm(c-u,s))}for(let l=a.length;l>r.length;l--)this.el_.removeChild(a[l-1]);a.length=r.length})}}Ae.registerComponent("LoadProgressBar",Rye);class Nye extends Ae{constructor(e,n){super(e,n),this.update=Gi(Kt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,r){const i=Ac(this.el_),s=kl(this.player_.el()),a=e.width*n;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let u=i.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){ga(this.el_,e)}updateTime(e,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+Ja(l,o)}else s=Ja(r,a);this.update(e,n,s),i&&i()})}}Ae.registerComponent("TimeTooltip",Nye);class X0 extends Ae{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=Gi(Kt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const r=this.getChild("timeTooltip");if(!r)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,n,i)}}X0.prototype.options_={children:[]};!fr&&!Wi&&X0.prototype.options_.children.push("timeTooltip");Ae.registerComponent("PlayProgressBar",X0);class k8 extends Ae{constructor(e,n){super(e,n),this.update=Gi(Kt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,r,()=>{this.el_.style.left=`${e.width*n}px`})}}k8.prototype.options_={children:["timeTooltip"]};Ae.registerComponent("MouseTimeDisplay",k8);const Qd=5,hw=12;class Q0 extends K0{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=Kt(this,this.update),this.update=Gi(this.update_,ei),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.on(Ve,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Ve.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ei))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Ve.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ja(r,s),Ja(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(kl(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){Lc(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!Lc(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+i*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Pi(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Qd)}stepBack(){this.userSeek_(this.player_.currentTime()-Qd)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(mt.isEventKey(e,"Space")||mt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(mt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(mt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(mt(e))){e.preventDefault(),e.stopPropagation();const r=(mt.codes[mt(e)]-mt.codes[0])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else mt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Qd*hw)):mt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Qd*hw)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.off(Ve,"visibilitychange",this.toggleVisibility_),super.dispose()}}Q0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!fr&&!Wi&&Q0.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Ae.registerComponent("SeekBar",Q0);class S8 extends Ae{constructor(e,n){super(e,n),this.handleMouseMove=Gi(Kt(this,this.handleMouseMove),ei),this.throttledHandleMouseSeek=Gi(Kt(this,this.handleMouseSeek),ei),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const s=n.el(),a=Ac(s);let o=vf(s,e).x;o=td(o,0,1),i&&i.update(a,o),r&&r.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Pi(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}S8.prototype.options_={children:["seekBar"]};Ae.registerComponent("ProgressControl",S8);class x8 extends Hr{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ve.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in te?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ve.exitPictureInPicture=="function"&&super.show()}}x8.prototype.controlText_="Picture-in-Picture";Ae.registerComponent("PictureInPictureToggle",x8);class E8 extends Hr{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Ve[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}E8.prototype.controlText_="Fullscreen";Ae.registerComponent("FullscreenToggle",E8);const Bye=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Fye extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ae.registerComponent("VolumeLevel",Fye);class Uye extends Ae{constructor(e,n){super(e,n),this.update=Gi(Kt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,r,i){if(!r){const s=kl(this.el_),a=kl(this.player_.el()),o=e.width*n;if(!a||!s)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${i}%`)}write(e){ga(this.el_,e)}updateVolume(e,n,r,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,r,i.toFixed(0)),s&&s()})}}Ae.registerComponent("VolumeLevelTooltip",Uye);class C8 extends Ae{constructor(e,n){super(e,n),this.update=Gi(Kt(this,this.update),ei)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,r,i,()=>{r?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}C8.prototype.options_={children:["volumeLevelTooltip"]};Ae.registerComponent("MouseVolumeLevelDisplay",C8);class xf extends K0{constructor(e,n){super(e,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Lc(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=kl(r),s=this.vertical();let a=vf(r,e);a=s?a.y:a.x,a=td(a,0,1),n.update(i,a,s)}Lc(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}xf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!fr&&!Wi&&xf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");xf.prototype.playerEvent="volumechange";Ae.registerComponent("VolumeBar",xf);class A8 extends Ae{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Tl(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),Bye(this,e),this.throttledHandleMouseMove=Gi(Kt(this,this.handleMouseMove),ei),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}A8.prototype.options_={children:["volumeBar"]};Ae.registerComponent("VolumeControl",A8);const jye=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class L8 extends Hr{constructor(e,n){super(e,n),jye(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),fr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),gf(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),qa(this.el_,`vjs-vol-${n}`)}updateControlText_(){const e=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}L8.prototype.controlText_="Mute";Ae.registerComponent("MuteToggle",L8);class I8 extends Ae{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Tl(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){mt.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Vr(Ve,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),rr(Ve,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){mt.isEventKey(e,"Esc")&&this.handleMouseOut()}}I8.prototype.options_={children:["muteToggle","volumeControl"]};Ae.registerComponent("VolumePanel",I8);class M8 extends Hr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;n+this.skipTime<=i?s=n+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}M8.prototype.controlText_="Skip Forward";Ae.registerComponent("SkipForward",M8);class D8 extends Hr{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let s;i&&n-this.skipTime<=i?s=i:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}D8.prototype.controlText_="Skip Backward";Ae.registerComponent("SkipBackward",D8);class P8 extends Ae{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof Ae&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ae&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=yt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Vr(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||Ve.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){mt.isEventKey(e,"Left")||mt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(mt.isEventKey(e,"Right")||mt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}Ae.registerComponent("Menu",P8);class Z0 extends Ae{constructor(e,n={}){super(e,n),this.menuButton_=new Hr(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Hr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Vr(Ve,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new P8(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=yt("li",{className:"vjs-menu-title",textContent:mn(this.options_.title),tabIndex:-1}),r=new Ae(this.player_,{el:n});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Hr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),rr(Ve,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){mt.isEventKey(e,"Esc")||mt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),mt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(mt.isEventKey(e,"Up")||mt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(mt.isEventKey(e,"Esc")||mt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(mt.isEventKey(e,"Esc")||mt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),mt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),fr&&q3())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ae.registerComponent("MenuButton",Z0);class J0 extends Z0{constructor(e,n){const r=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!r)return;const i=Kt(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}Ae.registerComponent("TrackButton",J0);const $ye=["Tab","Esc","Up","Down","Right","Left"];class nd extends Sf{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),s=yt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){$ye.some(n=>mt.isEventKey(e,n))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ae.registerComponent("MenuItem",nd);class rd extends nd{constructor(e,n){const r=n.track,i=e.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(e,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof te.Event!="object")try{o=new te.Event("change")}catch{}o||(o=Ve.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let i=0;i<r.length;i++){const s=r[i];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ae.registerComponent("TextTrackMenuItem",rd);class O8 extends rd{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let r=!0;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ae.registerComponent("OffTextTrackMenuItem",O8);class Yl extends J0{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=rd){let r;this.label_&&(r=`${this.label_} off`),e.push(new O8(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}Ae.registerComponent("TextTrackButton",Yl);class R8 extends nd{constructor(e,n){const r=n.track,i=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=s&&s<i.endTime,super(e,n),this.track=r,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ae.registerComponent("ChaptersTrackMenuItem",R8);class e_ extends Yl{constructor(e,n,r){super(e,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(mn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let r=0,i=n.length;r<i;r++){const s=n[r],a=new R8(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}e_.prototype.kind_="chapters";e_.prototype.controlText_="Chapters";Ae.registerComponent("ChaptersButton",e_);class t_ extends Yl{constructor(e,n,r){super(e,n,r),this.setIcon("audio-description");const i=e.textTracks(),s=Kt(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let r=!1;for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}t_.prototype.kind_="descriptions";t_.prototype.controlText_="Descriptions";Ae.registerComponent("DescriptionsButton",t_);class n_ extends Yl{constructor(e,n,r){super(e,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}n_.prototype.kind_="subtitles";n_.prototype.controlText_="Subtitles";Ae.registerComponent("SubtitlesButton",n_);class r_ extends rd{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ae.registerComponent("CaptionSettingsMenuItem",r_);class i_ extends Yl{constructor(e,n,r){super(e,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new r_(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}i_.prototype.kind_="captions";i_.prototype.controlText_="Captions";Ae.registerComponent("CaptionsButton",i_);class N8 extends rd{createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(yt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}Ae.registerComponent("SubsCapsMenuItem",N8);class s_ extends Yl{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(mn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new r_(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,N8),e}}s_.prototype.kinds_=["captions","subtitles"];s_.prototype.controlText_="Subtitles";Ae.registerComponent("SubsCapsButton",s_);class B8 extends nd{constructor(e,n){const r=n.track,i=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(e,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,n,r){const i=super.createEl(e,n,r),s=i.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(yt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(yt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ae.registerComponent("AudioTrackMenuItem",B8);class F8 extends J0{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];e.push(new B8(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}F8.prototype.controlText_="Audio Track";Ae.registerComponent("AudioTrackButton",F8);class a_ extends nd{constructor(e,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=r,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}a_.prototype.contentElType="button";Ae.registerComponent("PlaybackRateMenuItem",a_);class U8 extends Z0{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=yt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let r=e.length-1;r>=0;r--)n.push(new a_(this.player(),{rate:e[r]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}U8.prototype.controlText_="Playback Rate";Ae.registerComponent("PlaybackRateMenuButton",U8);class j8 extends Ae{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,r)}}Ae.registerComponent("Spacer",j8);class Hye extends j8{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Ae.registerComponent("CustomControlSpacer",Hye);class $8 extends Ae{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}$8.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ae.registerComponent("ControlBar",$8);class H8 extends zl{constructor(e,n){super(e,n),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}H8.prototype.options_=Object.assign({},zl.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ae.registerComponent("ErrorDisplay",H8);const zm="vjs-text-track-settings",pw=["#000","Black"],fw=["#00F","Blue"],mw=["#0FF","Cyan"],gw=["#0F0","Green"],yw=["#F0F","Magenta"],vw=["#F00","Red"],_w=["#FFF","White"],bw=["#FF0","Yellow"],Gm=["1","Opaque"],Ym=["0.5","Semi-Transparent"],Tw=["0","Transparent"],Ra={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pw,_w,vw,gw,fw,bw,yw,mw]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Gm,Ym,Tw]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_w,pw,vw,gw,fw,bw,yw,mw]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Gm,Ym]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Tw,Ym,Gm]}};Ra.windowColor.options=Ra.backgroundColor.options;function V8(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Vye(t,e){const n=t.options[t.options.selectedIndex].value;return V8(n,e)}function qye(t,e,n){if(e){for(let r=0;r<t.options.length;r++)if(V8(t.options[r].value,n)===e){t.selectedIndex=r;break}}}class Wye extends zl{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=yt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),Go(Ra,r=>{this.on(this.$(r.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,n="",r="label"){const i=Ra[e],s=i.id.replace("%s",this.id_),a=[n,s].join(" ").trim(),o=`vjs_select_${bi()}`;return[`<${r} id="${s}"${r==="label"?` for="${o}" class="vjs-label"`:""}>`,this.localize(i.label),`</${r}>`,`<select aria-labelledby="${a}" id="${o}">`].concat(i.options.map(l=>{const u=s+"-"+l[1].replace(/\W+/g,"");return[`<option id="${u}" value="${l[0]}" `,`aria-labelledby="${a} ${u}">`,this.localize(l[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return yt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return yt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return yt("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return B3(Ra,(e,n,r)=>{const i=Vye(this.$(n.selector),n.parser);return i!==void 0&&(e[r]=i),e},{})}setValues(e){Go(Ra,(n,r)=>{qye(this.$(n.selector),e[r],n.parser)})}setDefaults(){Go(Ra,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(te.localStorage.getItem(zm))}catch(n){kt.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?te.localStorage.setItem(zm,JSON.stringify(e)):te.localStorage.removeItem(zm)}catch(n){kt.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,n=e&&e.subsCapsButton,r=e&&e.captionsButton;n?n.focus():r&&r.focus()}handleLanguagechange(){this.fill()}}Ae.registerComponent("TextTrackSettings",Wye);class zye extends Ae{constructor(e,n){let r=n.ResizeObserver||te.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=Yt({createEl:!r,reportTouchActivity:!1},n);super(e,i),this.ResizeObserver=n.ResizeObserver||te.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=a8(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){rr(this,"resize",s),rr(this,"unload",a),a=null};Vr(this.el_.contentWindow,"unload",a),Vr(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ae.registerComponent("ResizeManager",zye);const Gye={trackingThreshold:20,liveTolerance:15};class Yye extends Ae{constructor(e,n){const r=Yt(Gye,n,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(te.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ei),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let r=e?e.length:0;for(;r--;)n.push(e.start(r));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ae.registerComponent("LiveTracker",Yye);class Kye extends Ae{constructor(e,n){super(e,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:yt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${bi()}`}),description:yt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${bi()}`})},yt("div",{className:"vjs-title-bar"},{},F3(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=r[i];_f(a),s&&ga(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ae.registerComponent("TitleBar",Kye);const My=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),r=[];let i="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(i=r[0]),t.triggerSourceset(i),!0):!1},Xye=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Ve.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=Ve.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",te.Element.prototype.appendChild.call(this,n),this.innerHTML}}),q8=(t,e)=>{let n={};for(let r=0;r<t.length&&(n=Object.getOwnPropertyDescriptor(t[r],e),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},Qye=t=>q8([t.el(),te.HTMLMediaElement.prototype,te.Element.prototype,Xye],"innerHTML"),ww=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},r=Qye(t),i=s=>(...a)=>{const o=s.apply(e,a);return My(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=i(n[s]))}),Object.defineProperty(e,"innerHTML",Yt(r,{set:i(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},Zye=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?g8(te.Element.prototype.getAttribute.call(this,"src")):""},set(t){return te.Element.prototype.setAttribute.call(this,"src",t),t}}),Jye=t=>q8([t.el(),te.HTMLMediaElement.prototype,Zye],"src"),eve=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=Jye(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Yt(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return My(t)||(t.triggerSourceset(""),ww(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):My(t)||ww(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Xe extends gt{constructor(e,n){super(e,n);const r=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&kf(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&kt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Cc||ff)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Xe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){eve(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const r=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const i=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Jr[e],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[El.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let u=!1;for(let c=0;c<r.length;c++)if(r[c]===i[l]){u=!0;break}u||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];r.addEventListener(o,l),this.on("dispose",u=>r.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Jr.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Xe.disposeMediaElement(e),e=r}else{e=Ve.createElement("video");const r=this.options_.tag&&Vs(this.options_.tag),i=Yt({},r);(!Cc||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,G3(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&wl(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],s=this.options_[i];typeof s<"u"&&(s?wl(e,i,i):yf(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&mf?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){kt(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Wi&&zi&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Pi(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Xe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):super.addTextTrack(e,n,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=Ve.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const r=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),te.performance&&(e.creationTime=te.performance.now()),e}}df(Xe,"TEST_VID",function(){if(!Vl())return;const t=Ve.createElement("video"),e=Ve.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Xe.isSupported=function(){try{Xe.TEST_VID.volume=.5}catch{return!1}return!!(Xe.TEST_VID&&Xe.TEST_VID.canPlayType)};Xe.canPlayType=function(t){return Xe.TEST_VID.canPlayType(t)};Xe.canPlaySource=function(t,e){return Xe.canPlayType(t.type)};Xe.canControlVolume=function(){try{const t=Xe.TEST_VID.volume;Xe.TEST_VID.volume=t/2+.1;const e=t!==Xe.TEST_VID.volume;return e&&fr?(te.setTimeout(()=>{Xe&&Xe.prototype&&(Xe.prototype.featuresVolumeControl=t!==Xe.TEST_VID.volume)}),!1):e}catch{return!1}};Xe.canMuteVolume=function(){try{const t=Xe.TEST_VID.muted;return Xe.TEST_VID.muted=!t,Xe.TEST_VID.muted?wl(Xe.TEST_VID,"muted","muted"):yf(Xe.TEST_VID,"muted","muted"),t!==Xe.TEST_VID.muted}catch{return!1}};Xe.canControlPlaybackRate=function(){if(Wi&&zi&&hf<58)return!1;try{const t=Xe.TEST_VID.playbackRate;return Xe.TEST_VID.playbackRate=t/2+.1,t!==Xe.TEST_VID.playbackRate}catch{return!1}};Xe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Ve.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Ve.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Ve.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Ve.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Xe.supportsNativeTextTracks=function(){return mf||fr&&zi};Xe.supportsNativeVideoTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.videoTracks)};Xe.supportsNativeAudioTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.audioTracks)};Xe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){df(Xe.prototype,t,()=>Xe[e](),!0)});Xe.prototype.featuresVolumeControl=Xe.canControlVolume();Xe.prototype.movingMediaElementInDOM=!fr;Xe.prototype.featuresFullscreenResize=!0;Xe.prototype.featuresProgressEvents=!0;Xe.prototype.featuresTimeupdateEvents=!0;Xe.prototype.featuresVideoFrameCallback=!!(Xe.TEST_VID&&Xe.TEST_VID.requestVideoFrameCallback);Xe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Xe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Xe.prototype["set"+mn(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Xe.prototype["set"+mn(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]()}});gt.withSourceHandlers(Xe);Xe.nativeSourceHandler={};Xe.nativeSourceHandler.canPlayType=function(t){try{return Xe.TEST_VID.canPlayType(t)}catch{return""}};Xe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Xe.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=q0(t.src);return Xe.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Xe.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Xe.nativeSourceHandler.dispose=function(){};Xe.registerSourceHandler(Xe.nativeSourceHandler);gt.registerTech("Html5",Xe);const W8=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Km={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Dy=["tiny","xsmall","small","medium","large","xlarge","huge"],mh={};Dy.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;mh[t]=`vjs-layout-${e}`});const tve={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class en extends Ae{constructor(e,n,r){if(e.id=e.id||n.id||`vjs_video_${bi()}`,n=Object.assign(en.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.isFullscreen_=!1,this.log=R3(this.id_),this.fsApi_=Zh,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Vs(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=en.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),j0(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Vr(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Yt(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new te.DOMParser().parseFromString(Eye,"image/svg+xml");if(a.querySelector("parsererror"))kt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const o=a.documentElement;o.style.display="none",this.el_.appendChild(o),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),Cc&&this.addClass("vjs-touch-enabled"),fr||this.addClass("vjs-workinghover"),en.players[this.id_]=this;const s=vy.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),rr(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),rr(Ve,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),en.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),wye(this),cr.names.forEach(e=>{const n=cr[e],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=e.parentNode:i||(n=this.el_=super.createEl("div"));const s=Vs(e);if(i){for(n=this.el_=e,e=this.tag=Ve.createElement("video");n.children.length;)e.appendChild(n.firstChild);tc(n,"video-js")||qa(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",zi&&pf&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||n.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE"].filter(l=>V3[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),te.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=i8("vjs-styles-dimensions");const l=sa(".vjs-styles-defaults"),u=sa("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);qa(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),ky(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){kt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const r=e+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){kt.error(`Improper value "${n}" supplied for for ${e}`);return}this[r]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,hs(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Zge(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(te.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),s8(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const r=mn(e),i=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(gt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};cr.names.forEach(l=>{const u=cr[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=gt.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(Kt(this,this.handleTechReady_),!0),rw.jsonToTextTracks(this.textTracksJson_||[],this.tech_),W8.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${mn(l)}_`](u))}),Object.keys(Km).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${Km[l]}_`].bind(this),event:u});return}this[`handleTech${Km[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&ky(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){cr.names.forEach(e=>{const n=cr[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=rw.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&kt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":vy}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(rc(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),rc(r)&&(r=r.catch(n))):e==="muted"&&!this.muted()?r=n():r=this.play(),!!rc(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,r="";typeof n!="string"&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=xye(this,n)),this.cache_.source=Yt({},e,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=Vs(a[l]);s.push(u),u.src&&u.src===n&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Pi(this.play()):this.pause())}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const r=this.el();let i=Ve[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in bye)return vye(this.middleware_,this.tech_,e,n);if(e in lw)return ow(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(r){throw kt(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in _ye)return yye(this.middleware_,this.tech_,e);if(e in lw)return ow(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(kt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(kt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(kt(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Pi){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(mf||fr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||gi(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=gi(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=gi(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return f8(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let r=e.end(e.length-1);return r>n&&(r=n),r}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),r()}function o(u,c){s(),i(c)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,i))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,r)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),n()}function a(l,u){i(),r(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Ve[this.fsApi_.exitFullscreen]();return e&&Pi(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ve.documentElement.style.overflow,Vr(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow="hidden",qa(Ve.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){mt.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,rr(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow=this.docOrigOverflow,gf(Ve.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&te.documentPictureInPicture){const e=Ve.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(yt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),te.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(t8(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Ve&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(te.documentPictureInPicture&&te.documentPictureInPicture.window)return te.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ve)return Ve.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const i=r.tagName.toLowerCase();return r.isContentEditable?!0:i==="input"?["button","checkbox","hidden","radio","reset","submit"].indexOf(r.type)===-1:["textarea"].indexOf(i)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>mt.isEventKey(a,"f"),muteKey:i=a=>mt.isEventKey(a,"m"),playPauseKey:s=a=>mt.isEventKey(a,"k")||mt.isEventKey(a,"Space")}=n;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=Ae.getComponent("FullscreenToggle");Ve[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ae.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ae.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const s=i[r];let a=gt.getTech(s);if(a||(a=Ae.getComponent(s)),!a){kt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,gt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(kt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,l,u){let c;return o.some(d=>l.some(p=>{if(c=u(d,p),c)return!0})),c};let i;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?i=r(e,n,s(a)):i=r(n,e,a),i||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=_8(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),mye(this,r[0],(i,s)=>{if(this.middleware_=s,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}gye(s,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?c8(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Pi(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),hs(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),n&&n.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ia("beforeerror").forEach(n=>{const r=n(this,e);if(!(qi(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new hn(e),this.addClass("vjs-error"),kt.error(`(CODE:${this.error_.code} ${hn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ia("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,r;const i=Kt(this,this.reportUserActivity),s=function(d){(d.screenX!==n||d.screenY!==r)&&(n=d.screenX,r=d.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(d){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!fr&&!Wi&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();e.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,r){if(this.tech_)return this.tech_.addTextTrack(e,n,r)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),hs(this)&&this.trigger("languagechange"))}languages(){return Yt(en.prototype.options_.languages,this.languages_)}toJSON(){const e=Yt(this.options_),n=e.tracks;e.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=Yt(i),i.player=void 0,e.tracks[r]=i}return e}createModal(e,n){n=n||{},n.content=e||"";const r=new zl(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<Dy.length;r++){const i=Dy[r],s=this.breakpoints_[i];if(n<=s){if(e===i)return;e&&this.removeClass(mh[e]),this.addClass(mh[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},tve,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return mh[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=Yt(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:ip(o)}]),r&&this.crossOrigin(r),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:n,textTracks:r};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:ip(i.poster)}]),i}return Yt(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},r=Vs(e),i=r["data-setup"];if(tc(e,"vjs-fill")&&(r.fill=!0),tc(e,"vjs-fluid")&&(r.fluid=!0),i!==null){const[s,a]=jpe(i||"{}");s&&kt.error(s),Object.assign(r,a)}if(Object.assign(n,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(Vs(l)):u==="track"&&n.tracks.push(Vs(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}cr.names.forEach(function(t){const e=cr[t];en.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});en.prototype.crossorigin=en.prototype.crossOrigin;en.players={};const Eu=te.navigator;en.prototype.options_={techOrder:gt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Eu&&(Eu.languages&&Eu.languages[0]||Eu.userLanguage||Eu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,enableSmoothSeeking:!1};W8.forEach(function(t){en.prototype[`handleTech${mn(t)}_`]=function(){return this.trigger(t)}});Ae.registerComponent("Player",en);const sp="plugin",Xo="activePlugins_",Ro={},ap=t=>Ro.hasOwnProperty(t),gh=t=>ap(t)?Ro[t]:void 0,z8=(t,e)=>{t[Xo]=t[Xo]||{},t[Xo][e]=!0},op=(t,e,n)=>{const r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},nve=function(t,e){const n=function(){op(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return z8(this,t),op(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){n[r]=e[r]}),n},kw=(t,e)=>(e.prototype.name=t,function(...n){op(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...n);return this[t]=()=>r,op(this,r.getEventHash()),r});class Lr{constructor(e){if(this.constructor===Lr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),j0(this),delete this.trigger,u8(this,this.constructor.defaultState),z8(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return Wl(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Xo][e]=!1,this.player=this.state=null,n[e]=kw(e,Ro[e])}static isBasic(e){const n=typeof e=="string"?gh(e):e;return typeof n=="function"&&!Lr.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(ap(e))kt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(en.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return Ro[e]=n,e!==sp&&(Lr.isBasic(n)?en.prototype[e]=nve(e,n):en.prototype[e]=kw(e,n)),n}static deregisterPlugin(e){if(e===sp)throw new Error("Cannot de-register base plugin.");ap(e)&&(delete Ro[e],delete en.prototype[e])}static getPlugins(e=Object.keys(Ro)){let n;return e.forEach(r=>{const i=gh(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(e){const n=gh(e);return n&&n.VERSION||""}}Lr.getPlugin=gh;Lr.BASE_PLUGIN_NAME=sp;Lr.registerPlugin(sp,Lr);en.prototype.usingPlugin=function(t){return!!this[Xo]&&this[Xo][t]===!0};en.prototype.hasPlugin=function(t){return!!ap(t)};function rve(t,e){let n=!1;return function(...r){return n||kt.warn(t),n=!0,e.apply(this,r)}}function ki(t,e,n,r){return rve(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,r)}var ive={UnsupportedSidxContainer:"unsupported-sidx-container-error",DashManifestSidxParsingError:"dash-manifest-sidx-parsing-error",HlsPlaylistRequestError:"hls-playlist-request-error",SegmentUnsupportedMediaFormat:"segment-unsupported-media-format-error",UnsupportedMediaInitialization:"unsupported-media-initialization-error",SegmentSwitchError:"segment-switch-error",SegmentExceedsSourceBufferQuota:"segment-exceeds-source-buffer-quota-error",SegmentAppendError:"segment-append-error",VttLoadError:"vtt-load-error",VttCueParsingError:"vtt-cue-parsing-error",AdsBeforePrerollError:"ads-before-preroll-error",AdsPrerollError:"ads-preroll-error",AdsMidrollError:"ads-midroll-error",AdsPostrollError:"ads-postroll-error",AdsMacroReplacementFailed:"ads-macro-replacement-failed",AdsResumeContentFailed:"ads-resume-content-failed",EMEFailedToRequestMediaKeySystemAccess:"eme-failed-request-media-key-system-access",EMEFailedToCreateMediaKeys:"eme-failed-create-media-keys",EMEFailedToAttachMediaKeysToVideoElement:"eme-failed-attach-media-keys-to-video",EMEFailedToCreateMediaKeySession:"eme-failed-create-media-key-session",EMEFailedToSetServerCertificate:"eme-failed-set-server-certificate",EMEFailedToGenerateLicenseRequest:"eme-failed-generate-license-request",EMEFailedToUpdateSessionWithReceivedLicenseKeys:"eme-failed-update-session",EMEFailedToCloseSession:"eme-failed-close-session",EMEFailedToRemoveKeysFromSession:"eme-failed-remove-keys",EMEFailedToLoadSessionBySessionId:"eme-failed-load-session"};const G8=t=>t.indexOf("#")===0?t.slice(1):t;function ge(t,e,n){let r=ge.getPlayer(t);if(r)return e&&kt.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof t=="string"?sa("#"+G8(t)):t;if(!ql(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s="getRootNode"in i&&i.getRootNode()instanceof te.ShadowRoot?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&kt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),ia("beforesetup").forEach(o=>{const l=o(i,Yt(e));if(!qi(l)||Array.isArray(l)){kt.error("please return an object in beforesetup hooks");return}e=Yt(e,l)});const a=Ae.getComponent("Player");return r=new a(i,e,n),ia("setup").forEach(o=>o(r)),r}ge.hooks_=ss;ge.hooks=ia;ge.hook=Uge;ge.hookOnce=jge;ge.removeHook=O3;if(te.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Vl()){let t=sa(".vjs-styles-defaults");if(!t){t=i8("vjs-styles-defaults");const e=sa("head");e&&e.insertBefore(t,e.firstChild),s8(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}xy(1,ge);ge.VERSION=vy;ge.options=en.prototype.options_;ge.getPlayers=()=>en.players;ge.getPlayer=t=>{const e=en.players;let n;if(typeof t=="string"){const r=G8(t),i=e[r];if(i)return i;n=sa("#"+r)}else n=t;if(ql(n)){const{player:r,playerId:i}=n;if(r||e[i])return r||e[i]}};ge.getAllPlayers=()=>Object.keys(en.players).map(t=>en.players[t]).filter(Boolean);ge.players=en.players;ge.getComponent=Ae.getComponent;ge.registerComponent=(t,e)=>(gt.isTech(e)&&kt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ae.registerComponent.call(Ae,t,e));ge.getTech=gt.getTech;ge.registerTech=gt.registerTech;ge.use=fye;Object.defineProperty(ge,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ge.middleware,"TERMINATOR",{value:rp,writeable:!1,enumerable:!0});ge.browser=V3;ge.obj=Vge;ge.mergeOptions=ki(9,"videojs.mergeOptions","videojs.obj.merge",Yt);ge.defineLazyProperty=ki(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",df);ge.bind=ki(9,"videojs.bind","native Function.prototype.bind",Kt);ge.registerPlugin=Lr.registerPlugin;ge.deregisterPlugin=Lr.deregisterPlugin;ge.plugin=(t,e)=>(kt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Lr.registerPlugin(t,e));ge.getPlugins=Lr.getPlugins;ge.getPlugin=Lr.getPlugin;ge.getPluginVersion=Lr.getPluginVersion;ge.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ge.options.languages=Yt(ge.options.languages,{[t]:e}),ge.options.languages[t]};ge.log=kt;ge.createLogger=R3;ge.time=rye;ge.createTimeRange=ki(9,"videojs.createTimeRange","videojs.time.createTimeRanges",gi);ge.createTimeRanges=ki(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",gi);ge.formatTime=ki(9,"videojs.formatTime","videojs.time.formatTime",Ja);ge.setFormatTime=ki(9,"videojs.setFormatTime","videojs.time.setFormatTime",h8);ge.resetFormatTime=ki(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",p8);ge.parseUrl=ki(9,"videojs.parseUrl","videojs.url.parseUrl",V0);ge.isCrossOrigin=ki(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",kf);ge.EventTarget=ti;ge.any=U0;ge.on=Vr;ge.one=Tf;ge.off=rr;ge.trigger=Wl;ge.xhr=FC;ge.TextTrack=ed;ge.AudioTrack=y8;ge.VideoTrack=v8;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ge[t]=function(){return kt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),n8[t].apply(null,arguments)}});ge.computedStyle=ki(9,"videojs.computedStyle","videojs.dom.computedStyle",Sl);ge.dom=n8;ge.fn=Qge;ge.num=Oye;ge.str=tye;ge.url=hye;ge.Error=ive;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class sve{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class lp extends ge.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const r=this.levels_.length;return n=new sve(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===e){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}lp.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in lp.prototype.allowedEvents_)lp.prototype["on"+t]=null;var Y8="4.1.0";const ave=function(t,e){const n=t.qualityLevels,r=new lp,i=function(){r.dispose(),t.qualityLevels=n,t.off("dispose",i)};return t.on("dispose",i),t.qualityLevels=()=>r,t.qualityLevels.VERSION=Y8,r},K8=function(t){return ave(this,ge.obj.merge({},t))};ge.registerPlugin("qualityLevels",K8);K8.VERSION=Y8;/*! @name @videojs/http-streaming @version 3.12.1 @license Apache-2.0 */const Sr=rf,up=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ri=t=>ge.log.debug?ge.log.debug.bind(ge,"VHS:",`${t} >`):function(){};function Dt(...t){const e=ge.obj||ge;return(e.merge||e.mergeOptions).apply(e,t)}function Dr(...t){const e=ge.time||ge;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function ove(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const r=t.start(n),i=t.end(n);e+=`${r} --> ${i}. Duration (${i-r})
`}return e}const Oi=1/30,Ri=Oi*3,X8=function(t,e){const n=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return Dr(n)},No=function(t,e){return X8(t,function(n,r){return n-Ri<=e&&r+Ri>=e})},Zd=function(t,e){return X8(t,function(n){return n-Oi>=e})},lve=function(t){if(t.length<2)return Dr();const e=[];for(let n=1;n<t.length;n++){const r=t.end(n-1),i=t.start(n);e.push([r,i])}return Dr(e)},uve=function(t,e){let n=null,r=null,i=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Dr();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(n=s[o].time)):s[o].type==="end"&&(i--,i===1&&(r=s[o].time)),n!==null&&r!==null&&(a.push([n,r]),n=null,r=null);return Dr(a)},Q8=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},cve=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Ba=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},dve=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},Xm=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},o_=function(t,e){let n=0;if(!t||!t.length)return n;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);if(!(e>s)){if(e>i&&e<=s){n+=s-e;continue}n+=s-i}}return n},l_=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(r){n+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=t.partTargetDuration)}),n},Py=t=>(t.segments||[]).reduce((e,n,r)=>(n.parts?n.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:r,partIndex:s,part:i,segment:n})}):e.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),e),[]),Z8=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},J8=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let r=(n||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},eA=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=Z8(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},hve=function(t,e){let n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=l_(t,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},pve=function(t,e){let n=0,r,i=e-t.mediaSequence;for(;i<t.segments.length;i++){if(r=t.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=l_(t,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},tA=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=hve(t,e);if(r.precise)return r.result;const i=pve(t,e);return i.precise?i.result:r.result+n},nA=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return te.Infinity}return tA(t,e,n)},ic=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let s=n;s<Math.min(0,r);s++)i+=t;n=0}for(let s=n;s<r;s++)i+=e[s].duration;return i},rA=function(t,e,n,r){if(!t||!t.segments)return null;if(t.endList)return nA(t);if(e===null)return null;e=e||0;let i=tA(t,t.mediaSequence+t.segments.length,e);return n&&(r=typeof r=="number"?r:eA(null,t),i-=r),Math.max(0,i)},fve=function(t,e,n){const r=e||0;let i=rA(t,e,!0,n);return i===null?Dr():(i<r&&(i=r),Dr(r,i))},mve=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:s}){let a=e-i;const o=Py(t);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(n===c.segmentIndex&&!(typeof r=="number"&&typeof c.partIndex=="number"&&r!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+Oi<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i-ic({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const d=c.duration>Oi,p=a===0,f=d&&a+Oi>=0;if(!((p||f)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-Oi>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i+ic({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},iA=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},u_=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Ef=function(t){const e=iA(t);return!t.disabled&&!e},gve=function(t){return t.disabled},yve=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},sA=function(t,e){return e.attributes&&e.attributes[t]},vve=function(t,e,n,r=0){return sA("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-r*8)/e:NaN},Oy=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>Ef(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},c_=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),Sw=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const s in n[i])if(r=e(n[i][s]),r)break;if(r)break}return!!r},id=t=>{if(!t||!t.playlists||!t.playlists.length)return Sw(t,e=>e.playlists&&e.playlists.length||e.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(i=>qC(i))||Sw(t,i=>c_(n,i))))return!1}return!0};var xr={liveEdgeDelay:eA,duration:nA,seekable:fve,getMediaInfoForTime:mve,isEnabled:Ef,isDisabled:gve,isExcluded:iA,isIncompatible:u_,playlistEnd:rA,isAes:yve,hasAttribute:sA,estimateSegmentRequestTime:vve,isLowestEnabledRendition:Oy,isAudioOnly:id,playlistMatch:c_,segmentDurationWithParts:l_};const{log:aA}=ge,Qo=(t,e)=>`${t}-${e}`,oA=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,_ve=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:s})=>{const a=new Nfe;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(u=>a.addParser(u)),i.forEach(u=>a.addTagMapper(u)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,d)=>Math.max(c,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=Z8(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),aA.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},Kl=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const r in t.mediaGroups[n])for(const i in t.mediaGroups[n][r]){const s=t.mediaGroups[n][r][i];e(s,n,r,i)}})},lA=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},bve=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];lA({playlist:n,id:Qo(e,n.uri)}),n.resolvedUri=Sr(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||aA.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Tve=t=>{Kl(t,e=>{e.uri&&(e.resolvedUri=Sr(t.uri,e.uri))})},wve=(t,e)=>{const n=Qo(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:te.location.href,resolvedUri:te.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[e]=r.playlists[0],r},uA=(t,e,n=oA)=>{t.uri=e;for(let i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){const s=`placeholder-uri-${i}`;t.playlists[i].uri=s}const r=id(t);Kl(t,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(r&&s==="AUDIO"&&!i.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}i.playlists=[fi({},i)]}i.playlists.forEach(function(l,u){const c=n(s,a,o,l),d=Qo(u,c);l.uri?l.resolvedUri=l.resolvedUri||Sr(t.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),bve(t),Tve(t)};class xw{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of n){const i=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,r)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const{EventTarget:kve}=ge,Sve=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let i=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=J8(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&i--}n._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new te.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),t=r.toString()}return t},xve=(t,e)=>{if(!t)return e;const n=Dt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(n.parts[r]=Dt(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},Eve=(t,e,n)=>{const r=t.slice(),i=e.slice();n=n||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=r[o+n],u=i[o];l?(a=l.map||a,s.push(xve(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},cA=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Sr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Sr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Sr(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Sr(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Sr(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Sr(e,n.uri))})},dA=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},hA=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Ry=(t,e,n=hA)=>{const r=Dt(t,{}),i=r.playlists[e.id];if(!i||n(i,e))return null;e.segments=dA(e);const s=Dt(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=Eve(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{cA(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,Kl(t,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),r},Ny=(t,e)=>{const n=t.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],s=i&&i.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class Bo extends kve{constructor(e,n,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ri("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=e,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new xw,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Sr(this.main.uri,e.uri);this.llhls&&(n=Sve(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,r){const{uri:i,id:s}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:{errorType:ge.Error.HlsPlaylistRequestError}},this.trigger("error")}parseManifest_({url:e,manifestString:n}){return _ve({onwarn:({message:r})=>this.logger_(`m3u8-parser warn for ${e}: ${r}`),oninfo:({message:r})=>this.logger_(`m3u8-parser info for ${e}: ${r}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const s=n||this.parseManifest_({url:r,manifestString:e});s.lastRequest=Date.now(),lA({playlist:s,uri:r,id:i});const a=Ry(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ny(this.media(),!!a)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),te.clearTimeout(this.mediaUpdateTimeout),te.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new xw,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(te.clearTimeout(this.finalRenditionTimeout),n){const a=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=te.setTimeout(this.media.bind(this,e,!1),a);return}const r=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Ny(e,!0)),!!i){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,o)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=up(e.resolvedUri,o),a)return this.playlistRequestError(this.request,e,r);this.haveMetadata({playlistString:o.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=te.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(e,n)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:{errorType:ge.Error.HlsPlaylistRequestError}},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=up(this.src,n);const r=this.parseManifest_({manifestString:n.responseText,url:this.src});this.setupInitialPlaylist(r)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,uA(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=dA(r),r.segments.forEach(i=>{cA(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||te.location.href;this.main=wve(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const r=this.main,i=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(n){const u=this.createCloneURI_(a.resolvedUri,e),c=Qo(i,u),d=this.createCloneAttributes_(i,a.attributes),p=this.createClonePlaylist_(a,c,e,d);r.playlists[s]=p,r.playlists[c]=p,r.playlists[u]=p}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const r=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][i])){for(const a in r.mediaGroups[s])if(a===i){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((l,u)=>{const c=r.playlists[l.id],d=c.id,p=c.resolvedUri;delete r.playlists[d],delete r.playlists[p]});delete r.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const r=this.main,i=r.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),a=Qo(e.ID,s),o=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,a,e,o);r.playlists[i]=l,r.playlists[a]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,r=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][n]))for(const a in i.mediaGroups[s]){if(a===r)i.mediaGroups[s][n]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][n][o]=fi({},l);const u=i.mediaGroups[s][n][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((d,p)=>{const f=i.playlists[d.id],y=oA(s,n,o),b=Qo(n,y);if(f&&!i.playlists[b]){const S=this.createClonePlaylist_(f,b,e),E=S.resolvedUri;i.playlists[b]=S,i.playlists[E]=S}u.playlists[p]=this.createClonePlaylist_(d,b,e)})}}})}createClonePlaylist_(e,n,r,i){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:n};return e.segments&&(a.segments=[]),i&&(a.attributes=i),Dt(e,a)}createCloneURI_(e,n){const r=new URL(e);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))r.searchParams.set(s,i[s]);return r.href}createCloneAttributes_(e,n){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes.keyId;i&&n.add(i.toLowerCase())}return n}}}const By=function(t,e,n,r){const i=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&i&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=i.byteLength||i.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(i||t.responseText)))),r(e,t)},Cve=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(r=>{n=r(n)}),n},Ave=(t,e,n,r)=>{!t||!t.size||t.forEach(i=>{i(e,n,r)})},pA=function(){const t=function e(n,r){n=Dt({timeout:45e3},n);const i=e.beforeRequest||ge.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||ge.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||ge.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(ge.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=ge.Vhs.xhr.original===!0?ge.xhr:ge.Vhs.xhr,l=Cve(s,n);s.delete(i);const u=o(l||n,function(d,p){return Ave(a,u,d,p),By(u,d,p,r)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=n.uri,u.requestTime=Date.now(),u};return t.original=!0,t},Lve=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=te.BigInt(t.offset)+te.BigInt(t.length)-te.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},Fy=function(t){const e={};return t.byterange&&(e.Range=Lve(t.byterange)),e},Ive=function(t,e){return t.start(e)+"-"+t.end(e)},Mve=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Dve=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},fA=function(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];zC(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},cp=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},mA=function(t){return t.resolvedUri},gA=t=>{const e=Array.prototype.slice.call(t),n=16;let r="",i,s;for(let a=0;a<e.length/n;a++)i=e.slice(a*n,a*n+n).map(Mve).join(""),s=e.slice(a*n,a*n+n).map(Dve).join(""),r+=i+" "+s+`
`;return r},Pve=({bytes:t})=>gA(t),Ove=t=>{let e="",n;for(n=0;n<t.length;n++)e+=Ive(t,n)+" ";return e};var Rve=Object.freeze({__proto__:null,createTransferableMessage:fA,initSegmentId:cp,segmentKeyId:mA,hexDump:gA,tagDump:Pve,textRanges:Ove});const yA=.25,Nve=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,i=t-r;return new Date(e.dateTimeObject.getTime()+i*1e3)},Bve=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,Fve=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(n<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?Bve(i.videoTimingInfo):i.duration+i.duration*yA,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:xr.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Uve=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(t<=n));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+i.duration*yA)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},jve=(t,e)=>{let n,r;try{n=new Date(t),r=new Date(e)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},$ve=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},Hve=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=Uve(e,t);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:e},s=Nve(e,r.segment);return s&&(i.programDateTime=s.toISOString()),n(null,i)},vA=({programTime:t,playlist:e,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!$ve(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=Fve(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,u=jve(l.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+u),s.one("seeked",()=>{vA({programTime:t,playlist:e,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:s,callback:a})});return}const c=l.start+u,d=()=>a(null,s.currentTime());s.one("seeked",d),i&&s.pause(),r(c)},Qm=(t,e)=>{if(t.readyState===4)return e()},Vve=(t,e,n)=>{let r=[],i,s=!1;const a=function(u,c,d,p){return c.abort(),s=!0,n(u,c,d,p)},o=function(u,c){if(s)return;if(u)return a(u,c,"",r);const d=c.responseText.substring(r&&r.byteLength||0,c.responseText.length);if(r=Yfe(r,GC(d,!0)),i=i||Nu(r),r.length<10||i&&r.length<i+2)return Qm(c,()=>a(u,c,"",r));const p=I0(r);return p==="ts"&&r.length<188?Qm(c,()=>a(u,c,"",r)):!p&&r.length<376?Qm(c,()=>a(u,c,"",r)):a(null,c,p,r)},l=e({uri:t,beforeSend(u){u.overrideMimeType("text/plain; charset=x-user-defined"),u.addEventListener("progress",function({total:c,loaded:d}){return By(u,null,{statusCode:u.status},o)})}},function(u,c){return By(l,u,c,o)});return l},{EventTarget:qve}=ge,Ew=function(t,e){if(!hA(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length)||!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const r=t.segments[n],i=e.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const s=r.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},Wve=(t,e,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${i}`},zve=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const s=yge(t,{manifestUri:e,clientOffset:n,sidxMapping:r,previousManifest:i});return uA(s,e,Wve),s},Gve=(t,e)=>{Kl(t,(n,r,i,s)=>{s in e.mediaGroups[r][i]||delete t.mediaGroups[r][i][s]})},Yve=(t,e,n)=>{let r=!0,i=Dt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=lf(a.sidx);n&&n[l]&&n[l].sidx&&C0(a,n[l].sidx,a.sidx.resolvedUri)}const o=Ry(i,a,Ew);o&&(i=o,r=!1)}return Kl(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=Ry(i,s.playlists[0],Ew);c&&(i=c,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[u],r=!1)}}),Gve(i,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:i},Kve=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,Cw=(t,e)=>{const n={};for(const r in t){const i=t[r].sidx;if(i){const s=lf(i);if(!e[s])break;const a=e[s].sidxInfo;Kve(a,i)&&(n[s]=e[s])}}return n},Xve=(t,e)=>{let n=Cw(t.playlists,e);return Kl(t,(r,i,s,a)=>{if(r.playlists&&r.playlists.length){const o=r.playlists;n=Dt(n,Cw(o,e))}}),n};class Uy extends qve{constructor(e,n,r={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ri("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,n,r){const i=e.sidx&&lf(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=te.setTimeout(()=>r(!1),0);return}const s=up(e.sidx.resolvedUri),a=(o,l)=>{if(this.requestErrored_(o,l,n))return;const u=this.mainPlaylistLoader_.sidxMapping_;let c;try{c=kge(at(l.response).subarray(8))}catch(d){d.metadata={errorType:ge.Error.DashManifestSidxParsingError},this.requestErrored_(d,l,n);return}return u[i]={sidxInfo:e.sidx,sidx:c},C0(e,c,e.sidx.resolvedUri),r(!0)};this.request=Vve(s,this.vhs_.xhr,(o,l,u,c)=>{if(o)return a(o,l);if(!u||u!=="mp4"){const f=u||"unknown";return a({status:l.status,message:`Unsupported ${f} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2,metadata:{errorType:ge.Error.UnsupportedSidxContainer,sidxContainer:f}},l)}const{offset:d,length:p}=e.sidx.byterange;if(c.length>=p+d)return a(o,{response:c.subarray(d,d+p),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:Fy({byterange:e.sidx.byterange})},a)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},te.clearTimeout(this.minimumUpdatePeriodTimeout_),te.clearTimeout(this.mediaRequest_),te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,i=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(te.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=te.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=te.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,r)=>{if(this.requestErrored_(n,r)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const i=r.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?this.mainLoaded_=Date.parse(r.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=up(this.mainPlaylistLoader_.srcUrl,r),i){this.handleMain_(),this.syncClientServerClock_(()=>e(r,i));return}return e(r,i)})}syncClientServerClock_(e){const n=vge(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Sr(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let n=zve({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(n=Yve(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const r=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return r&&r!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=r),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(te.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=te.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Xve(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=te.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},Ny(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const r in e.contentProtection){const i=e.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var Hn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Qve=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},_A=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Zve=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const e=new BlobBuilder;return e.append(t),URL.createObjectURL(e.getBlob())}},bA=function(t){return function(){const e=Zve(t),n=_A(new Worker(e));n.objURL=e;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},n}},TA=function(t){return`var browserWorkerPolyFill = ${_A.toString()};
browserWorkerPolyFill(self);
`+t},wA=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},Jve=TA(wA(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var h={};this.on=function(g,_){h[g]||(h[g]=[]),h[g]=h[g].concat(_)},this.off=function(g,_){var v;return h[g]?(v=h[g].indexOf(_),h[g]=h[g].slice(),h[g].splice(v,1),v>-1):!1},this.trigger=function(g){var _,v,w,C;if(_=h[g],!!_)if(arguments.length===2)for(w=_.length,v=0;v<w;++v)_[v].call(this,arguments[1]);else{for(C=[],v=arguments.length,v=1;v<arguments.length;++v)C.push(arguments[v]);for(w=_.length,v=0;v<w;++v)_[v].apply(this,C)}},this.dispose=function(){h={}}}};e.prototype.pipe=function(h){return this.on("data",function(g){h.push(g)}),this.on("done",function(g){h.flush(g)}),this.on("partialdone",function(g){h.partialFlush(g)}),this.on("endedtimeline",function(g){h.endTimeline(g)}),this.on("reset",function(g){h.reset(g)}),h},e.prototype.push=function(h){this.trigger("data",h)},e.prototype.flush=function(h){this.trigger("done",h)},e.prototype.partialFlush=function(h){this.trigger("partialdone",h)},e.prototype.endTimeline=function(h){this.trigger("endedtimeline",h)},e.prototype.reset=function(h){this.trigger("reset",h)};var n=e,r=Math.pow(2,32),i=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),_;return g.getBigUint64?(_=g.getBigUint64(0),_<Number.MAX_SAFE_INTEGER?Number(_):_):g.getUint32(0)*r+g.getUint32(4)},s={getUint64:i,MAX_UINT32:r},a=s.MAX_UINT32,o,l,u,c,d,p,f,y,b,S,E,x,k,L,A,D,M,q,j,W,Y,re,le,F,R,H,B,se,Te,$e,ze,ie,Se,X,be,je;(function(){var h;if(le={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(h in le)le.hasOwnProperty(h)&&(le[h]=[h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]);F=new Uint8Array([105,115,111,109]),H=new Uint8Array([97,118,99,49]),R=new Uint8Array([0,0,0,1]),B=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),se=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Te={video:B,audio:se},ie=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ze=new Uint8Array([0,0,0,0,0,0,0,0]),Se=new Uint8Array([0,0,0,0,0,0,0,0]),X=Se,be=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),je=Se,$e=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(h){var g=[],_=0,v,w,C;for(v=1;v<arguments.length;v++)g.push(arguments[v]);for(v=g.length;v--;)_+=g[v].byteLength;for(w=new Uint8Array(_+8),C=new DataView(w.buffer,w.byteOffset,w.byteLength),C.setUint32(0,w.byteLength),w.set(h,4),v=0,_=8;v<g.length;v++)w.set(g[v],_),_+=g[v].byteLength;return w},l=function(){return o(le.dinf,o(le.dref,ie))},u=function(h){return o(le.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},c=function(){return o(le.ftyp,F,R,F,H)},D=function(h){return o(le.hdlr,Te[h])},d=function(h){return o(le.mdat,h)},A=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(g[12]=h.samplerate>>>24&255,g[13]=h.samplerate>>>16&255,g[14]=h.samplerate>>>8&255,g[15]=h.samplerate&255),o(le.mdhd,g)},L=function(h){return o(le.mdia,A(h),D(h.type),f(h))},p=function(h){return o(le.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},f=function(h){return o(le.minf,h.type==="video"?o(le.vmhd,$e):o(le.smhd,ze),l(),q(h))},y=function(h,g){for(var _=[],v=g.length;v--;)_[v]=W(g[v]);return o.apply(null,[le.moof,p(h)].concat(_))},b=function(h){for(var g=h.length,_=[];g--;)_[g]=x(h[g]);return o.apply(null,[le.moov,E(4294967295)].concat(_).concat(S(h)))},S=function(h){for(var g=h.length,_=[];g--;)_[g]=Y(h[g]);return o.apply(null,[le.mvex].concat(_))},E=function(h){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(le.mvhd,g)},M=function(h){var g=h.samples||[],_=new Uint8Array(4+g.length),v,w;for(w=0;w<g.length;w++)v=g[w].flags,_[w+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return o(le.sdtp,_)},q=function(h){return o(le.stbl,j(h),o(le.stts,je),o(le.stsc,X),o(le.stsz,be),o(le.stco,Se))},function(){var h,g;j=function(_){return o(le.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),_.type==="video"?h(_):g(_))},h=function(_){var v=_.sps||[],w=_.pps||[],C=[],z=[],G,Z;for(G=0;G<v.length;G++)C.push((v[G].byteLength&65280)>>>8),C.push(v[G].byteLength&255),C=C.concat(Array.prototype.slice.call(v[G]));for(G=0;G<w.length;G++)z.push((w[G].byteLength&65280)>>>8),z.push(w[G].byteLength&255),z=z.concat(Array.prototype.slice.call(w[G]));if(Z=[le.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(_.width&65280)>>8,_.width&255,(_.height&65280)>>8,_.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(le.avcC,new Uint8Array([1,_.profileIdc,_.profileCompatibility,_.levelIdc,255].concat([v.length],C,[w.length],z))),o(le.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],_.sarRatio){var ne=_.sarRatio[0],ce=_.sarRatio[1];Z.push(o(le.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(ce&4278190080)>>24,(ce&16711680)>>16,(ce&65280)>>8,ce&255])))}return o.apply(null,Z)},g=function(_){return o(le.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(_.channelcount&65280)>>8,_.channelcount&255,(_.samplesize&65280)>>8,_.samplesize&255,0,0,0,0,(_.samplerate&65280)>>8,_.samplerate&255,0,0]),u(_))}}(),k=function(h){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return o(le.tkhd,g)},W=function(h){var g,_,v,w,C,z,G;return g=o(le.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),z=Math.floor(h.baseMediaDecodeTime/a),G=Math.floor(h.baseMediaDecodeTime%a),_=o(le.tfdt,new Uint8Array([1,0,0,0,z>>>24&255,z>>>16&255,z>>>8&255,z&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255])),C=92,h.type==="audio"?(v=re(h,C),o(le.traf,g,_,v)):(w=M(h),v=re(h,w.length+C),o(le.traf,g,_,v,w))},x=function(h){return h.duration=h.duration||4294967295,o(le.trak,k(h),L(h))},Y=function(h){var g=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(g[g.length-1]=0),o(le.trex,g)},function(){var h,g,_;_=function(v,w){var C=0,z=0,G=0,Z=0;return v.length&&(v[0].duration!==void 0&&(C=1),v[0].size!==void 0&&(z=2),v[0].flags!==void 0&&(G=4),v[0].compositionTimeOffset!==void 0&&(Z=8)),[0,0,C|z|G|Z,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},g=function(v,w){var C,z,G,Z,ne,ce;for(Z=v.samples||[],w+=20+16*Z.length,G=_(Z,w),z=new Uint8Array(G.length+Z.length*16),z.set(G),C=G.length,ce=0;ce<Z.length;ce++)ne=Z[ce],z[C++]=(ne.duration&4278190080)>>>24,z[C++]=(ne.duration&16711680)>>>16,z[C++]=(ne.duration&65280)>>>8,z[C++]=ne.duration&255,z[C++]=(ne.size&4278190080)>>>24,z[C++]=(ne.size&16711680)>>>16,z[C++]=(ne.size&65280)>>>8,z[C++]=ne.size&255,z[C++]=ne.flags.isLeading<<2|ne.flags.dependsOn,z[C++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,z[C++]=ne.flags.degradationPriority&61440,z[C++]=ne.flags.degradationPriority&15,z[C++]=(ne.compositionTimeOffset&4278190080)>>>24,z[C++]=(ne.compositionTimeOffset&16711680)>>>16,z[C++]=(ne.compositionTimeOffset&65280)>>>8,z[C++]=ne.compositionTimeOffset&255;return o(le.trun,z)},h=function(v,w){var C,z,G,Z,ne,ce;for(Z=v.samples||[],w+=20+8*Z.length,G=_(Z,w),C=new Uint8Array(G.length+Z.length*8),C.set(G),z=G.length,ce=0;ce<Z.length;ce++)ne=Z[ce],C[z++]=(ne.duration&4278190080)>>>24,C[z++]=(ne.duration&16711680)>>>16,C[z++]=(ne.duration&65280)>>>8,C[z++]=ne.duration&255,C[z++]=(ne.size&4278190080)>>>24,C[z++]=(ne.size&16711680)>>>16,C[z++]=(ne.size&65280)>>>8,C[z++]=ne.size&255;return o(le.trun,C)},re=function(v,w){return v.type==="audio"?h(v,w):g(v,w)}}();var V={ftyp:c,mdat:d,moof:y,moov:b,initSegment:function(h){var g=c(),_=b(h),v;return v=new Uint8Array(g.byteLength+_.byteLength),v.set(g),v.set(_,g.byteLength),v}},ve=function(h){var g,_,v=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,v.byteLength=0,g=0;g<h.length;g++)_=h[g],_.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=_.dts-v.dts,w.byteLength+=v.byteLength,w.nalCount+=v.length,w.duration+=v.duration,w.push(v)),v=[_],v.byteLength=_.data.byteLength,v.pts=_.pts,v.dts=_.dts):(_.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=_.dts-v.dts,v.byteLength+=_.data.byteLength,v.push(_));return w.length&&(!v.duration||v.duration<=0)&&(v.duration=w[w.length-1].duration),w.byteLength+=v.byteLength,w.nalCount+=v.length,w.duration+=v.duration,w.push(v),w},Ee=function(h){var g,_,v=[],w=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=h[0].pts,v.dts=h[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=h[0].pts,w.dts=h[0].dts,g=0;g<h.length;g++)_=h[g],_.keyFrame?(v.length&&(w.push(v),w.byteLength+=v.byteLength,w.nalCount+=v.nalCount,w.duration+=v.duration),v=[_],v.nalCount=_.length,v.byteLength=_.byteLength,v.pts=_.pts,v.dts=_.dts,v.duration=_.duration):(v.duration+=_.duration,v.nalCount+=_.length,v.byteLength+=_.byteLength,v.push(_));return w.length&&v.duration<=0&&(v.duration=w[w.length-1].duration),w.byteLength+=v.byteLength,w.nalCount+=v.nalCount,w.duration+=v.duration,w.push(v),w},ue=function(h){var g;return!h[0][0].keyFrame&&h.length>1&&(g=h.shift(),h.byteLength-=g.byteLength,h.nalCount-=g.nalCount,h[0][0].dts=g.dts,h[0][0].pts=g.pts,h[0][0].duration+=g.duration),h},Ge=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},K=function(h,g){var _=Ge();return _.dataOffset=g,_.compositionTimeOffset=h.pts-h.dts,_.duration=h.duration,_.size=4*h.length,_.size+=h.byteLength,h.keyFrame&&(_.flags.dependsOn=2,_.flags.isNonSyncSample=0),_},O=function(h,g){var _,v,w,C,z,G=g||0,Z=[];for(_=0;_<h.length;_++)for(C=h[_],v=0;v<C.length;v++)z=C[v],w=K(z,G),G+=w.size,Z.push(w);return Z},N=function(h){var g,_,v,w,C,z,G=0,Z=h.byteLength,ne=h.nalCount,ce=Z+4*ne,_e=new Uint8Array(ce),Ye=new DataView(_e.buffer);for(g=0;g<h.length;g++)for(w=h[g],_=0;_<w.length;_++)for(C=w[_],v=0;v<C.length;v++)z=C[v],Ye.setUint32(G,z.data.byteLength),G+=4,_e.set(z.data,G),G+=z.data.byteLength;return _e},Q=function(h,g){var _,v=g||0,w=[];return _=K(h,v),w.push(_),w},ee=function(h){var g,_,v=0,w=h.byteLength,C=h.length,z=w+4*C,G=new Uint8Array(z),Z=new DataView(G.buffer);for(g=0;g<h.length;g++)_=h[g],Z.setUint32(v,_.data.byteLength),v+=4,G.set(_.data,v),v+=_.data.byteLength;return G},me={groupNalsIntoFrames:ve,groupFramesIntoGops:Ee,extendFirstKeyFrame:ue,generateSampleTable:O,concatenateNalData:N,generateSampleTableForFrame:Q,concatenateNalDataForFrame:ee},J=[33,16,5,32,164,27],fe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],he=function(h){for(var g=[];h--;)g.push(0);return g},Le=function(h){return Object.keys(h).reduce(function(g,_){return g[_]=new Uint8Array(h[_].reduce(function(v,w){return v.concat(w)},[])),g},{})},Ce,xe=function(){if(!Ce){var h={96e3:[J,[227,64],he(154),[56]],88200:[J,[231],he(170),[56]],64e3:[J,[248,192],he(240),[56]],48e3:[J,[255,192],he(268),[55,148,128],he(54),[112]],44100:[J,[255,192],he(268),[55,163,128],he(84),[112]],32e3:[J,[255,192],he(268),[55,234],he(226),[112]],24e3:[J,[255,192],he(268),[55,255,128],he(268),[111,112],he(126),[224]],16e3:[J,[255,192],he(268),[55,255,128],he(268),[111,255],he(269),[223,108],he(195),[1,192]],12e3:[fe,he(268),[3,127,248],he(268),[6,255,240],he(268),[13,255,224],he(268),[27,253,128],he(259),[56]],11025:[fe,he(268),[3,127,248],he(268),[6,255,240],he(268),[13,255,224],he(268),[27,255,192],he(268),[55,175,128],he(108),[112]],8e3:[fe,he(268),[3,121,16],he(47),[7]]};Ce=Le(h)}return Ce},Je=9e4,Qe,st,it,xt,vt,zt,Un;Qe=function(h){return h*Je},st=function(h,g){return h*g},it=function(h){return h/Je},xt=function(h,g){return h/g},vt=function(h,g){return Qe(xt(h,g))},zt=function(h,g){return st(it(h),g)},Un=function(h,g,_){return it(_?h:h-g)};var bt={ONE_SECOND_IN_TS:Je,secondsToVideoTs:Qe,secondsToAudioTs:st,videoTsToSeconds:it,audioTsToSeconds:xt,audioTsToVideoTs:vt,videoTsToAudioTs:zt,metadataTsToSeconds:Un},ks=xe,vr=bt,Ss=function(h){var g,_,v=0;for(g=0;g<h.length;g++)_=h[g],v+=_.data.byteLength;return v},In=function(h,g,_,v){var w,C=0,z=0,G=0,Z=0,ne,ce,_e;if(g.length&&(w=vr.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),C=Math.ceil(vr.ONE_SECOND_IN_TS/(h.samplerate/1024)),_&&v&&(z=w-Math.max(_,v),G=Math.floor(z/C),Z=G*C),!(G<1||Z>vr.ONE_SECOND_IN_TS/2))){for(ne=ks()[h.samplerate],ne||(ne=g[0].data),ce=0;ce<G;ce++)_e=g[0],g.splice(0,0,{data:ne,dts:_e.dts-C,pts:_e.pts-C});return h.baseMediaDecodeTime-=Math.floor(vr.videoTsToAudioTs(Z,h.samplerate)),Z}},pe=function(h,g,_){return g.minSegmentDts>=_?h:(g.minSegmentDts=1/0,h.filter(function(v){return v.dts>=_?(g.minSegmentDts=Math.min(g.minSegmentDts,v.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},He=function(h){var g,_,v=[];for(g=0;g<h.length;g++)_=h[g],v.push({size:_.data.byteLength,duration:1024});return v},ke=function(h){var g,_,v=0,w=new Uint8Array(Ss(h));for(g=0;g<h.length;g++)_=h[g],w.set(_.data,v),v+=_.data.byteLength;return w},qe={prefixWithSilence:In,trimAdtsFramesByEarliestDts:pe,generateSampleTable:He,concatenateFrameData:ke},Ke=bt.ONE_SECOND_IN_TS,zn=function(h,g){typeof g.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=g.pts),h.minSegmentPts===void 0?h.minSegmentPts=g.pts:h.minSegmentPts=Math.min(h.minSegmentPts,g.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=g.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=g.dts),h.minSegmentDts===void 0?h.minSegmentDts=g.dts:h.minSegmentDts=Math.min(h.minSegmentDts,g.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=g.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,g.dts))},_r=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},Qi=function(h,g){var _,v,w=h.minSegmentDts;return g||(w-=h.timelineStartInfo.dts),_=h.timelineStartInfo.baseMediaDecodeTime,_+=w,_=Math.max(0,_),h.type==="audio"&&(v=h.samplerate/Ke,_*=v,_=Math.floor(_)),_},lo={clearDtsInfo:_r,calculateTrackBaseMediaDecodeTime:Qi,collectDtsInfo:zn},xs=4,Si=128,Xl=function(h){for(var g=0,_={payloadType:-1,payloadSize:0},v=0,w=0;g<h.byteLength&&h[g]!==Si;){for(;h[g]===255;)v+=255,g++;for(v+=h[g++];h[g]===255;)w+=255,g++;if(w+=h[g++],!_.payload&&v===xs){var C=String.fromCharCode(h[g+3],h[g+4],h[g+5],h[g+6]);if(C==="GA94"){_.payloadType=v,_.payloadSize=w,_.payload=h.subarray(g,g+w);break}else _.payload=void 0}g+=w,v=0,w=0}return _},Af=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},$6=function(h,g){var _=[],v,w,C,z;if(!(g[0]&64))return _;for(w=g[0]&31,v=0;v<w;v++)C=v*3,z={type:g[C+2]&3,pts:h},g[C+2]&4&&(z.ccData=g[C+3]<<8|g[C+4],_.push(z));return _},H6=function(h){for(var g=h.byteLength,_=[],v=1,w,C;v<g-2;)h[v]===0&&h[v+1]===0&&h[v+2]===3?(_.push(v+2),v+=2):v++;if(_.length===0)return h;w=g-_.length,C=new Uint8Array(w);var z=0;for(v=0;v<w;z++,v++)z===_[0]&&(z++,_.shift()),C[v]=h[z];return C},T_={parseSei:Xl,parseUserData:Af,parseCaptionPackets:$6,discardEmulationPreventionBytes:H6,USER_DATA_REGISTERED_ITU_T_T35:xs},Lf=n,ad=T_,br=function(h){h=h||{},br.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new tn(0,0),new tn(0,1),new tn(1,0),new tn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Vt({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};br.prototype=new Lf,br.prototype.push=function(h){var g,_,v;if(h.nalUnitType==="sei_rbsp"&&(g=ad.parseSei(h.escapedRBSP),!!g.payload&&g.payloadType===ad.USER_DATA_REGISTERED_ITU_T_T35&&(_=ad.parseUserData(g),!!_))){if(h.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(h.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}v=ad.parseCaptionPackets(h.pts,_),this.captionPackets_=this.captionPackets_.concat(v),this.latestDts_!==h.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=h.dts}},br.prototype.flushCCStreams=function(h){this.ccStreams_.forEach(function(g){return h==="flush"?g.flush():g.partialFlush()},this)},br.prototype.flushStream=function(h){if(!this.captionPackets_.length){this.flushCCStreams(h);return}this.captionPackets_.forEach(function(g,_){g.presortIndex=_}),this.captionPackets_.sort(function(g,_){return g.pts===_.pts?g.presortIndex-_.presortIndex:g.pts-_.pts}),this.captionPackets_.forEach(function(g){g.type<2?this.dispatchCea608Packet(g):this.dispatchCea708Packet(g)},this),this.captionPackets_.length=0,this.flushCCStreams(h)},br.prototype.flush=function(){return this.flushStream("flush")},br.prototype.partialFlush=function(){return this.flushStream("partialFlush")},br.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(h){h.reset()})},br.prototype.dispatchCea608Packet=function(h){this.setsTextOrXDSActive(h)?this.activeCea608Channel_[h.type]=null:this.setsChannel1Active(h)?this.activeCea608Channel_[h.type]=0:this.setsChannel2Active(h)&&(this.activeCea608Channel_[h.type]=1),this.activeCea608Channel_[h.type]!==null&&this.ccStreams_[(h.type<<1)+this.activeCea608Channel_[h.type]].push(h)},br.prototype.setsChannel1Active=function(h){return(h.ccData&30720)===4096},br.prototype.setsChannel2Active=function(h){return(h.ccData&30720)===6144},br.prototype.setsTextOrXDSActive=function(h){return(h.ccData&28928)===256||(h.ccData&30974)===4138||(h.ccData&30974)===6186},br.prototype.dispatchCea708Packet=function(h){this.parse708captions_&&this.cc708Stream_.push(h)};var V6={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},q6=function(h){var g=V6[h]||h;return h&4096&&h===g?"":String.fromCharCode(g)},od=function(h){return 32<=h&&h<=127||160<=h&&h<=255},Zi=function(h){this.windowNum=h,this.reset()};Zi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Zi.prototype.getText=function(){return this.rows.join(`
`)},Zi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Zi.prototype.newLine=function(h){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(h),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Zi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Zi.prototype.addText=function(h){this.rows[this.rowIdx]+=h},Zi.prototype.backspace=function(){if(!this.isEmpty()){var h=this.rows[this.rowIdx];this.rows[this.rowIdx]=h.substr(0,h.length-1)}};var ld=function(h,g,_){this.serviceNum=h,this.text="",this.currentWindow=new Zi(-1),this.windows=[],this.stream=_,typeof g=="string"&&this.createTextDecoder(g)};ld.prototype.init=function(h,g){this.startPts=h;for(var _=0;_<8;_++)this.windows[_]=new Zi(_),typeof g=="function"&&(this.windows[_].beforeRowOverflow=g)},ld.prototype.setCurrentWindow=function(h){this.currentWindow=this.windows[h]},ld.prototype.createTextDecoder=function(h){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(h)}catch(g){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+h+" encoding. "+g})}};var Vt=function(h){h=h||{},Vt.prototype.init.call(this);var g=this,_=h.captionServices||{},v={},w;Object.keys(_).forEach(C=>{w=_[C],/^SERVICE/.test(C)&&(v[C]=w.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(C){C.type===3?(g.new708Packet(),g.add708Bytes(C)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(C))}};Vt.prototype=new Lf,Vt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Vt.prototype.add708Bytes=function(h){var g=h.ccData,_=g>>>8,v=g&255;this.current708Packet.ptsVals.push(h.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(v)},Vt.prototype.push708Packet=function(){var h=this.current708Packet,g=h.data,_=null,v=null,w=0,C=g[w++];for(h.seq=C>>6,h.sizeCode=C&63;w<g.length;w++)C=g[w++],_=C>>5,v=C&31,_===7&&v>0&&(C=g[w++],_=C),this.pushServiceBlock(_,w,v),v>0&&(w+=v-1)},Vt.prototype.pushServiceBlock=function(h,g,_){var v,w=g,C=this.current708Packet.data,z=this.services[h];for(z||(z=this.initService(h,w));w<g+_&&w<C.length;w++)v=C[w],od(v)?w=this.handleText(w,z):v===24?w=this.multiByteCharacter(w,z):v===16?w=this.extendedCommands(w,z):128<=v&&v<=135?w=this.setCurrentWindow(w,z):152<=v&&v<=159?w=this.defineWindow(w,z):v===136?w=this.clearWindows(w,z):v===140?w=this.deleteWindows(w,z):v===137?w=this.displayWindows(w,z):v===138?w=this.hideWindows(w,z):v===139?w=this.toggleWindows(w,z):v===151?w=this.setWindowAttributes(w,z):v===144?w=this.setPenAttributes(w,z):v===145?w=this.setPenColor(w,z):v===146?w=this.setPenLocation(w,z):v===143?z=this.reset(w,z):v===8?z.currentWindow.backspace():v===12?z.currentWindow.clearText():v===13?z.currentWindow.pendingNewLine=!0:v===14?z.currentWindow.clearText():v===141&&w++},Vt.prototype.extendedCommands=function(h,g){var _=this.current708Packet.data,v=_[++h];return od(v)&&(h=this.handleText(h,g,{isExtended:!0})),h},Vt.prototype.getPts=function(h){return this.current708Packet.ptsVals[Math.floor(h/2)]},Vt.prototype.initService=function(h,g){var v="SERVICE"+h,_=this,v,w;return v in this.serviceEncodings&&(w=this.serviceEncodings[v]),this.services[h]=new ld(h,w,_),this.services[h].init(this.getPts(g),function(C){_.flushDisplayed(C,_.services[h])}),this.services[h]},Vt.prototype.handleText=function(h,g,_){var v=_&&_.isExtended,w=_&&_.isMultiByte,C=this.current708Packet.data,z=v?4096:0,G=C[h],Z=C[h+1],ne=g.currentWindow,ce,_e;function Ye(De){return De.map(ot=>("0"+(ot&255).toString(16)).slice(-2)).join("")}if(w?(_e=[G,Z],h++):_e=[G],g.textDecoder_&&!v)ce=g.textDecoder_.decode(new Uint8Array(_e));else if(w){const De=Ye(_e);ce=String.fromCharCode(parseInt(De,16))}else ce=q6(z|G);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(h)),ne.pendingNewLine=!1,ne.addText(ce),h},Vt.prototype.multiByteCharacter=function(h,g){var _=this.current708Packet.data,v=_[h+1],w=_[h+2];return od(v)&&od(w)&&(h=this.handleText(++h,g,{isMultiByte:!0})),h},Vt.prototype.setCurrentWindow=function(h,g){var _=this.current708Packet.data,v=_[h],w=v&7;return g.setCurrentWindow(w),h},Vt.prototype.defineWindow=function(h,g){var _=this.current708Packet.data,v=_[h],w=v&7;g.setCurrentWindow(w);var C=g.currentWindow;return v=_[++h],C.visible=(v&32)>>5,C.rowLock=(v&16)>>4,C.columnLock=(v&8)>>3,C.priority=v&7,v=_[++h],C.relativePositioning=(v&128)>>7,C.anchorVertical=v&127,v=_[++h],C.anchorHorizontal=v,v=_[++h],C.anchorPoint=(v&240)>>4,C.rowCount=v&15,v=_[++h],C.columnCount=v&63,v=_[++h],C.windowStyle=(v&56)>>3,C.penStyle=v&7,C.virtualRowCount=C.rowCount+1,h},Vt.prototype.setWindowAttributes=function(h,g){var _=this.current708Packet.data,v=_[h],w=g.currentWindow.winAttr;return v=_[++h],w.fillOpacity=(v&192)>>6,w.fillRed=(v&48)>>4,w.fillGreen=(v&12)>>2,w.fillBlue=v&3,v=_[++h],w.borderType=(v&192)>>6,w.borderRed=(v&48)>>4,w.borderGreen=(v&12)>>2,w.borderBlue=v&3,v=_[++h],w.borderType+=(v&128)>>5,w.wordWrap=(v&64)>>6,w.printDirection=(v&48)>>4,w.scrollDirection=(v&12)>>2,w.justify=v&3,v=_[++h],w.effectSpeed=(v&240)>>4,w.effectDirection=(v&12)>>2,w.displayEffect=v&3,h},Vt.prototype.flushDisplayed=function(h,g){for(var _=[],v=0;v<8;v++)g.windows[v].visible&&!g.windows[v].isEmpty()&&_.push(g.windows[v].getText());g.endPts=h,g.text=_.join(`

`),this.pushCaption(g),g.startPts=h},Vt.prototype.pushCaption=function(h){h.text!==""&&(this.trigger("data",{startPts:h.startPts,endPts:h.endPts,text:h.text,stream:"cc708_"+h.serviceNum}),h.text="",h.startPts=h.endPts)},Vt.prototype.displayWindows=function(h,g){var _=this.current708Packet.data,v=_[++h],w=this.getPts(h);this.flushDisplayed(w,g);for(var C=0;C<8;C++)v&1<<C&&(g.windows[C].visible=1);return h},Vt.prototype.hideWindows=function(h,g){var _=this.current708Packet.data,v=_[++h],w=this.getPts(h);this.flushDisplayed(w,g);for(var C=0;C<8;C++)v&1<<C&&(g.windows[C].visible=0);return h},Vt.prototype.toggleWindows=function(h,g){var _=this.current708Packet.data,v=_[++h],w=this.getPts(h);this.flushDisplayed(w,g);for(var C=0;C<8;C++)v&1<<C&&(g.windows[C].visible^=1);return h},Vt.prototype.clearWindows=function(h,g){var _=this.current708Packet.data,v=_[++h],w=this.getPts(h);this.flushDisplayed(w,g);for(var C=0;C<8;C++)v&1<<C&&g.windows[C].clearText();return h},Vt.prototype.deleteWindows=function(h,g){var _=this.current708Packet.data,v=_[++h],w=this.getPts(h);this.flushDisplayed(w,g);for(var C=0;C<8;C++)v&1<<C&&g.windows[C].reset();return h},Vt.prototype.setPenAttributes=function(h,g){var _=this.current708Packet.data,v=_[h],w=g.currentWindow.penAttr;return v=_[++h],w.textTag=(v&240)>>4,w.offset=(v&12)>>2,w.penSize=v&3,v=_[++h],w.italics=(v&128)>>7,w.underline=(v&64)>>6,w.edgeType=(v&56)>>3,w.fontStyle=v&7,h},Vt.prototype.setPenColor=function(h,g){var _=this.current708Packet.data,v=_[h],w=g.currentWindow.penColor;return v=_[++h],w.fgOpacity=(v&192)>>6,w.fgRed=(v&48)>>4,w.fgGreen=(v&12)>>2,w.fgBlue=v&3,v=_[++h],w.bgOpacity=(v&192)>>6,w.bgRed=(v&48)>>4,w.bgGreen=(v&12)>>2,w.bgBlue=v&3,v=_[++h],w.edgeRed=(v&48)>>4,w.edgeGreen=(v&12)>>2,w.edgeBlue=v&3,h},Vt.prototype.setPenLocation=function(h,g){var _=this.current708Packet.data,v=_[h],w=g.currentWindow.penLoc;return g.currentWindow.pendingNewLine=!0,v=_[++h],w.row=v&15,v=_[++h],w.column=v&63,h},Vt.prototype.reset=function(h,g){var _=this.getPts(h);return this.flushDisplayed(_,g),this.initService(g.serviceNum,h)};var W6={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ud=function(h){return h===null?"":(h=W6[h]||h,String.fromCharCode(h))},cd=14,z6=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ya=function(){for(var h=[],g=cd+1;g--;)h.push({text:"",indent:0,offset:0});return h},tn=function(h,g){tn.prototype.init.call(this),this.field_=h||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(_){var v,w,C,z,G;if(v=_.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),C=v>>>8,z=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(_.pts),this.flushDisplayed(_.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=_.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(_.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(_.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(_.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(_.pts),this.flushDisplayed(_.pts),this.shiftRowsUp_(),this.startPts_=_.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(_.pts),this.displayed_=ya();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ya();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(_.pts),this.displayed_=ya()),this.mode_="paintOn",this.startPts_=_.pts;else if(this.isSpecialCharacter(C,z))C=(C&3)<<8,G=ud(C|z),this[this.mode_](_.pts,G),this.column_++;else if(this.isExtCharacter(C,z))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),C=(C&3)<<8,G=ud(C|z),this[this.mode_](_.pts,G),this.column_++;else if(this.isMidRowCode(C,z))this.clearFormatting(_.pts),this[this.mode_](_.pts," "),this.column_++,(z&14)===14&&this.addFormatting(_.pts,["i"]),(z&1)===1&&this.addFormatting(_.pts,["u"]);else if(this.isOffsetControlCode(C,z)){const ne=z&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(C,z)){var Z=z6.indexOf(v&7968);if(this.mode_==="rollUp"&&(Z-this.rollUpRows_+1<0&&(Z=this.rollUpRows_-1),this.setRollUp(_.pts,Z)),Z!==this.row_&&Z>=0&&Z<=14&&(this.clearFormatting(_.pts),this.row_=Z),z&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(_.pts,["u"]),(v&16)===16){const ne=(v&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(z)&&(z&14)===14&&this.addFormatting(_.pts,["i"])}else this.isNormalChar(C)&&(z===0&&(z=null),G=ud(C),G+=ud(z),this[this.mode_](_.pts,G),this.column_+=G.length)}};tn.prototype=new Lf,tn.prototype.flushDisplayed=function(h){const g=v=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+v+"."})},_=[];this.displayed_.forEach((v,w)=>{if(v&&v.text&&v.text.length){try{v.text=v.text.trim()}catch{g(w)}v.text.length&&_.push({text:v.text,line:w+1,position:10+Math.min(70,v.indent*10)+v.offset*2.5})}else v==null&&g(w)}),_.length&&this.trigger("data",{startPts:this.startPts_,endPts:h,content:_,stream:this.name_})},tn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ya(),this.nonDisplayed_=ya(),this.lastControlCode_=null,this.column_=0,this.row_=cd,this.rollUpRows_=2,this.formatting_=[]},tn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},tn.prototype.isSpecialCharacter=function(h,g){return h===this.EXT_&&g>=48&&g<=63},tn.prototype.isExtCharacter=function(h,g){return(h===this.EXT_+1||h===this.EXT_+2)&&g>=32&&g<=63},tn.prototype.isMidRowCode=function(h,g){return h===this.EXT_&&g>=32&&g<=47},tn.prototype.isOffsetControlCode=function(h,g){return h===this.OFFSET_&&g>=33&&g<=35},tn.prototype.isPAC=function(h,g){return h>=this.BASE_&&h<this.BASE_+8&&g>=64&&g<=127},tn.prototype.isColorPAC=function(h){return h>=64&&h<=79||h>=96&&h<=127},tn.prototype.isNormalChar=function(h){return h>=32&&h<=127},tn.prototype.setRollUp=function(h,g){if(this.mode_!=="rollUp"&&(this.row_=cd,this.mode_="rollUp",this.flushDisplayed(h),this.nonDisplayed_=ya(),this.displayed_=ya()),g!==void 0&&g!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[g-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]={text:"",indent:0,offset:0};g===void 0&&(g=this.row_),this.topRow_=g-this.rollUpRows_+1},tn.prototype.addFormatting=function(h,g){this.formatting_=this.formatting_.concat(g);var _=g.reduce(function(v,w){return v+"<"+w+">"},"");this[this.mode_](h,_)},tn.prototype.clearFormatting=function(h){if(this.formatting_.length){var g=this.formatting_.reverse().reduce(function(_,v){return _+"</"+v+">"},"");this.formatting_=[],this[this.mode_](h,g)}},tn.prototype.popOn=function(h,g){var _=this.nonDisplayed_[this.row_].text;_+=g,this.nonDisplayed_[this.row_].text=_},tn.prototype.rollUp=function(h,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_},tn.prototype.shiftRowsUp_=function(){var h;for(h=0;h<this.topRow_;h++)this.displayed_[h]={text:"",indent:0,offset:0};for(h=this.row_+1;h<cd+1;h++)this.displayed_[h]={text:"",indent:0,offset:0};for(h=this.topRow_;h<this.row_;h++)this.displayed_[h]=this.displayed_[h+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},tn.prototype.paintOn=function(h,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_};var w_={CaptionStream:br,Cea608Stream:tn,Cea708Stream:Vt},dd={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},G6=n,Y6=8589934592,K6=4294967296,k_="shared",If=function(h,g){var _=1;for(h>g&&(_=-1);Math.abs(g-h)>K6;)h+=_*Y6;return h},Mf=function(h){var g,_;Mf.prototype.init.call(this),this.type_=h||k_,this.push=function(v){if(v.type==="metadata"){this.trigger("data",v);return}this.type_!==k_&&v.type!==this.type_||(_===void 0&&(_=v.dts),v.dts=If(v.dts,_),v.pts=If(v.pts,_),g=v.dts,this.trigger("data",v))},this.flush=function(){_=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){_=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Mf.prototype=new G6;var S_={TimestampRolloverStream:Mf,handleRollover:If},X6=(h,g,_)=>{if(!h)return-1;for(var v=_;v<h.length;v++)if(h[v]===g)return v;return-1},Q6={typedArrayIndexOf:X6},hd=Q6.typedArrayIndexOf,pd={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},x_=function(h,g,_){var v,w="";for(v=g;v<_;v++)w+="%"+("00"+h[v].toString(16)).slice(-2);return w},Ql=function(h,g,_){return decodeURIComponent(x_(h,g,_))},Zl=function(h,g,_){return unescape(x_(h,g,_))},Jl=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},eu={APIC:function(h){var g=1,_,v,w="-->";h.data[0]===pd.Utf8&&(_=hd(h.data,0,g),!(_<0)&&(h.mimeType=Zl(h.data,g,_),g=_+1,h.pictureType=h.data[g],g++,v=hd(h.data,0,g),!(v<0)&&(h.description=Ql(h.data,g,v),g=v+1,h.mimeType===w?h.url=Zl(h.data,g,h.data.length):h.pictureData=h.data.subarray(g,h.data.length))))},"T*":function(h){h.data[0]===pd.Utf8&&(h.value=Ql(h.data,1,h.data.length).replace(/\0*$/,""),h.values=h.value.split("\0"))},TXXX:function(h){var g;h.data[0]===pd.Utf8&&(g=hd(h.data,0,1),g!==-1&&(h.description=Ql(h.data,1,g),h.value=Ql(h.data,g+1,h.data.length).replace(/\0*$/,""),h.data=h.value))},"W*":function(h){h.url=Zl(h.data,0,h.data.length).replace(/\0.*$/,"")},WXXX:function(h){var g;h.data[0]===pd.Utf8&&(g=hd(h.data,0,1),g!==-1&&(h.description=Ql(h.data,1,g),h.url=Zl(h.data,g+1,h.data.length).replace(/\0.*$/,"")))},PRIV:function(h){var g;for(g=0;g<h.data.length;g++)if(h.data[g]===0){h.owner=Zl(h.data,0,g);break}h.privateData=h.data.subarray(g+1),h.data=h.privateData}},Z6=function(h){var g,_,v=10,w=0,C=[];if(!(h.length<10||h[0]!==73||h[1]!==68||h[2]!==51)){w=Jl(h.subarray(6,10)),w+=10;var z=h[5]&64;z&&(v+=4,v+=Jl(h.subarray(10,14)),w-=Jl(h.subarray(16,20)));do{if(g=Jl(h.subarray(v+4,v+8)),g<1)break;_=String.fromCharCode(h[v],h[v+1],h[v+2],h[v+3]);var G={id:_,data:h.subarray(v+10,v+g+10)};G.key=G.id,eu[G.id]?eu[G.id](G):G.id[0]==="T"?eu["T*"](G):G.id[0]==="W"&&eu["W*"](G),C.push(G),v+=10,v+=g}while(v<w);return C}},E_={parseId3Frames:Z6,parseSyncSafeInteger:Jl,frameParsers:eu},J6=n,eL=dd,Es=E_,fd;fd=function(h){var g={descriptor:h&&h.descriptor},_=0,v=[],w=0,C;if(fd.prototype.init.call(this),this.dispatchType=eL.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(C=0;C<g.descriptor.length;C++)this.dispatchType+=("00"+g.descriptor[C].toString(16)).slice(-2);this.push=function(z){var G,Z,ne,ce,_e,Ye;if(z.type==="timed-metadata"){if(z.dataAlignmentIndicator&&(w=0,v.length=0),v.length===0&&(z.data.length<10||z.data[0]!==73||z.data[1]!==68||z.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(z),w+=z.data.byteLength,v.length===1&&(_=Es.parseSyncSafeInteger(z.data.subarray(6,10)),_+=10),!(w<_)){for(G={data:new Uint8Array(_),frames:[],pts:v[0].pts,dts:v[0].dts},_e=0;_e<_;)G.data.set(v[0].data.subarray(0,_-_e),_e),_e+=v[0].data.byteLength,w-=v[0].data.byteLength,v.shift();Z=10,G.data[5]&64&&(Z+=4,Z+=Es.parseSyncSafeInteger(G.data.subarray(10,14)),_-=Es.parseSyncSafeInteger(G.data.subarray(16,20)));do{if(ne=Es.parseSyncSafeInteger(G.data.subarray(Z+4,Z+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ye=String.fromCharCode(G.data[Z],G.data[Z+1],G.data[Z+2],G.data[Z+3]),ce={id:Ye,data:G.data.subarray(Z+10,Z+ne+10)},ce.key=ce.id,Es.frameParsers[ce.id]?Es.frameParsers[ce.id](ce):ce.id[0]==="T"?Es.frameParsers["T*"](ce):ce.id[0]==="W"&&Es.frameParsers["W*"](ce),ce.owner==="com.apple.streaming.transportStreamTimestamp"){var De=ce.data,ot=(De[3]&1)<<30|De[4]<<22|De[5]<<14|De[6]<<6|De[7]>>>2;ot*=4,ot+=De[7]&3,ce.timeStamp=ot,G.pts===void 0&&G.dts===void 0&&(G.pts=ce.timeStamp,G.dts=ce.timeStamp),this.trigger("timestamp",ce)}G.frames.push(ce),Z+=10,Z+=ne}while(Z<_);this.trigger("data",G)}}}},fd.prototype=new J6;var tL=fd,Df=n,Pf=w_,ii=dd,nL=S_.TimestampRolloverStream,md,tu,gd,uo=188,Of=71;md=function(){var h=new Uint8Array(uo),g=0;md.prototype.init.call(this),this.push=function(_){var v=0,w=uo,C;for(g?(C=new Uint8Array(_.byteLength+g),C.set(h.subarray(0,g)),C.set(_,g),g=0):C=_;w<C.byteLength;){if(C[v]===Of&&C[w]===Of){this.trigger("data",C.subarray(v,w)),v+=uo,w+=uo;continue}v++,w++}v<C.byteLength&&(h.set(C.subarray(v),0),g=C.byteLength-v)},this.flush=function(){g===uo&&h[0]===Of&&(this.trigger("data",h),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},md.prototype=new Df,tu=function(){var h,g,_,v;tu.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(w,C){var z=0;C.payloadUnitStartIndicator&&(z+=w[z]+1),C.type==="pat"?g(w.subarray(z),C):_(w.subarray(z),C)},g=function(w,C){C.section_number=w[7],C.last_section_number=w[8],v.pmtPid=(w[10]&31)<<8|w[11],C.pmtPid=v.pmtPid},_=function(w,C){var z,G,Z,ne;if(w[5]&1){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},z=(w[1]&15)<<8|w[2],G=3+z-4,Z=(w[10]&15)<<8|w[11],ne=12+Z;ne<G;){var ce=w[ne],_e=(w[ne+1]&31)<<8|w[ne+2];ce===ii.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=_e:ce===ii.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=_e:ce===ii.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][_e]=ce),ne+=((w[ne+3]&15)<<8|w[ne+4])+5}C.programMapTable=v.programMapTable}},this.push=function(w){var C={},z=4;if(C.payloadUnitStartIndicator=!!(w[1]&64),C.pid=w[1]&31,C.pid<<=8,C.pid|=w[2],(w[3]&48)>>>4>1&&(z+=w[z]+1),C.pid===0)C.type="pat",h(w.subarray(z),C),this.trigger("data",C);else if(C.pid===this.pmtPid)for(C.type="pmt",h(w.subarray(z),C),this.trigger("data",C);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,z,C]):this.processPes_(w,z,C)},this.processPes_=function(w,C,z){z.pid===this.programMapTable.video?z.streamType=ii.H264_STREAM_TYPE:z.pid===this.programMapTable.audio?z.streamType=ii.ADTS_STREAM_TYPE:z.streamType=this.programMapTable["timed-metadata"][z.pid],z.type="pes",z.data=w.subarray(C),this.trigger("data",z)}},tu.prototype=new Df,tu.STREAM_TYPES={h264:27,adts:15},gd=function(){var h=this,g=!1,_={data:[],size:0},v={data:[],size:0},w={data:[],size:0},C,z=function(Z,ne){var ce;const _e=Z[0]<<16|Z[1]<<8|Z[2];ne.data=new Uint8Array,_e===1&&(ne.packetLength=6+(Z[4]<<8|Z[5]),ne.dataAlignmentIndicator=(Z[6]&4)!==0,ce=Z[7],ce&192&&(ne.pts=(Z[9]&14)<<27|(Z[10]&255)<<20|(Z[11]&254)<<12|(Z[12]&255)<<5|(Z[13]&254)>>>3,ne.pts*=4,ne.pts+=(Z[13]&6)>>>1,ne.dts=ne.pts,ce&64&&(ne.dts=(Z[14]&14)<<27|(Z[15]&255)<<20|(Z[16]&254)<<12|(Z[17]&255)<<5|(Z[18]&254)>>>3,ne.dts*=4,ne.dts+=(Z[18]&6)>>>1)),ne.data=Z.subarray(9+Z[8]))},G=function(Z,ne,ce){var _e=new Uint8Array(Z.size),Ye={type:ne},De=0,ot=0,ht=!1,Mn;if(!(!Z.data.length||Z.size<9)){for(Ye.trackId=Z.data[0].pid,De=0;De<Z.data.length;De++)Mn=Z.data[De],_e.set(Mn.data,ot),ot+=Mn.data.byteLength;z(_e,Ye),ht=ne==="video"||Ye.packetLength<=Z.size,(ce||ht)&&(Z.size=0,Z.data.length=0),ht&&h.trigger("data",Ye)}};gd.prototype.init.call(this),this.push=function(Z){({pat:function(){},pes:function(){var ne,ce;switch(Z.streamType){case ii.H264_STREAM_TYPE:ne=_,ce="video";break;case ii.ADTS_STREAM_TYPE:ne=v,ce="audio";break;case ii.METADATA_STREAM_TYPE:ne=w,ce="timed-metadata";break;default:return}Z.payloadUnitStartIndicator&&G(ne,ce,!0),ne.data.push(Z),ne.size+=Z.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};C=Z.programMapTable,C.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),g=!0,h.trigger("data",ne)}})[Z.type]()},this.reset=function(){_.size=0,_.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){G(_,"video"),G(v,"audio"),G(w,"timed-metadata")},this.flush=function(){if(!g&&C){var Z={type:"metadata",tracks:[]};C.video!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.video,codec:"avc",type:"video"}),C.audio!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+C.audio,codec:"adts",type:"audio"}),h.trigger("data",Z)}g=!1,this.flushStreams_(),this.trigger("done")}},gd.prototype=new Df;var C_={PAT_PID:0,MP2T_PACKET_LENGTH:uo,TransportPacketStream:md,TransportParseStream:tu,ElementaryStream:gd,TimestampRolloverStream:nL,CaptionStream:Pf.CaptionStream,Cea608Stream:Pf.Cea608Stream,Cea708Stream:Pf.Cea708Stream,MetadataStream:tL};for(var Rf in ii)ii.hasOwnProperty(Rf)&&(C_[Rf]=ii[Rf]);var rL=C_,iL=n,sL=bt.ONE_SECOND_IN_TS,yd,A_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];yd=function(h){var g,_=0;yd.prototype.init.call(this),this.skipWarn_=function(v,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${v} to ${w} in frame ${_} outside syncword`})},this.push=function(v){var w=0,C,z,G,Z,ne;if(h||(_=0),v.type==="audio"){g&&g.length?(G=g,g=new Uint8Array(G.byteLength+v.data.byteLength),g.set(G),g.set(v.data,G.byteLength)):g=v.data;for(var ce;w+7<g.length;){if(g[w]!==255||(g[w+1]&246)!==240){typeof ce!="number"&&(ce=w),w++;continue}if(typeof ce=="number"&&(this.skipWarn_(ce,w),ce=null),z=(~g[w+1]&1)*2,C=(g[w+3]&3)<<11|g[w+4]<<3|(g[w+5]&224)>>5,Z=((g[w+6]&3)+1)*1024,ne=Z*sL/A_[(g[w+2]&60)>>>2],g.byteLength-w<C)break;this.trigger("data",{pts:v.pts+_*ne,dts:v.dts+_*ne,sampleCount:Z,audioobjecttype:(g[w+2]>>>6&3)+1,channelcount:(g[w+2]&1)<<2|(g[w+3]&192)>>>6,samplerate:A_[(g[w+2]&60)>>>2],samplingfrequencyindex:(g[w+2]&60)>>>2,samplesize:16,data:g.subarray(w+7+z,w+C)}),_++,w+=C}typeof ce=="number"&&(this.skipWarn_(ce,w),ce=null),g=g.subarray(w)}},this.flush=function(){_=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},yd.prototype=new iL;var aL=yd,L_;L_=function(h){var g=h.byteLength,_=0,v=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+v},this.loadWord=function(){var w=h.byteLength-g,C=new Uint8Array(4),z=Math.min(4,g);if(z===0)throw new Error("no bytes available");C.set(h.subarray(w,w+z)),_=new DataView(C.buffer).getUint32(0),v=z*8,g-=z},this.skipBits=function(w){var C;v>w?(_<<=w,v-=w):(w-=v,C=Math.floor(w/8),w-=C*8,g-=C,this.loadWord(),_<<=w,v-=w)},this.readBits=function(w){var C=Math.min(v,w),z=_>>>32-C;return v-=C,v>0?_<<=C:g>0&&this.loadWord(),C=w-C,C>0?z<<C|this.readBits(C):z},this.skipLeadingZeros=function(){var w;for(w=0;w<v;++w)if(_&2147483648>>>w)return _<<=w,v-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var oL=L_,I_=n,lL=oL,vd,nu,M_;nu=function(){var h=0,g,_;nu.prototype.init.call(this),this.push=function(v){var w;_?(w=new Uint8Array(_.byteLength+v.data.byteLength),w.set(_),w.set(v.data,_.byteLength),_=w):_=v.data;for(var C=_.byteLength;h<C-3;h++)if(_[h+2]===1){g=h+5;break}for(;g<C;)switch(_[g]){case 0:if(_[g-1]!==0){g+=2;break}else if(_[g-2]!==0){g++;break}h+3!==g-2&&this.trigger("data",_.subarray(h+3,g-2));do g++;while(_[g]!==1&&g<C);h=g-2,g+=3;break;case 1:if(_[g-1]!==0||_[g-2]!==0){g+=3;break}this.trigger("data",_.subarray(h+3,g-2)),h=g-2,g+=3;break;default:g+=3;break}_=_.subarray(h),g-=h,h=0},this.reset=function(){_=null,h=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(h+3)),_=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},nu.prototype=new I_,M_={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},vd=function(){var h=new nu,g,_,v,w,C,z,G;vd.prototype.init.call(this),g=this,this.push=function(Z){Z.type==="video"&&(_=Z.trackId,v=Z.pts,w=Z.dts,h.push(Z))},h.on("data",function(Z){var ne={trackId:_,pts:v,dts:w,data:Z,nalUnitTypeCode:Z[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=C(Z.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=C(Z.subarray(1)),ne.config=z(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",ne)}),h.on("done",function(){g.trigger("done")}),h.on("partialdone",function(){g.trigger("partialdone")}),h.on("reset",function(){g.trigger("reset")}),h.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},G=function(Z,ne){var ce=8,_e=8,Ye,De;for(Ye=0;Ye<Z;Ye++)_e!==0&&(De=ne.readExpGolomb(),_e=(ce+De+256)%256),ce=_e===0?ce:_e},C=function(Z){for(var ne=Z.byteLength,ce=[],_e=1,Ye,De;_e<ne-2;)Z[_e]===0&&Z[_e+1]===0&&Z[_e+2]===3?(ce.push(_e+2),_e+=2):_e++;if(ce.length===0)return Z;Ye=ne-ce.length,De=new Uint8Array(Ye);var ot=0;for(_e=0;_e<Ye;ot++,_e++)ot===ce[0]&&(ot++,ce.shift()),De[_e]=Z[ot];return De},z=function(Z){var ne=0,ce=0,_e=0,Ye=0,De,ot,ht,Mn,Wr,ba,sb,ab,ob,zf,lb,_n=[1,1],ub,Ta;if(De=new lL(Z),ot=De.readUnsignedByte(),Mn=De.readUnsignedByte(),ht=De.readUnsignedByte(),De.skipUnsignedExpGolomb(),M_[ot]&&(Wr=De.readUnsignedExpGolomb(),Wr===3&&De.skipBits(1),De.skipUnsignedExpGolomb(),De.skipUnsignedExpGolomb(),De.skipBits(1),De.readBoolean()))for(lb=Wr!==3?8:12,Ta=0;Ta<lb;Ta++)De.readBoolean()&&(Ta<6?G(16,De):G(64,De));if(De.skipUnsignedExpGolomb(),ba=De.readUnsignedExpGolomb(),ba===0)De.readUnsignedExpGolomb();else if(ba===1)for(De.skipBits(1),De.skipExpGolomb(),De.skipExpGolomb(),sb=De.readUnsignedExpGolomb(),Ta=0;Ta<sb;Ta++)De.skipExpGolomb();if(De.skipUnsignedExpGolomb(),De.skipBits(1),ab=De.readUnsignedExpGolomb(),ob=De.readUnsignedExpGolomb(),zf=De.readBits(1),zf===0&&De.skipBits(1),De.skipBits(1),De.readBoolean()&&(ne=De.readUnsignedExpGolomb(),ce=De.readUnsignedExpGolomb(),_e=De.readUnsignedExpGolomb(),Ye=De.readUnsignedExpGolomb()),De.readBoolean()&&De.readBoolean()){switch(ub=De.readUnsignedByte(),ub){case 1:_n=[1,1];break;case 2:_n=[12,11];break;case 3:_n=[10,11];break;case 4:_n=[16,11];break;case 5:_n=[40,33];break;case 6:_n=[24,11];break;case 7:_n=[20,11];break;case 8:_n=[32,11];break;case 9:_n=[80,33];break;case 10:_n=[18,11];break;case 11:_n=[15,11];break;case 12:_n=[64,33];break;case 13:_n=[160,99];break;case 14:_n=[4,3];break;case 15:_n=[3,2];break;case 16:_n=[2,1];break;case 255:{_n=[De.readUnsignedByte()<<8|De.readUnsignedByte(),De.readUnsignedByte()<<8|De.readUnsignedByte()];break}}_n&&_n[0]/_n[1]}return{profileIdc:ot,levelIdc:ht,profileCompatibility:Mn,width:(ab+1)*16-ne*2-ce*2,height:(2-zf)*(ob+1)*16-_e*2-Ye*2,sarRatio:_n}}},vd.prototype=new I_;var uL={H264Stream:vd,NalByteStream:nu},cL=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],D_=function(h,g){var _=h[g+6]<<21|h[g+7]<<14|h[g+8]<<7|h[g+9],v=h[g+5],w=(v&16)>>4;return _=_>=0?_:0,w?_+20:_+10},P_=function(h,g){return h.length-g<10||h[g]!==73||h[g+1]!==68||h[g+2]!==51?g:(g+=D_(h,g),P_(h,g))},dL=function(h){var g=P_(h,0);return h.length>=g+2&&(h[g]&255)===255&&(h[g+1]&240)===240&&(h[g+1]&22)===16},O_=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},hL=function(h,g,_){var v,w="";for(v=g;v<_;v++)w+="%"+("00"+h[v].toString(16)).slice(-2);return w},pL=function(h,g,_){return unescape(hL(h,g,_))},fL=function(h,g){var _=(h[g+5]&224)>>5,v=h[g+4]<<3,w=h[g+3]&6144;return w|v|_},mL=function(h,g){return h[g]===73&&h[g+1]===68&&h[g+2]===51?"timed-metadata":h[g]&!0&&(h[g+1]&240)===240?"audio":null},gL=function(h){for(var g=0;g+5<h.length;){if(h[g]!==255||(h[g+1]&246)!==240){g++;continue}return cL[(h[g+2]&60)>>>2]}return null},yL=function(h){var g,_,v,w;g=10,h[5]&64&&(g+=4,g+=O_(h.subarray(10,14)));do{if(_=O_(h.subarray(g+4,g+8)),_<1)return null;if(w=String.fromCharCode(h[g],h[g+1],h[g+2],h[g+3]),w==="PRIV"){v=h.subarray(g+10,g+_+10);for(var C=0;C<v.byteLength;C++)if(v[C]===0){var z=pL(v,0,C);if(z==="com.apple.streaming.transportStreamTimestamp"){var G=v.subarray(C+1),Z=(G[3]&1)<<30|G[4]<<22|G[5]<<14|G[6]<<6|G[7]>>>2;return Z*=4,Z+=G[7]&3,Z}break}}g+=10,g+=_}while(g<h.byteLength);return null},Nf={isLikelyAacData:dL,parseId3TagSize:D_,parseAdtsSize:fL,parseType:mL,parseSampleRate:gL,parseAacTimestamp:yL},vL=n,R_=Nf,_d;_d=function(){var h=new Uint8Array,g=0;_d.prototype.init.call(this),this.setTimestamp=function(_){g=_},this.push=function(_){var v=0,w=0,C,z,G,Z;for(h.length?(Z=h.length,h=new Uint8Array(_.byteLength+Z),h.set(h.subarray(0,Z)),h.set(_,Z)):h=_;h.length-w>=3;){if(h[w]===73&&h[w+1]===68&&h[w+2]===51){if(h.length-w<10||(v=R_.parseId3TagSize(h,w),w+v>h.length))break;z={type:"timed-metadata",data:h.subarray(w,w+v)},this.trigger("data",z),w+=v;continue}else if((h[w]&255)===255&&(h[w+1]&240)===240){if(h.length-w<7||(v=R_.parseAdtsSize(h,w),w+v>h.length))break;G={type:"audio",data:h.subarray(w,w+v),pts:g,dts:g},this.trigger("data",G),w+=v;continue}w++}C=h.length-w,C>0?h=h.subarray(w):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},_d.prototype=new vL;var _L=_d,bL=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],TL=bL,wL=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],kL=wL,bd=n,ru=V,iu=me,Td=qe,si=lo,Ji=rL,wd=bt,N_=aL,SL=uL.H264Stream,xL=_L,EL=Nf.isLikelyAacData,CL=bt.ONE_SECOND_IN_TS,Bf=TL,Ff=kL,su,co,kd,va,AL=function(h,g){g.stream=h,this.trigger("log",g)},B_=function(h,g){for(var _=Object.keys(g),v=0;v<_.length;v++){var w=_[v];w==="headOfPipeline"||!g[w].on||g[w].on("log",AL.bind(h,w))}},F_=function(h,g){var _;if(h.length!==g.length)return!1;for(_=0;_<h.length;_++)if(h[_]!==g[_])return!1;return!0},Uf=function(h,g,_,v,w,C){var z=_-g,G=v-g,Z=w-_;return{start:{dts:h,pts:h+z},end:{dts:h+G,pts:h+Z},prependedContentDuration:C,baseMediaDecodeTime:h}};co=function(h,g){var _=[],v,w=0,C=0,z=1/0;g=g||{},v=g.firstSequenceNumber||0,co.prototype.init.call(this),this.push=function(G){si.collectDtsInfo(h,G),h&&Bf.forEach(function(Z){h[Z]=G[Z]}),_.push(G)},this.setEarliestDts=function(G){w=G},this.setVideoBaseMediaDecodeTime=function(G){z=G},this.setAudioAppendStart=function(G){C=G},this.flush=function(){var G,Z,ne,ce,_e,Ye,De;if(_.length===0){this.trigger("done","AudioSegmentStream");return}G=Td.trimAdtsFramesByEarliestDts(_,h,w),h.baseMediaDecodeTime=si.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),De=Td.prefixWithSilence(h,G,C,z),h.samples=Td.generateSampleTable(G),ne=ru.mdat(Td.concatenateFrameData(G)),_=[],Z=ru.moof(v,[h]),ce=new Uint8Array(Z.byteLength+ne.byteLength),v++,ce.set(Z),ce.set(ne,Z.byteLength),si.clearDtsInfo(h),_e=Math.ceil(CL*1024/h.samplerate),G.length&&(Ye=G.length*_e,this.trigger("segmentTimingInfo",Uf(wd.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),G[0].dts,G[0].pts,G[0].dts+Ye,G[0].pts+Ye,De||0)),this.trigger("timingInfo",{start:G[0].pts,end:G[0].pts+Ye})),this.trigger("data",{track:h,boxes:ce}),this.trigger("done","AudioSegmentStream")},this.reset=function(){si.clearDtsInfo(h),_=[],this.trigger("reset")}},co.prototype=new bd,su=function(h,g){var _,v=[],w=[],C,z;g=g||{},_=g.firstSequenceNumber||0,su.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(G){si.collectDtsInfo(h,G),G.nalUnitType==="seq_parameter_set_rbsp"&&!C&&(C=G.config,h.sps=[G.data],Ff.forEach(function(Z){h[Z]=C[Z]},this)),G.nalUnitType==="pic_parameter_set_rbsp"&&!z&&(z=G.data,h.pps=[G.data]),v.push(G)},this.flush=function(){for(var G,Z,ne,ce,_e,Ye,De=0,ot,ht;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(G=iu.groupNalsIntoFrames(v),ne=iu.groupFramesIntoGops(G),ne[0][0].keyFrame||(Z=this.getGopForFusion_(v[0],h),Z?(De=Z.duration,ne.unshift(Z),ne.byteLength+=Z.byteLength,ne.nalCount+=Z.nalCount,ne.pts=Z.pts,ne.dts=Z.dts,ne.duration+=Z.duration):ne=iu.extendFirstKeyFrame(ne)),w.length){var Mn;if(g.alignGopsAtEnd?Mn=this.alignGopsAtEnd_(ne):Mn=this.alignGopsAtStart_(ne),!Mn){this.gopCache_.unshift({gop:ne.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}si.clearDtsInfo(h),ne=Mn}si.collectDtsInfo(h,ne),h.samples=iu.generateSampleTable(ne),_e=ru.mdat(iu.concatenateNalData(ne)),h.baseMediaDecodeTime=si.calculateTrackBaseMediaDecodeTime(h,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(Wr){return{pts:Wr.pts,dts:Wr.dts,byteLength:Wr.byteLength}})),ot=ne[0],ht=ne[ne.length-1],this.trigger("segmentTimingInfo",Uf(h.baseMediaDecodeTime,ot.dts,ot.pts,ht.dts+ht.duration,ht.pts+ht.duration,De)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),ce=ru.moof(_,[h]),Ye=new Uint8Array(ce.byteLength+_e.byteLength),_++,Ye.set(ce),Ye.set(_e,ce.byteLength),this.trigger("data",{track:h,boxes:Ye}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){si.clearDtsInfo(h),C=void 0,z=void 0},this.getGopForFusion_=function(G){var Z=45e3,ne=1e4,ce=1/0,_e,Ye,De,ot,ht;for(ht=0;ht<this.gopCache_.length;ht++)ot=this.gopCache_[ht],De=ot.gop,!(!(h.pps&&F_(h.pps[0],ot.pps[0]))||!(h.sps&&F_(h.sps[0],ot.sps[0])))&&(De.dts<h.timelineStartInfo.dts||(_e=G.dts-De.dts-De.duration,_e>=-ne&&_e<=Z&&(!Ye||ce>_e)&&(Ye=ot,ce=_e)));return Ye?Ye.gop:null},this.alignGopsAtStart_=function(G){var Z,ne,ce,_e,Ye,De,ot,ht;for(Ye=G.byteLength,De=G.nalCount,ot=G.duration,Z=ne=0;Z<w.length&&ne<G.length&&(ce=w[Z],_e=G[ne],ce.pts!==_e.pts);){if(_e.pts>ce.pts){Z++;continue}ne++,Ye-=_e.byteLength,De-=_e.nalCount,ot-=_e.duration}return ne===0?G:ne===G.length?null:(ht=G.slice(ne),ht.byteLength=Ye,ht.duration=ot,ht.nalCount=De,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht)},this.alignGopsAtEnd_=function(G){var Z,ne,ce,_e,Ye,De;for(Z=w.length-1,ne=G.length-1,Ye=null,De=!1;Z>=0&&ne>=0;){if(ce=w[Z],_e=G[ne],ce.pts===_e.pts){De=!0;break}if(ce.pts>_e.pts){Z--;continue}Z===w.length-1&&(Ye=ne),ne--}if(!De&&Ye===null)return null;var ot;if(De?ot=ne:ot=Ye,ot===0)return G;var ht=G.slice(ot),Mn=ht.reduce(function(Wr,ba){return Wr.byteLength+=ba.byteLength,Wr.duration+=ba.duration,Wr.nalCount+=ba.nalCount,Wr},{byteLength:0,duration:0,nalCount:0});return ht.byteLength=Mn.byteLength,ht.duration=Mn.duration,ht.nalCount=Mn.nalCount,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht},this.alignGopsWith=function(G){w=G}},su.prototype=new bd,va=function(h,g){this.numberOfTracks=0,this.metadataStream=g,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,va.prototype.init.call(this),this.push=function(_){if(_.content||_.text)return this.pendingCaptions.push(_);if(_.frames)return this.pendingMetadata.push(_);this.pendingTracks.push(_.track),this.pendingBytes+=_.boxes.byteLength,_.track.type==="video"&&(this.videoTrack=_.track,this.pendingBoxes.push(_.boxes)),_.track.type==="audio"&&(this.audioTrack=_.track,this.pendingBoxes.unshift(_.boxes))}},va.prototype=new bd,va.prototype.flush=function(h){var g=0,_={captions:[],captionStreams:{},metadata:[],info:{}},v,w,C,z=0,G;if(this.pendingTracks.length<this.numberOfTracks){if(h!=="VideoSegmentStream"&&h!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(z=this.videoTrack.timelineStartInfo.pts,Ff.forEach(function(Z){_.info[Z]=this.videoTrack[Z]},this)):this.audioTrack&&(z=this.audioTrack.timelineStartInfo.pts,Bf.forEach(function(Z){_.info[Z]=this.audioTrack[Z]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,C=ru.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(C.byteLength),_.initSegment.set(C),_.data=new Uint8Array(this.pendingBytes),G=0;G<this.pendingBoxes.length;G++)_.data.set(this.pendingBoxes[G],g),g+=this.pendingBoxes[G].byteLength;for(G=0;G<this.pendingCaptions.length;G++)v=this.pendingCaptions[G],v.startTime=wd.metadataTsToSeconds(v.startPts,z,this.keepOriginalTimestamps),v.endTime=wd.metadataTsToSeconds(v.endPts,z,this.keepOriginalTimestamps),_.captionStreams[v.stream]=!0,_.captions.push(v);for(G=0;G<this.pendingMetadata.length;G++)w=this.pendingMetadata[G],w.cueTime=wd.metadataTsToSeconds(w.pts,z,this.keepOriginalTimestamps),_.metadata.push(w);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),G=0;G<_.captions.length;G++)v=_.captions[G],this.trigger("caption",v);for(G=0;G<_.metadata.length;G++)w=_.metadata[G],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},va.prototype.setRemux=function(h){this.remuxTracks=h},kd=function(h){var g=this,_=!0,v,w;kd.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="aac",C.metadataStream=new Ji.MetadataStream,C.aacStream=new xL,C.audioTimestampRolloverStream=new Ji.TimestampRolloverStream("audio"),C.timedMetadataTimestampRolloverStream=new Ji.TimestampRolloverStream("timed-metadata"),C.adtsStream=new N_,C.coalesceStream=new va(h,C.metadataStream),C.headOfPipeline=C.aacStream,C.aacStream.pipe(C.audioTimestampRolloverStream).pipe(C.adtsStream),C.aacStream.pipe(C.timedMetadataTimestampRolloverStream).pipe(C.metadataStream).pipe(C.coalesceStream),C.metadataStream.on("timestamp",function(z){C.aacStream.setTimestamp(z.timeStamp)}),C.aacStream.on("data",function(z){z.type!=="timed-metadata"&&z.type!=="audio"||C.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new co(w,h),C.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream),g.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!v}))}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),B_(this,C)},this.setupTsPipeline=function(){var C={};this.transmuxPipeline_=C,C.type="ts",C.metadataStream=new Ji.MetadataStream,C.packetStream=new Ji.TransportPacketStream,C.parseStream=new Ji.TransportParseStream,C.elementaryStream=new Ji.ElementaryStream,C.timestampRolloverStream=new Ji.TimestampRolloverStream,C.adtsStream=new N_,C.h264Stream=new SL,C.captionStream=new Ji.CaptionStream(h),C.coalesceStream=new va(h,C.metadataStream),C.headOfPipeline=C.packetStream,C.packetStream.pipe(C.parseStream).pipe(C.elementaryStream).pipe(C.timestampRolloverStream),C.timestampRolloverStream.pipe(C.h264Stream),C.timestampRolloverStream.pipe(C.adtsStream),C.timestampRolloverStream.pipe(C.metadataStream).pipe(C.coalesceStream),C.h264Stream.pipe(C.captionStream).pipe(C.coalesceStream),C.elementaryStream.on("data",function(z){var G;if(z.type==="metadata"){for(G=z.tracks.length;G--;)!v&&z.tracks[G].type==="video"?(v=z.tracks[G],v.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!w&&z.tracks[G].type==="audio"&&(w=z.tracks[G],w.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);v&&!C.videoSegmentStream&&(C.coalesceStream.numberOfTracks++,C.videoSegmentStream=new su(v,h),C.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),C.videoSegmentStream.on("timelineStartInfo",function(Z){w&&!h.keepOriginalTimestamps&&(w.timelineStartInfo=Z,C.audioSegmentStream.setEarliestDts(Z.dts-g.baseMediaDecodeTime))}),C.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),C.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),C.videoSegmentStream.on("baseMediaDecodeTime",function(Z){w&&C.audioSegmentStream.setVideoBaseMediaDecodeTime(Z)}),C.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),C.h264Stream.pipe(C.videoSegmentStream).pipe(C.coalesceStream)),w&&!C.audioSegmentStream&&(C.coalesceStream.numberOfTracks++,C.audioSegmentStream=new co(w,h),C.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),C.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),C.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),C.adtsStream.pipe(C.audioSegmentStream).pipe(C.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!v})}}),C.coalesceStream.on("data",this.trigger.bind(this,"data")),C.coalesceStream.on("id3Frame",function(z){z.dispatchType=C.metadataStream.dispatchType,g.trigger("id3Frame",z)}),C.coalesceStream.on("caption",this.trigger.bind(this,"caption")),C.coalesceStream.on("done",this.trigger.bind(this,"done")),B_(this,C)},this.setBaseMediaDecodeTime=function(C){var z=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=C),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,si.clearDtsInfo(w),z.audioTimestampRolloverStream&&z.audioTimestampRolloverStream.discontinuity()),v&&(z.videoSegmentStream&&(z.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,si.clearDtsInfo(v),z.captionStream.reset()),z.timestampRolloverStream&&z.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(C){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(C)},this.setRemux=function(C){var z=this.transmuxPipeline_;h.remux=C,z&&z.coalesceStream&&z.coalesceStream.setRemux(C)},this.alignGopsWith=function(C){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(C)},this.getLogTrigger_=function(C){var z=this;return function(G){G.stream=C,z.trigger("log",G)}},this.push=function(C){if(_){var z=EL(C);z&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!z&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),_=!1}this.transmuxPipeline_.headOfPipeline.push(C)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},kd.prototype=new bd;var LL={Transmuxer:kd,VideoSegmentStream:su,AudioSegmentStream:co,AUDIO_PROPERTIES:Bf,VIDEO_PROPERTIES:Ff,generateSegmentTimingInfo:Uf},IL=function(h){return h>>>0},ML=function(h){return("00"+h.toString(16)).slice(-2)},Sd={toUnsigned:IL,toHexString:ML},DL=function(h){var g="";return g+=String.fromCharCode(h[0]),g+=String.fromCharCode(h[1]),g+=String.fromCharCode(h[2]),g+=String.fromCharCode(h[3]),g},U_=DL,PL=Sd.toUnsigned,OL=U_,j_=function(h,g){var _=[],v,w,C,z,G;if(!g.length)return null;for(v=0;v<h.byteLength;)w=PL(h[v]<<24|h[v+1]<<16|h[v+2]<<8|h[v+3]),C=OL(h.subarray(v+4,v+8)),z=w>1?v+w:h.byteLength,C===g[0]&&(g.length===1?_.push(h.subarray(v+8,z)):(G=j_(h.subarray(v+8,z),g.slice(1)),G.length&&(_=_.concat(G)))),v=z;return _},$_=j_,RL=Sd.toUnsigned,NL=s.getUint64,BL=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=NL(h.subarray(4)):g.baseMediaDecodeTime=RL(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),g},H_=BL,FL=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},UL=FL,V_=UL,jL=function(h){var g={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},_=new DataView(h.buffer,h.byteOffset,h.byteLength),v=g.flags[2]&1,w=g.flags[2]&4,C=g.flags[1]&1,z=g.flags[1]&2,G=g.flags[1]&4,Z=g.flags[1]&8,ne=_.getUint32(4),ce=8,_e;for(v&&(g.dataOffset=_.getInt32(ce),ce+=4),w&&ne&&(_e={flags:V_(h.subarray(ce,ce+4))},ce+=4,C&&(_e.duration=_.getUint32(ce),ce+=4),z&&(_e.size=_.getUint32(ce),ce+=4),Z&&(g.version===1?_e.compositionTimeOffset=_.getInt32(ce):_e.compositionTimeOffset=_.getUint32(ce),ce+=4),g.samples.push(_e),ne--);ne--;)_e={},C&&(_e.duration=_.getUint32(ce),ce+=4),z&&(_e.size=_.getUint32(ce),ce+=4),G&&(_e.flags=V_(h.subarray(ce,ce+4)),ce+=4),Z&&(g.version===1?_e.compositionTimeOffset=_.getInt32(ce):_e.compositionTimeOffset=_.getUint32(ce),ce+=4),g.samples.push(_e);return g},q_=jL,$L=function(h){var g=new DataView(h.buffer,h.byteOffset,h.byteLength),_={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:g.getUint32(4)},v=_.flags[2]&1,w=_.flags[2]&2,C=_.flags[2]&8,z=_.flags[2]&16,G=_.flags[2]&32,Z=_.flags[0]&65536,ne=_.flags[0]&131072,ce;return ce=8,v&&(ce+=4,_.baseDataOffset=g.getUint32(12),ce+=4),w&&(_.sampleDescriptionIndex=g.getUint32(ce),ce+=4),C&&(_.defaultSampleDuration=g.getUint32(ce),ce+=4),z&&(_.defaultSampleSize=g.getUint32(ce),ce+=4),G&&(_.defaultSampleFlags=g.getUint32(ce)),Z&&(_.durationIsEmpty=!0),!v&&ne&&(_.baseDataOffsetIsMoof=!0),_},W_=$L,au;typeof window<"u"?au=window:typeof t<"u"?au=t:typeof self<"u"?au=self:au={};var z_=au,HL=T_.discardEmulationPreventionBytes,VL=w_.CaptionStream,ou=$_,qL=H_,WL=q_,zL=W_,G_=z_,GL=function(h,g){for(var _=h,v=0;v<g.length;v++){var w=g[v];if(_<w.size)return w;_-=w.size}return null},YL=function(h,g,_){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),w={logs:[],seiNals:[]},C,z,G,Z;for(z=0;z+4<h.length;z+=G)if(G=v.getUint32(z),z+=4,!(G<=0))switch(h[z]&31){case 6:var ne=h.subarray(z+1,z+1+G),ce=GL(z,g);if(C={nalUnitType:"sei_rbsp",size:G,data:ne,escapedRBSP:HL(ne),trackId:_},ce)C.pts=ce.pts,C.dts=ce.dts,Z=ce;else if(Z)C.pts=Z.pts,C.dts=Z.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+z+" for trackId "+_+". See mux.js#223."});break}w.seiNals.push(C);break}return w},KL=function(h,g,_){var v=g,w=_.defaultSampleDuration||0,C=_.defaultSampleSize||0,z=_.trackId,G=[];return h.forEach(function(Z){var ne=WL(Z),ce=ne.samples;ce.forEach(function(_e){_e.duration===void 0&&(_e.duration=w),_e.size===void 0&&(_e.size=C),_e.trackId=z,_e.dts=v,_e.compositionTimeOffset===void 0&&(_e.compositionTimeOffset=0),typeof v=="bigint"?(_e.pts=v+G_.BigInt(_e.compositionTimeOffset),v+=G_.BigInt(_e.duration)):(_e.pts=v+_e.compositionTimeOffset,v+=_e.duration)}),G=G.concat(ce)}),G},XL=function(h,g){var _=ou(h,["moof","traf"]),v=ou(h,["mdat"]),w={},C=[];return v.forEach(function(z,G){var Z=_[G];C.push({mdat:z,traf:Z})}),C.forEach(function(z){var G=z.mdat,Z=z.traf,ne=ou(Z,["tfhd"]),ce=zL(ne[0]),_e=ce.trackId,Ye=ou(Z,["tfdt"]),De=Ye.length>0?qL(Ye[0]).baseMediaDecodeTime:0,ot=ou(Z,["trun"]),ht,Mn;g===_e&&ot.length>0&&(ht=KL(ot,De,ce),Mn=YL(G,ht,_e),w[_e]||(w[_e]={seiNals:[],logs:[]}),w[_e].seiNals=w[_e].seiNals.concat(Mn.seiNals),w[_e].logs=w[_e].logs.concat(Mn.logs))}),w},QL=function(h,g,_){var v;if(g===null)return null;v=XL(h,g);var w=v[g]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:_}},ZL=function(){var h=!1,g,_,v,w,C,z;this.isInitialized=function(){return h},this.init=function(G){g=new VL,h=!0,z=G?G.isPartial:!1,g.on("data",function(Z){Z.startTime=Z.startPts/w,Z.endTime=Z.endPts/w,C.captions.push(Z),C.captionStreams[Z.stream]=!0}),g.on("log",function(Z){C.logs.push(Z)})},this.isNewInit=function(G,Z){return G&&G.length===0||Z&&typeof Z=="object"&&Object.keys(Z).length===0?!1:v!==G[0]||w!==Z[v]},this.parse=function(G,Z,ne){var ce;if(this.isInitialized()){if(!Z||!ne)return null;if(this.isNewInit(Z,ne))v=Z[0],w=ne[v];else if(v===null||!w)return _.push(G),null}else return null;for(;_.length>0;){var _e=_.shift();this.parse(_e,Z,ne)}return ce=QL(G,v,w),ce&&ce.logs&&(C.logs=C.logs.concat(ce.logs)),ce===null||!ce.seiNals?C.logs.length?{logs:C.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ce.seiNals),this.flushStream(),C)},this.pushNals=function(G){if(!this.isInitialized()||!G||G.length===0)return null;G.forEach(function(Z){g.push(Z)})},this.flushStream=function(){if(!this.isInitialized())return null;z?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){C.captions=[],C.captionStreams={},C.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],v=null,w=null,C?this.clearParsedCaptions():C={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},JL=ZL,eI=function(h){for(var g=0,_=String.fromCharCode(h[g]),v="";_!=="\0";)v+=_,g++,_=String.fromCharCode(h[g]);return v+=_,v},tI={uint8ToCString:eI},xd=tI.uint8ToCString,nI=s.getUint64,rI=function(h){var g=4,_=h[0],v,w,C,z,G,Z,ne,ce;if(_===0){v=xd(h.subarray(g)),g+=v.length,w=xd(h.subarray(g)),g+=w.length;var _e=new DataView(h.buffer);C=_e.getUint32(g),g+=4,G=_e.getUint32(g),g+=4,Z=_e.getUint32(g),g+=4,ne=_e.getUint32(g),g+=4}else if(_===1){var _e=new DataView(h.buffer);C=_e.getUint32(g),g+=4,z=nI(h.subarray(g)),g+=8,Z=_e.getUint32(g),g+=4,ne=_e.getUint32(g),g+=4,v=xd(h.subarray(g)),g+=v.length,w=xd(h.subarray(g)),g+=w.length}ce=new Uint8Array(h.subarray(g,h.byteLength));var Ye={scheme_id_uri:v,value:w,timescale:C||1,presentation_time:z,presentation_time_delta:G,event_duration:Z,id:ne,message_data:ce};return sI(_,Ye)?Ye:void 0},iI=function(h,g,_,v){return h||h===0?h/g:v+_/g},sI=function(h,g){var _=g.scheme_id_uri!=="\0",v=h===0&&Y_(g.presentation_time_delta)&&_,w=h===1&&Y_(g.presentation_time)&&_;return!(h>1)&&v||w},Y_=function(h){return h!==void 0||h!==null},aI={parseEmsgBox:rI,scaleTime:iI},Ed=Sd.toUnsigned,lu=Sd.toHexString,vn=$_,ho=U_,jf=aI,oI=W_,lI=q_,uI=H_,cI=s.getUint64,K_,X_,Q_,Z_,J_,$f,eb,Hf=z_,dI=E_.parseId3Frames;K_=function(h){var g={},_=vn(h,["moov","trak"]);return _.reduce(function(v,w){var C,z,G,Z,ne;return C=vn(w,["tkhd"])[0],!C||(z=C[0],G=z===0?12:20,Z=Ed(C[G]<<24|C[G+1]<<16|C[G+2]<<8|C[G+3]),ne=vn(w,["mdia","mdhd"])[0],!ne)?null:(z=ne[0],G=z===0?12:20,v[Z]=Ed(ne[G]<<24|ne[G+1]<<16|ne[G+2]<<8|ne[G+3]),v)},g)},X_=function(h,g){var _;_=vn(g,["moof","traf"]);var v=_.reduce(function(w,C){var z=vn(C,["tfhd"])[0],G=Ed(z[4]<<24|z[5]<<16|z[6]<<8|z[7]),Z=h[G]||9e4,ne=vn(C,["tfdt"])[0],ce=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),_e;ne[0]===1?_e=cI(ne.subarray(4,12)):_e=ce.getUint32(4);let Ye;return typeof _e=="bigint"?Ye=_e/Hf.BigInt(Z):typeof _e=="number"&&!isNaN(_e)&&(Ye=_e/Z),Ye<Number.MAX_SAFE_INTEGER&&(Ye=Number(Ye)),Ye<w&&(w=Ye),w},1/0);return typeof v=="bigint"||isFinite(v)?v:0},Q_=function(h,g){var _=vn(g,["moof","traf"]),v=0,w=0,C;if(_&&_.length){var z=vn(_[0],["tfhd"])[0],G=vn(_[0],["trun"])[0],Z=vn(_[0],["tfdt"])[0];if(z){var ne=oI(z);C=ne.trackId}if(Z){var ce=uI(Z);v=ce.baseMediaDecodeTime}if(G){var _e=lI(G);_e.samples&&_e.samples.length&&(w=_e.samples[0].compositionTimeOffset||0)}}var Ye=h[C]||9e4;typeof v=="bigint"&&(w=Hf.BigInt(w),Ye=Hf.BigInt(Ye));var De=(v+w)/Ye;return typeof De=="bigint"&&De<Number.MAX_SAFE_INTEGER&&(De=Number(De)),De},Z_=function(h){var g=vn(h,["moov","trak"]),_=[];return g.forEach(function(v){var w=vn(v,["mdia","hdlr"]),C=vn(v,["tkhd"]);w.forEach(function(z,G){var Z=ho(z.subarray(8,12)),ne=C[G],ce,_e,Ye;Z==="vide"&&(ce=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),_e=ce.getUint8(0),Ye=_e===0?ce.getUint32(12):ce.getUint32(20),_.push(Ye))})}),_},$f=function(h){var g=h[0],_=g===0?12:20;return Ed(h[_]<<24|h[_+1]<<16|h[_+2]<<8|h[_+3])},J_=function(h){var g=vn(h,["moov","trak"]),_=[];return g.forEach(function(v){var w={},C=vn(v,["tkhd"])[0],z,G;C&&(z=new DataView(C.buffer,C.byteOffset,C.byteLength),G=z.getUint8(0),w.id=G===0?z.getUint32(12):z.getUint32(20));var Z=vn(v,["mdia","hdlr"])[0];if(Z){var ne=ho(Z.subarray(8,12));ne==="vide"?w.type="video":ne==="soun"?w.type="audio":w.type=ne}var ce=vn(v,["mdia","minf","stbl","stsd"])[0];if(ce){var _e=ce.subarray(8);w.codec=ho(_e.subarray(4,8));var Ye=vn(_e,[w.codec])[0],De,ot;Ye&&(/^[asm]vc[1-9]$/i.test(w.codec)?(De=Ye.subarray(78),ot=ho(De.subarray(4,8)),ot==="avcC"&&De.length>11?(w.codec+=".",w.codec+=lu(De[9]),w.codec+=lu(De[10]),w.codec+=lu(De[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(De=Ye.subarray(28),ot=ho(De.subarray(4,8)),ot==="esds"&&De.length>20&&De[19]!==0?(w.codec+="."+lu(De[19]),w.codec+="."+lu(De[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var ht=vn(v,["mdia","mdhd"])[0];ht&&(w.timescale=$f(ht)),_.push(w)}),_},eb=function(h,g=0){var _=vn(h,["emsg"]);return _.map(v=>{var w=jf.parseEmsgBox(new Uint8Array(v)),C=dI(w.message_data);return{cueTime:jf.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,g),duration:jf.scaleTime(w.event_duration,w.timescale),frames:C}})};var Vf={findBox:vn,parseType:ho,timescale:K_,startTime:X_,compositionStartTime:Q_,videoTrackIds:Z_,tracks:J_,getTimescaleFromMediaHeader:$f,getEmsgID3:eb},qf=dd,tb=function(h){var g=h[1]&31;return g<<=8,g|=h[2],g},Cd=function(h){return!!(h[1]&64)},Ad=function(h){var g=0;return(h[3]&48)>>>4>1&&(g+=h[4]+1),g},hI=function(h,g){var _=tb(h);return _===0?"pat":_===g?"pmt":g?"pes":null},pI=function(h){var g=Cd(h),_=4+Ad(h);return g&&(_+=h[_]+1),(h[_+10]&31)<<8|h[_+11]},fI=function(h){var g={},_=Cd(h),v=4+Ad(h);if(_&&(v+=h[v]+1),!!(h[v+5]&1)){var w,C,z;w=(h[v+1]&15)<<8|h[v+2],C=3+w-4,z=(h[v+10]&15)<<8|h[v+11];for(var G=12+z;G<C;){var Z=v+G;g[(h[Z+1]&31)<<8|h[Z+2]]=h[Z],G+=((h[Z+3]&15)<<8|h[Z+4])+5}return g}},mI=function(h,g){var _=tb(h),v=g[_];switch(v){case qf.H264_STREAM_TYPE:return"video";case qf.ADTS_STREAM_TYPE:return"audio";case qf.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},gI=function(h){var g=Cd(h);if(!g)return null;var _=4+Ad(h);if(_>=h.byteLength)return null;var v=null,w;return w=h[_+7],w&192&&(v={},v.pts=(h[_+9]&14)<<27|(h[_+10]&255)<<20|(h[_+11]&254)<<12|(h[_+12]&255)<<5|(h[_+13]&254)>>>3,v.pts*=4,v.pts+=(h[_+13]&6)>>>1,v.dts=v.pts,w&64&&(v.dts=(h[_+14]&14)<<27|(h[_+15]&255)<<20|(h[_+16]&254)<<12|(h[_+17]&255)<<5|(h[_+18]&254)>>>3,v.dts*=4,v.dts+=(h[_+18]&6)>>>1)),v},Wf=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},yI=function(h){for(var g=4+Ad(h),_=h.subarray(g),v=0,w=0,C=!1,z;w<_.byteLength-3;w++)if(_[w+2]===1){v=w+5;break}for(;v<_.byteLength;)switch(_[v]){case 0:if(_[v-1]!==0){v+=2;break}else if(_[v-2]!==0){v++;break}w+3!==v-2&&(z=Wf(_[w+3]&31),z==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0));do v++;while(_[v]!==1&&v<_.length);w=v-2,v+=3;break;case 1:if(_[v-1]!==0||_[v-2]!==0){v+=3;break}z=Wf(_[w+3]&31),z==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0),w=v-2,v+=3;break;default:v+=3;break}return _=_.subarray(w),v-=w,w=0,_&&_.byteLength>3&&(z=Wf(_[w+3]&31),z==="slice_layer_without_partitioning_rbsp_idr"&&(C=!0)),C},vI={parseType:hI,parsePat:pI,parsePmt:fI,parsePayloadUnitStartIndicator:Cd,parsePesType:mI,parsePesTime:gI,videoPacketContainsKeyFrame:yI},nb=dd,po=S_.handleRollover,Nt={};Nt.ts=vI,Nt.aac=Nf;var _a=bt.ONE_SECOND_IN_TS,ar=188,xi=71,_I=function(h,g){for(var _=0,v=ar,w,C;v<h.byteLength;){if(h[_]===xi&&h[v]===xi){switch(w=h.subarray(_,v),C=Nt.ts.parseType(w,g.pid),C){case"pat":g.pid=Nt.ts.parsePat(w);break;case"pmt":var z=Nt.ts.parsePmt(w);g.table=g.table||{},Object.keys(z).forEach(function(G){g.table[G]=z[G]});break}_+=ar,v+=ar;continue}_++,v++}},rb=function(h,g,_){for(var v=0,w=ar,C,z,G,Z,ne,ce=!1;w<=h.byteLength;){if(h[v]===xi&&(h[w]===xi||w===h.byteLength)){switch(C=h.subarray(v,w),z=Nt.ts.parseType(C,g.pid),z){case"pes":G=Nt.ts.parsePesType(C,g.table),Z=Nt.ts.parsePayloadUnitStartIndicator(C),G==="audio"&&Z&&(ne=Nt.ts.parsePesTime(C),ne&&(ne.type="audio",_.audio.push(ne),ce=!0));break}if(ce)break;v+=ar,w+=ar;continue}v++,w++}for(w=h.byteLength,v=w-ar,ce=!1;v>=0;){if(h[v]===xi&&(h[w]===xi||w===h.byteLength)){switch(C=h.subarray(v,w),z=Nt.ts.parseType(C,g.pid),z){case"pes":G=Nt.ts.parsePesType(C,g.table),Z=Nt.ts.parsePayloadUnitStartIndicator(C),G==="audio"&&Z&&(ne=Nt.ts.parsePesTime(C),ne&&(ne.type="audio",_.audio.push(ne),ce=!0));break}if(ce)break;v-=ar,w-=ar;continue}v--,w--}},bI=function(h,g,_){for(var v=0,w=ar,C,z,G,Z,ne,ce,_e,Ye,De=!1,ot={data:[],size:0};w<h.byteLength;){if(h[v]===xi&&h[w]===xi){switch(C=h.subarray(v,w),z=Nt.ts.parseType(C,g.pid),z){case"pes":if(G=Nt.ts.parsePesType(C,g.table),Z=Nt.ts.parsePayloadUnitStartIndicator(C),G==="video"&&(Z&&!De&&(ne=Nt.ts.parsePesTime(C),ne&&(ne.type="video",_.video.push(ne),De=!0)),!_.firstKeyFrame)){if(Z&&ot.size!==0){for(ce=new Uint8Array(ot.size),_e=0;ot.data.length;)Ye=ot.data.shift(),ce.set(Ye,_e),_e+=Ye.byteLength;if(Nt.ts.videoPacketContainsKeyFrame(ce)){var ht=Nt.ts.parsePesTime(ce);ht?(_.firstKeyFrame=ht,_.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ot.size=0}ot.data.push(C),ot.size+=C.byteLength}break}if(De&&_.firstKeyFrame)break;v+=ar,w+=ar;continue}v++,w++}for(w=h.byteLength,v=w-ar,De=!1;v>=0;){if(h[v]===xi&&h[w]===xi){switch(C=h.subarray(v,w),z=Nt.ts.parseType(C,g.pid),z){case"pes":G=Nt.ts.parsePesType(C,g.table),Z=Nt.ts.parsePayloadUnitStartIndicator(C),G==="video"&&Z&&(ne=Nt.ts.parsePesTime(C),ne&&(ne.type="video",_.video.push(ne),De=!0));break}if(De)break;v-=ar,w-=ar;continue}v--,w--}},TI=function(h,g){if(h.audio&&h.audio.length){var _=g;(typeof _>"u"||isNaN(_))&&(_=h.audio[0].dts),h.audio.forEach(function(C){C.dts=po(C.dts,_),C.pts=po(C.pts,_),C.dtsTime=C.dts/_a,C.ptsTime=C.pts/_a})}if(h.video&&h.video.length){var v=g;if((typeof v>"u"||isNaN(v))&&(v=h.video[0].dts),h.video.forEach(function(C){C.dts=po(C.dts,v),C.pts=po(C.pts,v),C.dtsTime=C.dts/_a,C.ptsTime=C.pts/_a}),h.firstKeyFrame){var w=h.firstKeyFrame;w.dts=po(w.dts,v),w.pts=po(w.pts,v),w.dtsTime=w.dts/_a,w.ptsTime=w.pts/_a}}},wI=function(h){for(var g=!1,_=0,v=null,w=null,C=0,z=0,G;h.length-z>=3;){var Z=Nt.aac.parseType(h,z);switch(Z){case"timed-metadata":if(h.length-z<10){g=!0;break}if(C=Nt.aac.parseId3TagSize(h,z),C>h.length){g=!0;break}w===null&&(G=h.subarray(z,z+C),w=Nt.aac.parseAacTimestamp(G)),z+=C;break;case"audio":if(h.length-z<7){g=!0;break}if(C=Nt.aac.parseAdtsSize(h,z),C>h.length){g=!0;break}v===null&&(G=h.subarray(z,z+C),v=Nt.aac.parseSampleRate(G)),_++,z+=C;break;default:z++;break}if(g)return null}if(v===null||w===null)return null;var ne=_a/v,ce={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+_*1024*ne,pts:w+_*1024*ne}]};return ce},kI=function(h){var g={pid:null,table:null},_={};_I(h,g);for(var v in g.table)if(g.table.hasOwnProperty(v)){var w=g.table[v];switch(w){case nb.H264_STREAM_TYPE:_.video=[],bI(h,g,_),_.video.length===0&&delete _.video;break;case nb.ADTS_STREAM_TYPE:_.audio=[],rb(h,g,_),_.audio.length===0&&delete _.audio;break}}return _},SI=function(h,g){var _=Nt.aac.isLikelyAacData(h),v;return _?v=wI(h):v=kI(h),!v||!v.audio&&!v.video?null:(TI(v,g),v)},xI={inspect:SI,parseAudioPes_:rb};const EI=function(h,g){g.on("data",function(_){const v=_.initSegment;_.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};const w=_.data;_.data=w.buffer,h.postMessage({action:"data",segment:_,byteOffset:w.byteOffset,byteLength:w.byteLength},[_.data])}),g.on("done",function(_){h.postMessage({action:"done"})}),g.on("gopInfo",function(_){h.postMessage({action:"gopInfo",gopInfo:_})}),g.on("videoSegmentTimingInfo",function(_){const v={start:{decode:bt.videoTsToSeconds(_.start.dts),presentation:bt.videoTsToSeconds(_.start.pts)},end:{decode:bt.videoTsToSeconds(_.end.dts),presentation:bt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:bt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(v.prependedContentDuration=bt.videoTsToSeconds(_.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),g.on("audioSegmentTimingInfo",function(_){const v={start:{decode:bt.videoTsToSeconds(_.start.dts),presentation:bt.videoTsToSeconds(_.start.pts)},end:{decode:bt.videoTsToSeconds(_.end.dts),presentation:bt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:bt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(v.prependedContentDuration=bt.videoTsToSeconds(_.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),g.on("id3Frame",function(_){h.postMessage({action:"id3Frame",id3Frame:_})}),g.on("caption",function(_){h.postMessage({action:"caption",caption:_})}),g.on("trackinfo",function(_){h.postMessage({action:"trackinfo",trackInfo:_})}),g.on("audioTimingInfo",function(_){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:bt.videoTsToSeconds(_.start),end:bt.videoTsToSeconds(_.end)}})}),g.on("videoTimingInfo",function(_){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:bt.videoTsToSeconds(_.start),end:bt.videoTsToSeconds(_.end)}})}),g.on("log",function(_){h.postMessage({action:"log",log:_})})};class ib{constructor(g,_){this.options=_||{},this.self=g,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new LL.Transmuxer(this.options),EI(this.self,this.transmuxer)}pushMp4Captions(g){this.captionParser||(this.captionParser=new JL,this.captionParser.init());const _=new Uint8Array(g.data,g.byteOffset,g.byteLength),v=this.captionParser.parse(_,g.trackIds,g.timescales);this.self.postMessage({action:"mp4Captions",captions:v&&v.captions||[],logs:v&&v.logs||[],data:_.buffer},[_.buffer])}probeMp4StartTime({timescales:g,data:_}){const v=Vf.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:v,data:_},[_.buffer])}probeMp4Tracks({data:g}){const _=Vf.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])}probeEmsgID3({data:g,offset:_}){const v=Vf.getEmsgID3(g,_);this.self.postMessage({action:"probeEmsgID3",id3Frames:v,emsgData:g},[g.buffer])}probeTs({data:g,baseStartTime:_}){const v=typeof _=="number"&&!isNaN(_)?_*bt.ONE_SECOND_IN_TS:void 0,w=xI.inspect(g,v);let C=null;w&&(C={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},C.hasVideo&&(C.videoStart=w.video[0].ptsTime),C.hasAudio&&(C.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:C,data:g},[g.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(g){const _=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.transmuxer.push(_)}reset(){this.transmuxer.reset()}setTimestampOffset(g){const _=g.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(bt.secondsToVideoTs(_)))}setAudioAppendStart(g){this.transmuxer.setAudioAppendStart(Math.ceil(bt.secondsToVideoTs(g.appendStart)))}setRemux(g){this.transmuxer.setRemux(g.remux)}flush(g){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(g){this.transmuxer.alignGopsWith(g.gopsToAlignWith.slice())}}self.onmessage=function(h){if(h.data.action==="init"&&h.data.options){this.messageHandlers=new ib(self,h.data.options);return}this.messageHandlers||(this.messageHandlers=new ib(self)),h.data&&h.data.action&&h.data.action!=="init"&&this.messageHandlers[h.data.action]&&this.messageHandlers[h.data.action](h.data)}}));var e0e=bA(Jve);const t0e=(t,e,n)=>{const{type:r,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},d={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),n(d)},n0e=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},r0e=(t,e)=>{e.gopInfo=t.data.gopInfo},kA=t=>{const{transmuxer:e,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:p,onCaptions:f,onDone:y,onEndedTimeline:b,onTransmuxerLog:S,isEndOfTimeline:E}=t,x={buffer:[]};let k=E;const L=A=>{e.currentTransmux===t&&(A.data.action==="data"&&t0e(A,x,a),A.data.action==="trackinfo"&&o(A.data.trackInfo),A.data.action==="gopInfo"&&r0e(A,x),A.data.action==="audioTimingInfo"&&l(A.data.audioTimingInfo),A.data.action==="videoTimingInfo"&&u(A.data.videoTimingInfo),A.data.action==="videoSegmentTimingInfo"&&c(A.data.videoSegmentTimingInfo),A.data.action==="audioSegmentTimingInfo"&&d(A.data.audioSegmentTimingInfo),A.data.action==="id3Frame"&&p([A.data.id3Frame],A.data.id3Frame.dispatchType),A.data.action==="caption"&&f(A.data.caption),A.data.action==="endedtimeline"&&(k=!1,b()),A.data.action==="log"&&S(A.data.log),A.data.type==="transmuxed"&&(k||(e.onmessage=null,n0e({transmuxedData:x,callback:y}),SA(e))))};if(e.onmessage=L,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const A=n instanceof ArrayBuffer?n:n.buffer,D=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:A,byteOffset:D,byteLength:n.byteLength},[A])}E&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},SA=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():kA(t.currentTransmux))},Aw=(t,e)=>{t.postMessage({action:e}),SA(t)},xA=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,Aw(e,t);return}e.transmuxQueue.push(Aw.bind(null,e,t))},i0e=t=>{xA("reset",t)},s0e=t=>{xA("endTimeline",t)},EA=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,kA(t);return}t.transmuxer.transmuxQueue.push(t)},a0e=t=>{const e=new e0e;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var Zm={reset:i0e,endTimeline:s0e,transmux:EA,createTransmuxer:a0e};const sc=function(t){const e=t.transmuxer,n=t.endAction||t.action,r=t.callback,i=fi({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;i.byteOffset=a?0:t.data.byteOffset,i.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},Ni={FAILURE:2,TIMEOUT:-101,ABORTED:-102},jy=t=>{t.forEach(e=>{e.abort()})},o0e=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),l0e=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},d_=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ni.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Ni.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ni.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Ni.FAILURE,xhr:e}:null,Lw=(t,e,n)=>(r,i)=>{const s=i.response,a=d_(r,i);if(a)return n(a,t);if(s.byteLength!==16)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Ni.FAILURE,xhr:i},t);const o=new DataView(s),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=l;return n(null,t)},CA=(t,e)=>{const n=I0(t.map.bytes);if(n!=="mp4"){const r=t.map.resolvedUri||t.map.uri,i=n||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:Ni.FAILURE,metadata:{errorType:ge.Error.UnsupportedMediaInitialization,mediaType:i}})}sc({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:i})=>(t.map.bytes=i,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},u0e=({segment:t,finishProcessingFn:e})=>(n,r)=>{const i=d_(n,r);if(i)return e(i,t);const s=new Uint8Array(r.response);if(t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,CA(t,function(a){if(a)return a.xhr=r,a.status=r.status,e(a,t);e(null,t)})},c0e=({segment:t,finishProcessingFn:e,responseType:n})=>(r,i)=>{const s=d_(r,i);if(s)return e(s,t);const a=n==="arraybuffer"||!i.responseText?i.response:Qve(i.responseText.substring(t.lastReachedChar||0));return t.stats=o0e(i),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),e(null,t)},d0e=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})=>{const f=t.map&&t.map.tracks||{},y=!!(f.audio&&f.video);let b=r.bind(null,t,"audio","start");const S=r.bind(null,t,"audio","end");let E=r.bind(null,t,"video","start");const x=r.bind(null,t,"video","end"),k=()=>EA({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:L=>{L.type=L.type==="combined"?"video":L.type,c(t,L)},onTrackInfo:L=>{n&&(y&&(L.isMuxed=!0),n(t,L))},onAudioTimingInfo:L=>{b&&typeof L.start<"u"&&(b(L.start),b=null),S&&typeof L.end<"u"&&S(L.end)},onVideoTimingInfo:L=>{E&&typeof L.start<"u"&&(E(L.start),E=null),x&&typeof L.end<"u"&&x(L.end)},onVideoSegmentTimingInfo:L=>{i(L)},onAudioSegmentTimingInfo:L=>{s(L)},onId3:(L,A)=>{a(t,L,A)},onCaptions:L=>{o(t,[L])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:p,onDone:L=>{d&&(L.type=L.type==="combined"?"video":L.type,d(null,t,L))}});sc({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:L=>{t.bytes=e=L.data;const A=L.result;A&&(n(t,{hasAudio:A.hasAudio,hasVideo:A.hasVideo,isMuxed:y}),n=null),k()}})},AA=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})=>{let f=new Uint8Array(e);if(Fge(f)){t.isFmp4=!0;const{tracks:y}=t.map,b={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(b.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(b.videoCodec=y.video.codec),y.video&&y.audio&&(b.isMuxed=!0),n(t,b);const S=(E,x)=>{c(t,{data:f,type:b.hasAudio&&!b.isMuxed?"audio":"video"}),x&&x.length&&a(t,x),E&&E.length&&o(t,E),d(null,t,{})};sc({action:"probeMp4StartTime",timescales:t.map.timescales,data:f,transmuxer:t.transmuxer,callback:({data:E,startTime:x})=>{e=E.buffer,t.bytes=f=E,b.hasAudio&&!b.isMuxed&&r(t,"audio","start",x),b.hasVideo&&r(t,"video","start",x),sc({action:"probeEmsgID3",data:f,transmuxer:t.transmuxer,offset:x,callback:({emsgData:k,id3Frames:L})=>{if(e=k.buffer,t.bytes=f=k,!y.video||!k.byteLength||!t.transmuxer){S(void 0,L);return}sc({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:f,timescales:t.map.timescales,trackIds:[y.video.id],callback:A=>{e=A.data.buffer,t.bytes=f=A.data,A.logs.forEach(function(D){p(Dt(D,{stream:"mp4CaptionParser"}))}),S(A.captions,L)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=I0(f)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}d0e({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})},LA=function({id:t,key:e,encryptedBytes:n,decryptionWorker:r},i){const s=o=>{if(o.data.source===t){r.removeEventListener("message",s);const l=o.data.decrypted;i(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};r.addEventListener("message",s);let a;e.bytes.slice?a=e.bytes.slice():a=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(fA({source:t,encrypted:n,key:a,iv:e.iv}),[n.buffer,a.buffer])},h0e=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})=>{LA({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},f=>{e.bytes=f,AA({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})})},p0e=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})=>{let f=0,y=!1;return(b,S)=>{if(!y){if(b)return y=!0,jy(t),d(b,S);if(f+=1,f===t.length){const E=function(){if(S.encryptedBytes)return h0e({decryptionWorker:e,segment:S,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p});AA({segment:S,bytes:S.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:p})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return LA({decryptionWorker:e,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key},x=>{S.map.bytes=x,CA(S,k=>{if(k)return jy(t),d(k,S);E()})});E()}}}},f0e=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},m0e=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return t.stats=Dt(t.stats,l0e(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},g0e=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:r,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:y,doneFn:b,onTransmuxerLog:S})=>{const E=[],x=p0e({activeXhrs:E,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:y,doneFn:b,onTransmuxerLog:S});if(r.key&&!r.key.bytes){const M=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&M.push(r.map.key);const q=Dt(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),j=Lw(r,M,x),W=t(q,j);E.push(W)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const W=Dt(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),Y=Lw(r,[r.map.key],x),re=t(W,Y);E.push(re)}const M=Dt(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Fy(r.map),requestType:"segment-media-initialization"}),q=u0e({segment:r,finishProcessingFn:x}),j=t(M,q);E.push(j)}const k=Dt(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Fy(r),requestType:"segment"}),L=c0e({segment:r,finishProcessingFn:x,responseType:k.responseType}),A=t(k,L);A.addEventListener("progress",m0e({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:p,endedTimelineFn:f,dataFn:y})),E.push(A);const D={};return E.forEach(M=>{M.addEventListener("loadend",f0e({loadendState:D,abortFn:i}))}),()=>jy(E)},y0e=ri("CodecUtils"),v0e=function(t){const e=t.attributes||{};if(e.CODECS)return Ci(e.CODECS)},IA=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},_0e=(t,e)=>{if(!IA(t,e))return!0;const n=e.attributes||{},r=t.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},dp=function(t){const e={};return t.forEach(({mediaType:n,type:r,details:i})=>{e[n]=e[n]||[],e[n].push(VC(`${r}${i}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){y0e(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},Iw=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},ac=function(t,e){const n=e.attributes||{},r=dp(v0e(e)||[]);if(IA(t,e)&&!r.audio&&!_0e(t,e)){const i=dp(Ffe(t,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},Jd=ri("PlaylistSelector"),Mw=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},hp=function(t,e){if(!t)return"";const n=te.getComputedStyle(t);return n?n[e]:""},Zo=function(t,e){const n=t.slice();t.sort(function(r,i){const s=e(r,i);return s===0?n.indexOf(r)-n.indexOf(i):s})},h_=function(t,e){let n,r;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||te.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||te.Number.MAX_VALUE,n-r},b0e=function(t,e){let n,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||te.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||te.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r};let MA=function(t,e,n,r,i,s){if(!t)return;const a={bandwidth:e,width:n,height:r,limitRenditionByPlayerDimensions:i};let o=t.playlists;xr.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(A=>{let D;const M=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,q=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return D=A.attributes&&A.attributes.BANDWIDTH,D=D||te.Number.MAX_VALUE,{bandwidth:D,width:M,height:q,playlist:A}});Zo(l,(A,D)=>A.bandwidth-D.bandwidth),l=l.filter(A=>!xr.isIncompatible(A.playlist));let u=l.filter(A=>xr.isEnabled(A.playlist));u.length||(u=l.filter(A=>!xr.isDisabled(A.playlist)));const c=u.filter(A=>A.bandwidth*Hn.BANDWIDTH_VARIANCE<e);let d=c[c.length-1];const p=c.filter(A=>A.bandwidth===d.bandwidth)[0];if(i===!1){const A=p||u[0]||l[0];if(A&&A.playlist){let D="sortedPlaylistReps";return p&&(D="bandwidthBestRep"),u[0]&&(D="enabledPlaylistReps"),Jd(`choosing ${Mw(A)} using ${D} with options`,a),A.playlist}return Jd("could not choose a playlist with options",a),null}const f=c.filter(A=>A.width&&A.height);Zo(f,(A,D)=>A.width-D.width);const y=f.filter(A=>A.width===n&&A.height===r);d=y[y.length-1];const b=y.filter(A=>A.bandwidth===d.bandwidth)[0];let S,E,x;b||(S=f.filter(A=>A.width>n||A.height>r),E=S.filter(A=>A.width===S[0].width&&A.height===S[0].height),d=E[E.length-1],x=E.filter(A=>A.bandwidth===d.bandwidth)[0]);let k;if(s.leastPixelDiffSelector){const A=f.map(D=>(D.pixelDiff=Math.abs(D.width-n)+Math.abs(D.height-r),D));Zo(A,(D,M)=>D.pixelDiff===M.pixelDiff?M.bandwidth-D.bandwidth:D.pixelDiff-M.pixelDiff),k=A[0]}const L=k||x||b||p||u[0]||l[0];if(L&&L.playlist){let A="sortedPlaylistReps";return k?A="leastPixelDiffRep":x?A="resolutionPlusOneRep":b?A="resolutionBestRep":p?A="bandwidthBestRep":u[0]&&(A="enabledPlaylistReps"),Jd(`choosing ${Mw(L)} using ${A} with options`,a),L.playlist}return Jd("could not choose a playlist with options",a),null};const Dw=function(){let t=this.useDevicePixelRatio&&te.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),MA(this.playlists.main,this.systemBandwidth,parseInt(hp(this.tech_.el(),"width"),10)*t,parseInt(hp(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},T0e=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&te.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),MA(this.playlists.main,e,parseInt(hp(this.tech_.el(),"width"),10)*r,parseInt(hp(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},w0e=function(t){const{main:e,currentTime:n,bandwidth:r,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,u=e.playlists.filter(f=>!xr.isIncompatible(f));let c=u.filter(xr.isEnabled);c.length||(c=u.filter(f=>!xr.isDisabled(f)));const d=c.filter(xr.hasAttribute.bind(null,"BANDWIDTH")).map(f=>{const y=l.getSyncPoint(f,i,o,n)?1:2,b=xr.estimateSegmentRequestTime(s,r,f)*y-a;return{playlist:f,rebufferingImpact:b}}),p=d.filter(f=>f.rebufferingImpact<=0);return Zo(p,(f,y)=>h_(y.playlist,f.playlist)),p.length?p[0]:(Zo(d,(f,y)=>f.rebufferingImpact-y.rebufferingImpact),d[0]||null)},k0e=function(){const t=this.playlists.main.playlists.filter(xr.isEnabled);return Zo(t,(e,n)=>h_(e,n)),t.filter(e=>!!ac(this.playlists.main,e).video)[0]||null},S0e=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(r=>{n.set(r,e),e+=r.byteLength})),n};function DA(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const x0e=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=e.textTracks().getTrackById(r);if(i)t[n]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const u=s[r];u&&(a=u.label,o=u.language,l=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:a,language:o},!1).track}}},E0e=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const r=te.WebKitDataCue||te.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new r(i.startTime+n,i.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},C0e=function(t){Object.defineProperties(t.frame,{id:{get(){return ge.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ge.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ge.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},A0e=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:r})=>{if(!e)return;const i=te.WebKitDataCue||te.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(c=>{const d=c.cueTime+n;typeof d!="number"||te.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(p=>{const f=new i(d,d,p.value||p.url||p.data||"");f.frame=p,f.value=p,C0e(f),s.addCue(f)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,d)=>{const p=c[d.startTime]||[];return p.push(d),c[d.startTime]=p,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const p=l[c],f=isFinite(r)?r:c,y=Number(u[d+1])||f;p.forEach(b=>{b.endTime=y})})},L0e={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},I0e=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),M0e=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const r=te.WebKitDataCue||te.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(I0e.has(s))continue;const a=new r(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:L0e[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}i.processDateRange()})},Pw=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ge.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Fu=function(t,e,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=t&&i.endTime<=e&&n.removeCue(i)},D0e=function(t){const e=t.cues;if(!e)return;const n={};for(let r=e.length-1;r>=0;r--){const i=e[r],s=`${i.startTime}-${i.endTime}-${i.text}`;n[s]?t.removeCue(i):n[s]=i}},P0e=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-n+3)*Na.ONE_SECOND_IN_TS);let i;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},O0e=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const r=e[0].pts;let i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},R0e=(t,e,n,r)=>{const i=Math.ceil((e-r)*Na.ONE_SECOND_IN_TS),s=Math.ceil((n-r)*Na.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},N0e=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(s!==r[i]||t[s]!==e[s])return!1}return!0},PA=22,B0e=function(t,e,n){e=e||[];const r=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),i+=a.duration,i>n))return s}return r.length===0?0:r[r.length-1]},Cu=1,F0e=500,Ow=t=>typeof t=="number"&&isFinite(t),eh=1/60,U0e=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,j0e=(t,e,n)=>{let r=e-Hn.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const i=e-n;return Math.min(i,r)},Eo=t=>{const{startOfSegment:e,duration:n,segment:r,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=t,d=o.length-1;let p="mediaIndex/partIndex increment";t.getMediaInfoForTime?p=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(p+=` with independent ${t.independent}`);const f=typeof u=="number",y=t.segment.uri?"segment":"pre-segment",b=f?J8({preloadSegment:r})-1:0;return`${y} [${s+l}/${s+d}]`+(f?` part [${u}/${b}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(f?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${c}] selected by [${p}] playlist [${a}]`},Rw=t=>`${t}TimingInfo`,$0e=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&t===e?null:t<e?n:r.length?r.end(r.length-1):n,Nw=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(e===n)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(r==="main"&&i){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},H0e=t=>{let e=0;return["video","audio"].forEach(function(n){const r=t[`${n}TimingInfo`];if(!r)return;const{start:i,end:s}=r;let a;typeof i=="bigint"||typeof s=="bigint"?a=te.BigInt(s)-te.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},Bw=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Oi:!1,V0e=(t,e)=>{if(e!=="hls")return null;const n=H0e({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const r=t.playlist.targetDuration,i=Bw({segmentDuration:n,maxDuration:r*2}),s=Bw({segmentDuration:n,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null};class $y extends ge.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ri(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Zm.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,te.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Zm.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Dr();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=e;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const r=cp(e);let i=this.initSegments_[r];return n&&!i&&e.bytes&&(this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,n=!1){if(!e)return null;const r=mA(e);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&e.bytes&&(this.keyCache_[r]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Xm(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Zm.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=R0e(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)Fu(e,n,this.inbandTextTracks_[o]);Fu(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=te.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=te.setTimeout(this.monitorBufferTick_.bind(this),F0e)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=Xm(e)||0,r=o_(e,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=B0e(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const p=a[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=p.end?p.end:n,p.parts&&p.parts[f+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=f+1):o.mediaIndex=this.mediaIndex+1}else{let p,f,y;const b=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${b}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const S=this.getSyncInfoFromMediaSequenceSync_(b);if(!S)return this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null;this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${S.start} --> ${S.end})`),p=S.segmentIndex,f=S.partIndex,y=S.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const S=xr.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:b,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});p=S.segmentIndex,f=S.partIndex,y=S.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${b}`:`currentTime ${b}`,o.mediaIndex=p,o.startOfSegment=y,o.partIndex=f,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!c&&!u.independent)if(o.partIndex===0){const p=a[o.mediaIndex-1],f=p.parts&&p.parts.length&&p.parts[p.parts.length-1];f&&f.independent&&(o.mediaIndex-=1,o.partIndex=p.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=r.segments[i],d=typeof o=="number"&&c.parts[o],p={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},f=typeof l<"u"?l:this.isPendingTimestampOffset_;p.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:f});const y=Xm(this.sourceUpdater_.audioBuffered());return typeof y=="number"&&(p.audioAppendStart=y-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(p.gopsToAlignWith=P0e(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),p}timestampOffsetForSegment_(e){return $0e(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=e.bandwidth,i=this.pendingSegment_.duration,s=xr.estimateSegmentRequestTime(i,r,this.playlist_,e.bytesReceived),a=cve(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=w0e({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const l=s-a-o.rebufferingImpact;let u=.5;a<=Oi&&(u=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<u)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Hn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Eo(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},N0e(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,n,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=Rw(n);s[a]=s[a]||{},s[a][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};n.forEach(s=>{i[s.stream]=i[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=i[s.stream];a.startTime=Math.min(a.startTime,s.startTime+r),a.endTime=Math.max(a.endTime,s.endTime+r),a.captions.push(s)}),Object.keys(i).forEach(s=>{const{startTime:a,endTime:o,captions:l}=i[s],u=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${o} for ${s}`),x0e(u,this.vhs_.tech_,s),Fu(a,o,u[s]),E0e({captionArray:l,inbandTextTracks:u,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Nw({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:s}=n;return!(i&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||Nw({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[Rw(n.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:r,playlist:i}){if(r){const s=cp(r);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ba(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ba(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=Cu&&c-u<=Cu){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${Ba(s).join(", ")}, video buffer: ${Ba(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0,metadata:{errorType:ge.Error.SegmentExceedsSourceBufferQuota}}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:r}));const d=this.currentTime_()-Cu;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Cu}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=te.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Cu*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:r},i){if(i){if(i.code===PA){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ge.Error.SegmentAppendError}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i,bytes:s}){if(!s){const a=[i];let o=i.byteLength;r&&(a.unshift(r),o+=r.byteLength),s=S0e({bytes:o,segments:a})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[s].transmuxedPresentationStart=r.start.presentation,i[s].transmuxedDecodeStart=r.start.decode,i[s].transmuxedPresentationEnd=r.end.presentation,i[s].transmuxedDecodeEnd=r.end.decode,i[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const n=fi({},e,{forceTimestampOffset:!0});fi(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||i&&s;this.logger_(`Requesting
${DA(e.uri)}
${Eo(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=g0e({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${Eo(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)}})}trimBackBuffer_(e){const n=j0e(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,r=e.part,i={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===n.timeline&&(s.videoTimingInfo?i.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(i.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),n.key){const a=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(n.key),i.key.iv=a}return n.map&&(i.map=this.initSegmentForMap(n.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<eh){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${eh}`);return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Ni.ABORTED)return;if(this.pause(),e.code===Ni.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=O0e(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0,metadata:{errorType:ge.Error.SegmentUnsupportedMediaFormat}}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:s}=n,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=U0e(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0,metadata:{errorType:ge.Error.SegmentSwitchError}}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=V0e(e,this.sourceType_);if(n&&(n.severity==="warn"?ge.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Eo(e)}`);return}this.logger_(`Appended ${Eo(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,i=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Eo(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<eh){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${eh}`);return}const n=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,r=n.start,i=n.end;if(!Ow(r)||!Ow(i))return;Fu(r,i,this.segmentMetadataTrack_);const s=te.WebKitDataCue||te.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:i},o=JSON.stringify(a),l=new s(r,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function as(){}const OA=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},q0e=["video","audio"],Hy=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},W0e=(t,e)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.type==="mediaSource")return null;if(r.type===t)return n}return null},Jo=(t,e)=>{if(e.queue.length===0)return;let n=0,r=e.queue[n];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),Jo("audio",e),Jo("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Hy(t,e))){if(r.type!==t){if(n=W0e(t,e.queue),n===null)return;r=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,Jo(t,e);return}}},RA=(t,e)=>{const n=e[`${t}Buffer`],r=OA(t);n&&(n.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),n.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ai=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Br={appendBuffer:(t,e,n)=>(r,i)=>{const s=i[`${r}Buffer`];if(Ai(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===PA?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(a)}}},remove:(t,e)=>(n,r)=>{const i=r[`${n}Buffer`];if(Ai(r.mediaSource,i)){r.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{i.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const r=n[`${e}Buffer`];Ai(n.mediaSource,r)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){ge.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){ge.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Ai(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(r){ge.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>n=>{const r=OA(t),i=wc(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",n[`on${r}UpdateEnd_`]),s.addEventListener("error",n[`on${r}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(RA(t,e),!!Ai(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(r){ge.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,n)=>{const r=n[`${e}Buffer`],i=wc(t);if(!Ai(n.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))!==s){n.logger_(`changing ${e}Buffer codec from ${n.codecs[e]} to ${t}`);try{r.changeType(i),n.codecs[e]=t}catch(o){ge.log.warn(`Failed to changeType on ${e}Buffer`,o)}}}},Fr=({type:t,sourceUpdater:e,action:n,doneFn:r,name:i})=>{e.queue.push({type:t,action:n,doneFn:r,name:i}),Jo(t,e)},Fw=(t,e)=>n=>{const r=e[`${t}Buffered`](),i=ove(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,i),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Jo(t,e)};class NA extends ge.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Jo("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ri("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Fw("video",this),this.onAudioUpdateEnd_=Fw("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Fr({type:"mediaSource",sourceUpdater:this,action:Br.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Fr({type:e,sourceUpdater:this,action:Br.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ge.log.error("removeSourceBuffer is not supported!");return}Fr({type:"mediaSource",sourceUpdater:this,action:Br.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ge.browser.IS_FIREFOX&&te.MediaSource&&te.MediaSource.prototype&&typeof te.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return te.SourceBuffer&&te.SourceBuffer.prototype&&typeof te.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){ge.log.error("changeType is not supported!");return}Fr({type:e,sourceUpdater:this,action:Br.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const r=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(e,n){const{segmentInfo:r,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(Fr({type:i,sourceUpdater:this,action:Br.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ai(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Dr()}videoBuffered(){return Ai(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Dr()}buffered(){const e=Ai(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Ai(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():uve(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=as){Fr({type:"mediaSource",sourceUpdater:this,action:Br.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=as){typeof e!="string"&&(e=void 0),Fr({type:"mediaSource",sourceUpdater:this,action:Br.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,r=as){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Fr({type:"audio",sourceUpdater:this,action:Br.remove(e,n),doneFn:r,name:"remove"})}removeVideo(e,n,r=as){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Fr({type:"video",sourceUpdater:this,action:Br.remove(e,n),doneFn:r,name:"remove"})}updating(){return!!(Hy("audio",this)||Hy("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Fr({type:"audio",sourceUpdater:this,action:Br.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Fr({type:"video",sourceUpdater:this,action:Br.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Fr({type:"audio",sourceUpdater:this,action:Br.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Fr({type:"video",sourceUpdater:this,action:Br.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),q0e.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>RA(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const Uw=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),z0e=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},jw=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class G0e extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Y0e extends $y{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Dr();const e=this.subtitlesTrack_.cues,n=e[0].startTime,r=e[e.length-1].startTime;return Dr([[n,r]])}initSegmentForMap(e,n=!1){if(!e)return null;const r=cp(e);let i=this.initSegments_[r];if(n&&!i&&e.bytes){const s=jw.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(jw,e.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){Fu(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Ni.TIMEOUT&&this.handleTimeout_(),e.code===Ni.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof te.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,r),()=>this.stopForError({message:"Error loading vtt.js",metadata:{errorType:ge.Error.VttLoadError}}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:ge.Error.VttCueParsingError}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new te.VTTCue(a.startTime,a.endTime,a.text):a)}),D0e(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,r=!1;if(typeof te.WebVTT!="function")throw new G0e;typeof te.TextDecoder=="function"?n=new te.TextDecoder("utf8"):(n=te.WebVTT.StringDecoder(),r=!0);const i=new te.WebVTT.Parser(te,te.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{ge.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=Uw(a)),i.parse(a)}let s=e.bytes;r&&(s=Uw(s)),i.parse(s),i.flush()}updateTimeMapping_(e,n,r){const i=e.segment;if(!n)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,o=s/Na.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(l=>{const u=l.endTime-l.startTime,c=s===0?l.startTime+o:this.handleRollover_(l.startTime+o,n.time);l.startTime=Math.max(c,0),l.endTime=Math.max(c+u,0)}),!r.syncInfo){const l=e.cues[0].startTime,u=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(l,u-i.duration)}}}handleRollover_(e,n){if(n===null)return e;let r=e*Na.ONE_SECOND_IN_TS;const i=n*Na.ONE_SECOND_IN_TS;let s;for(i<r?s=-8589934592:s=8589934592;Math.abs(r-i)>4294967296;)r+=s;return r/Na.ONE_SECOND_IN_TS}}const K0e=function(t,e){const n=t.cues;for(let r=0;r<n.length;r++){const i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},X0e=function(t,e,n=0){if(!t.segments)return;let r=n,i;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(i||(i=K0e(e,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new te.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new te.VTTCue(r,r+a.duration,""),i.adStartTime=r-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}r+=a.duration}};class $w{constructor({start:e,end:n,segmentIndex:r,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Q0e{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class Jm{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:r,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(e))return i}else if(n.isInRange(e))return n;return null}updateStorage_(e,n,r){const i=new Map;let s=`
`,a=r,o=n;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),d=a,p=d+l.duration,f=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),y=new $w({start:d,end:p,appended:f,segmentIndex:u});l.syncInfo=y;let b=a;const S=(l.parts||[]).map((E,x)=>{const k=b,L=b+E.duration,A=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[x]&&c.partsSyncInfo[x].isAppended),D=new $w({start:k,end:L,appended:A,segmentIndex:u,partIndex:x});return b=L,s+=`Media Sequence: ${o}.${x} | Range: ${k} --> ${L} | Appended: ${A}
`,E.syncInfo=D,D});i.set(o,new Q0e(y,S)),s+=`${DA(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${p} | Appended: ${f}
`,o++,a=p}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,n){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:n:0}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}const Z0e=86400,eg=[{name:"VOD",run:(t,e,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,r,i,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,r,i)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=Py(e);i=i||0;for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],d=c.segment,p=t.timelineToDatetimeMappings[d.timeline];if(!p||!d.dateTimeObject)continue;let f=d.dateTimeObject.getTime()/1e3+p;if(d.parts&&typeof c.partIndex=="number")for(let b=0;b<c.partIndex;b++)f+=d.parts[b].duration;const y=Math.abs(i-f);if(a!==null&&(y===0||a<y))break;a=y,s={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(t,e,n,r,i)=>{let s=null,a=null;i=i||0;const o=Py(e);for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],d=c.segment,p=c.part&&c.part.start||d&&d.start;if(d.timeline===r&&typeof p<"u"){const f=Math.abs(i-p);if(a!==null&&a<f)break;(!s||a===null||a>=f)&&(a=f,s={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,r,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=t.discontinuities[u];if(c){const d=Math.abs(i-c.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,r,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class J0e extends ge.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.mediaSequenceStorage_={main:new Jm,audio:new Jm,vtt:new Jm},this.logger_=ri("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,r,i,s){if(n!==1/0)return eg.find(({name:o})=>o==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,r,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:d}=l;if(c<0)continue;const p=e.segments[c],f=d,y=f+p.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${c}. Time: [${f} -> ${y}]}`),i>=f&&i<y)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,n){if(!e||!e.segments)return null;const r=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+ic({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,n,r,i,s){const a=[];for(let o=0;o<eg.length;o++){const l=eg[o],u=l.run(this,e,n,r,i,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,n){let r=e[0].syncPoint,i=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<i&&(i=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,n){const r=n.mediaSequence-e.mediaSequence;if(r>Z0e){ge.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),i=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,r){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const s=n.discontinuityStarts[i],a=n.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=r.start-ic({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):u=r.end+ic({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class e_e extends ge.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.lastTimelineChanges_[e]={type:e,from:n,to:r},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const t_e=TA(wA(function(){var t=function(){function b(){this.listeners={}}var S=b.prototype;return S.on=function(E,x){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(x)},S.off=function(E,x){if(!this.listeners[E])return!1;var k=this.listeners[E].indexOf(x);return this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(k,1),k>-1},S.trigger=function(E){var x=this.listeners[E];if(x)if(arguments.length===2)for(var k=x.length,L=0;L<k;++L)x[L].call(this,arguments[1]);else for(var A=Array.prototype.slice.call(arguments,1),D=x.length,M=0;M<D;++M)x[M].apply(this,A)},S.dispose=function(){this.listeners={}},S.pipe=function(E){this.on("data",function(x){E.push(x)})},b}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(b){return b.subarray(0,b.byteLength-b[b.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const b=[[[],[],[],[],[]],[[],[],[],[],[]]],S=b[0],E=b[1],x=S[4],k=E[4];let L,A,D;const M=[],q=[];let j,W,Y,re,le,F;for(L=0;L<256;L++)q[(M[L]=L<<1^(L>>7)*283)^L]=L;for(A=D=0;!x[A];A^=j||1,D=q[D]||1)for(re=D^D<<1^D<<2^D<<3^D<<4,re=re>>8^re&255^99,x[A]=re,k[re]=A,Y=M[W=M[j=M[A]]],F=Y*16843009^W*65537^j*257^A*16843008,le=M[re]*257^re*16843008,L=0;L<4;L++)S[L][A]=le=le<<24^le>>>8,E[L][re]=F=F<<24^F>>>8;for(L=0;L<5;L++)S[L]=S[L].slice(0),E[L]=E[L].slice(0);return b};let r=null;class i{constructor(S){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let E,x,k;const L=this._tables[0][4],A=this._tables[1],D=S.length;let M=1;if(D!==4&&D!==6&&D!==8)throw new Error("Invalid aes key size");const q=S.slice(0),j=[];for(this._key=[q,j],E=D;E<4*D+28;E++)k=q[E-1],(E%D===0||D===8&&E%D===4)&&(k=L[k>>>24]<<24^L[k>>16&255]<<16^L[k>>8&255]<<8^L[k&255],E%D===0&&(k=k<<8^k>>>24^M<<24,M=M<<1^(M>>7)*283)),q[E]=q[E-D]^k;for(x=0;E;x++,E--)k=q[x&3?E:E-4],E<=4||x<4?j[x]=k:j[x]=A[0][L[k>>>24]]^A[1][L[k>>16&255]]^A[2][L[k>>8&255]]^A[3][L[k&255]]}decrypt(S,E,x,k,L,A){const D=this._key[1];let M=S^D[0],q=k^D[1],j=x^D[2],W=E^D[3],Y,re,le;const F=D.length/4-2;let R,H=4;const B=this._tables[1],se=B[0],Te=B[1],$e=B[2],ze=B[3],ie=B[4];for(R=0;R<F;R++)Y=se[M>>>24]^Te[q>>16&255]^$e[j>>8&255]^ze[W&255]^D[H],re=se[q>>>24]^Te[j>>16&255]^$e[W>>8&255]^ze[M&255]^D[H+1],le=se[j>>>24]^Te[W>>16&255]^$e[M>>8&255]^ze[q&255]^D[H+2],W=se[W>>>24]^Te[M>>16&255]^$e[q>>8&255]^ze[j&255]^D[H+3],H+=4,M=Y,q=re,j=le;for(R=0;R<4;R++)L[(3&-R)+A]=ie[M>>>24]<<24^ie[q>>16&255]<<16^ie[j>>8&255]<<8^ie[W&255]^D[H++],Y=M,M=q,q=j,j=W,W=Y}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(S){this.jobs.push(S),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(b){return b<<24|(b&65280)<<8|(b&16711680)>>8|b>>>24},o=function(b,S,E){const x=new Int32Array(b.buffer,b.byteOffset,b.byteLength>>2),k=new i(Array.prototype.slice.call(S)),L=new Uint8Array(b.byteLength),A=new Int32Array(L.buffer);let D,M,q,j,W,Y,re,le,F;for(D=E[0],M=E[1],q=E[2],j=E[3],F=0;F<x.length;F+=4)W=a(x[F]),Y=a(x[F+1]),re=a(x[F+2]),le=a(x[F+3]),k.decrypt(W,Y,re,le,A,F),A[F]=a(A[F]^D),A[F+1]=a(A[F+1]^M),A[F+2]=a(A[F+2]^q),A[F+3]=a(A[F+3]^j),D=W,M=Y,q=re,j=le;return L};class l{constructor(S,E,x,k){const L=l.STEP,A=new Int32Array(S.buffer),D=new Uint8Array(S.byteLength);let M=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(A.subarray(M,M+L),E,x,D)),M=L;M<A.length;M+=L)x=new Uint32Array([a(A[M-4]),a(A[M-3]),a(A[M-2]),a(A[M-1])]),this.asyncStream_.push(this.decryptChunk_(A.subarray(M,M+L),E,x,D));this.asyncStream_.push(function(){k(null,e(D))})}static get STEP(){return 32e3}decryptChunk_(S,E,x,k){return function(){const L=o(S,E,x);k.set(L,S.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,p=function(b){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer},f=d.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var b=new Uint16Array([65484]),S=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return S[0]===255?"big":S[0]===204?"little":"unknown"}();const y=function(b){const S={};return Object.keys(b).forEach(E=>{const x=b[E];p(x)?S[E]={bytes:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength}:S[E]=x}),S};self.onmessage=function(b){const S=b.data,E=new Uint8Array(S.encrypted.bytes,S.encrypted.byteOffset,S.encrypted.byteLength),x=new Uint32Array(S.key.bytes,S.key.byteOffset,S.key.byteLength/4),k=new Uint32Array(S.iv.bytes,S.iv.byteOffset,S.iv.byteLength/4);new l(E,x,k,function(L,A){self.postMessage(y({source:S.source,decrypted:A}),[A.buffer])})}}));var n_e=bA(t_e);const r_e=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},BA=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Vy=(t,e)=>{e.activePlaylistLoader=t,t.load()},i_e=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:r},mediaTypes:{[t]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,BA(n,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}n.resyncLoader(),Vy(a.playlistLoader,i)}},s_e=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,n.abort(),n.pause()},a_e=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,BA(r,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),n.pause(),i.resetEverything(),c.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){Vy(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),Vy(o.playlistLoader,s)}},pp={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:r}=e,i=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(i===o){r({error:{message:"Problem encountered loading the default audio track."}});return}ge.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;ge.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},Hw={AUDIO:(t,e,n)=>{if(!e)return;const{tech:r,requestOptions:i,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",pp[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),r.paused()||s.load()}),e.on("error",pp[t](t,n))}},o_e={AUDIO:(t,e)=>{const{vhs:n,sourceType:r,segmentLoaders:{[t]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,d=id(c.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=c.main.playlists));for(const p in a[t]){o[p]||(o[p]=[]);for(const f in a[t][p]){let y=a[t][p][f],b;if(d?(u(`AUDIO group '${p}' label '${f}' is a main playlist`),y.isMainPlaylist=!0,b=null):r==="vhs-json"&&y.playlists?b=new Bo(y.playlists[0],n,s):y.resolvedUri?b=new Bo(y.resolvedUri,n,s):y.playlists&&r==="dash"?b=new Uy(y.playlists[0],n,s,c):b=null,y=Dt({id:f,playlistLoader:b},y),Hw[t](t,y.playlistLoader,e),o[p].push(y),typeof l[f]>"u"){const S=new ge.AudioTrack({id:f,kind:r_e(y),enabled:!1,language:y.language,default:y.default,label:f});l[f]=S}}}i.on("error",pp[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const p in o[t][d]){if(!r.options_.useForcedSubtitles&&o[t][d][p].forced)continue;let f=o[t][d][p],y;if(i==="hls")y=new Bo(f.resolvedUri,r,a);else if(i==="dash"){if(!f.playlists.filter(b=>b.excludeUntil!==1/0).length)return;y=new Uy(f.playlists[0],r,a,c)}else i==="vhs-json"&&(y=new Bo(f.playlists?f.playlists[0]:f.resolvedUri,r,a));if(f=Dt({id:p,playlistLoader:y},f),Hw[t](t,f.playlistLoader,e),l[d].push(f),typeof u[p]>"u"){const b=n.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track;u[p]=b}}}s.on("error",pp[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[t]:{groups:i,tracks:s}}}=e;for(const a in r[t]){i[a]||(i[a]=[]);for(const o in r[t][a]){const l=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=Dt(c,u[c.instreamId])),c.default===void 0&&delete c.default,i[a].push(Dt({id:o},l)),typeof s[o]>"u"){const d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=d}}}}},FA=(t,e)=>{for(let n=0;n<t.length;n++)if(c_(e,t[n])||t[n].playlists&&FA(t[n].playlists,e))return!0;return!1},l_e=(t,e)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:i}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=i[s.attributes[t]]);const o=Object.keys(i);if(!a)if(t==="AUDIO"&&o.length>1&&id(e.main))for(let l=0;l<o.length;l++){const u=i[o[l]];if(FA(u,s)){a=u;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},u_e={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},c_e=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},d_e=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{o_e[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=l_e(u,t),e[u].activeTrack=u_e[u](u,t),e[u].onGroupChanged=i_e(u,t),e[u].onGroupChanging=s_e(u,t),e[u].onTrackChanged=a_e(u,t),e[u].getActiveGroup=c_e(u,t)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(c=>c.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},h_e=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:as,activeTrack:as,getActiveGroup:as,onGroupChanged:as,onTrackChanged:as,lastTrack_:null,logger_:ri(`MediaGroups[${e}]`)}}),t};class Vw{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Sr(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class p_e extends ge.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Vw,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ri("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=Sr(e,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const r=e?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(i,s)=>{if(i){if(s.status===410){this.logger_(`manifest request 410 ${i}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(s.status===429){const o=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${i}.`),this.logger_(`content steering will retry in ${o} seconds.`),this.startTTLTimeout_(parseInt(o,10));return}this.logger_(`manifest failed to load ${i}.`),this.startTTLTimeout_();return}const a=JSON.parse(this.request_.responseText);this.assignSteeringProperties_(a),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new te.URL(e),r=new te.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const n=JSON.parse(te.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new te.URL(e),r=this.getPathway(),i=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,r)}if(i){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,i)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(r=>{for(const i of r)if(this.availablePathways_.has(i))return i;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!n(i))return i}const r=this.setSteeringParams_(e);return n(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=te.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){te.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Vw}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Sr(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const f_e=10;let ts;const m_e=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],g_e=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},y_e=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!r)return ge.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const c=!!No(e,n).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const d=o_(e,n),p=o?Hn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Hn.MAX_BUFFER_LOW_WATER_LINE;if(a<p)return l(`${u} as duration < max low water line (${a} < ${p})`),!0;const f=r.attributes.BANDWIDTH,y=t.attributes.BANDWIDTH;if(f<y&&(!o||d<s)){let b=`${u} as next bandwidth < current bandwidth (${f} < ${y})`;return o&&(b+=` and forwardBuffer < bufferHighWaterLine (${d} < ${s})`),l(b),!0}if((!o||f>y)&&d>=i){let b=`${u} as forwardBuffer >= bufferLowWaterLine (${d} >= ${i})`;return o&&(b+=` and next bandwidth > current bandwidth (${f} > ${y})`),l(b),!0}return l(`not ${u} as no switching criteria met`),!1};class v_e extends ge.EventTarget{constructor(e){super();const{src:n,withCredentials:r,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:p,leastPixelDiffSelector:f,captionServices:y}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:b}=e;(b===null||typeof b>"u")&&(b=1/0),ts=a,this.bufferBasedABR=!!p,this.leastPixelDiffSelector=!!f,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=b,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:b,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=h_e(),this.mediaSource=new te.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Dr(),this.hasPlayed_=!1,this.syncController_=new J0e(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new n_e,this.sourceUpdater_=new NA(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new e_e,this.keyStatusMap_=new Map;const S={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:y,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Uy(n,this.vhs_,Dt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Bo(n,this.vhs_,Dt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new $y(Dt(S,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new $y(Dt(S,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Y0e(Dt(S,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((k,L)=>{function A(){i.off("vttjserror",D),k()}function D(){i.off("vttjsloaded",A),L()}i.one("vttjsloaded",A),i.one("vttjserror",D),i.addWebVttScript_()})}),e);const E=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new p_e(this.vhs_.xhr,E),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),m_e.forEach(k=>{this[k+"_"]=g_e.bind(this,k)}),this.logger_=ri("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const x=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(x,()=>{const k=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-k,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,r){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);s&&s!==a&&(this.logger_(`switch media ${s} -> ${a} from ${n}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})),this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const s=(r.length?r[0].playlists:r.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=te.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(te.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const r=e.mediaGroups.AUDIO,i=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||i.length&&r[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in r)if(r[o][s.label]){const l=r[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Oy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),d_e({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Oy(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();e.lastExcludeReason_!=="playlist-unchanged"&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const r=e.mediaGroups||{};let i=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ts.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return y_e({buffered:a,currentTime:r,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:f_e}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.tech_.setCurrentTime(this.tech_.currentTime())})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(r+s,n.start(0)):i=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const r=ts.Playlist.playlistEnd(e,n),i=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return r-i<=Ri;const a=s.end(s.length-1);return a-i<=Ri&&r-a<=Ri}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(Ef),a=s.length===1&&s[0]===e;if(i.length===1&&r!==1/0)return ge.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const y=this.pathwayAttribute_(e),b=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(y),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(y)},b);return}let f=!1;i.forEach(y=>{if(y===e)return;const b=y.excludeUntil;typeof b<"u"&&b!==1/0&&(f=!0,delete y.excludeUntil)}),f&&(ge.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:ge.log.warn,c=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,p=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||p)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const r=[],i=e==="all";(i||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=No(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ts.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let r=this.syncController_.getExpiredTime(n,this.duration());if(r===null)return;const i=this.mainPlaylistLoader_.main,s=ts.Playlist.seekable(n,r,ts.Playlist.liveEdgeDelay(i,n));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.duration()),r===null||(e=ts.Playlist.seekable(n,r,ts.Playlist.liveEdgeDelay(i,n)),e.length===0)))return;let a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Dr([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)&&(this.logger_(`seekable updated [${Q8(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=ts.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=ac(this.main(),n),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=r.video||e.main.videoCodec||jfe),e.main.isMuxed&&(i.video+=`,${r.audio||e.main.audioCodec||C1}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||C1,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?ph(c):Nm(c),o={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!a(e[u].isFmp4,i[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(i[u]),u==="audio"&&(l=c)}}),s&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==n&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,d)=>(c&&(c+=", "),c+=`${d} does not support codec(s): "${o[d].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(Ci(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,p=(Ci(i[c]||"")[0]||{}).type;d&&p&&d.toLowerCase()!==p.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${i[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(r=>{const i=e[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const s=ac(this.main,i),a=[];s.audio&&!Nm(s.audio)&&!ph(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!Nm(s.video)&&!ph(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists,i=dp(Ci(e)),s=Iw(i),a=i.video&&Ci(i.video)[0]||null,o=i.audio&&Ci(i.audio)[0]||null;Object.keys(r).forEach(l=>{const u=r[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const c=[],d=ac(this.mainPlaylistLoader_.main,u),p=Iw(d);if(!(!d.audio&&!d.video)){if(p!==s&&c.push(`codec count "${p}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const f=d.video&&Ci(d.video)[0]||null,y=d.audio&&Ci(d.audio)[0]||null;f&&a&&f.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${f.type}" !== "${a.type}"`),y&&o&&y.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${y.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),X0e(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=Hn.GOAL_BUFFER_LENGTH,r=Hn.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,Hn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*r,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=Hn.BUFFER_LOW_WATER_LINE,r=Hn.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,Hn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,Hn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*r,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Hn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){Pw(this.inbandTextTracks_,"com.apple.streaming",this.tech_),M0e({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();Pw(this.inbandTextTracks_,e,this.tech_),A0e({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const n=this.contentSteeringController_.getAvailablePathways(),r=[];for(const i of e.playlists){const s=i.attributes.serviceLocation;if(s&&(r.push(s),!n.has(s)))return!0}return!!(!r.length&&n.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,r=new Set;let i=!1;Object.keys(n).forEach(s=>{const a=n[s],o=this.pathwayAttribute_(a),l=o&&e!==o;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!l&&(delete a.excludeUntil,delete a.lastExcludeReason_,i=!0);const u=!a.excludeUntil&&a.excludeUntil!==1/0;!r.has(a.id)&&l&&u&&(r.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const o=a.activePlaylistLoader.media_;o&&o.attributes.serviceLocation!==e&&(i=!0)}}),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,r=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||r&&r.size){for(const[i,s]of n.entries())r.get(i)||(this.mainPlaylistLoader_.updateOrDeleteClone(s),this.contentSteeringController_.excludePathway(i));for(const[i,s]of r.entries()){const a=n.get(i);if(!a){e.filter(o=>o.attributes["PATHWAY-ID"]===s["BASE-ID"]).forEach(o=>{this.mainPlaylistLoader_.addClonePathway(s,o)}),this.contentSteeringController_.addAvailablePathway(i);continue}this.equalPathwayClones_(a,s)||(this.mainPlaylistLoader_.updateOrDeleteClone(s,!0),this.contentSteeringController_.addAvailablePathway(i))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...r])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==i[s])return!1;for(const s in i)if(r[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;o?o&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&s&&(delete r.excludeUntil,ge.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const r=(typeof e=="string"?e:z0e(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${r} added to the keyStatusMap`),this.keyStatusMap_.set(r,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const __e=(t,e,n)=>r=>{const i=t.main.playlists[e],s=u_(i),a=Ef(i);return typeof r>"u"?a:(r?delete i.disabled:i.disabled=!0,r!==a&&!s&&(n(i),r?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),r)};class b_e{constructor(e,n,r){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=ac(i.main(),n),this.playlist=n,this.id=r,this.enabled=__e(e.playlists,n.id,s)}}const T_e=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=id(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(r=>!u_(r)).map((r,i)=>new b_e(t,r,r.id)):[]}},qw=["seeking","seeked","pause","playing","error"];class w_e{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ri("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(qw,s),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(qw,s),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&te.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&te.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=te.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,r=n[`${e}SegmentLoader_`],i=r.buffered_(),s=dve(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:Ba(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Ri>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),n=this.tech_.currentTime(),r=this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let i;if(r&&(i=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){const f=e.start(0);i=f+(f===e.end(0)?0:Ri)}if(typeof i<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${Q8(e)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),o=s.audioBuffer?s.audioBuffered():null,l=s.videoBuffer?s.videoBuffered():null,u=this.media(),c=u.partTargetDuration?u.partTargetDuration:(u.targetDuration-Oi)*2,d=[o,l];for(let f=0;f<d.length;f++)if(d[f]&&o_(d[f],n)<c)return!1;const p=Zd(a,n);return p.length===0?!1:(i=p.start(0)+Ri,this.logger_(`Buffered region starts (${p.start(0)})  just beyond seek point (${n}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),r=No(n,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=Zd(i,n);return s.length>0?(this.logger_(`Stopped at ${n} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,r,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Ri;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+r.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:r}){if(!e)return;let i;if(e.length&&n.length){const s=No(e,r-3),a=No(e,r),o=No(n,r);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else Zd(e,r).length||(i=this.gapFromVideoUnderflow_(e,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=Zd(n,r);this.resetTimeUpdate_(),!(i.length===0||r!==e)&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Oi),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,n){const r=lve(e);for(let i=0;i<r.length;i++){const s=r.start(i),a=r.end(i);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const k_e={errorInterval:30,getSource(t){const e=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(e)}},UA=function(t,e){let n=0,r=0;const i=Dt(k_e,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(c){c!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<i.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){ge.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},u=function(c){l(),UA(t,c)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=u},S_e=function(t){UA(this,t)};var jA="3.12.1",x_e="7.0.3",E_e="1.3.0",C_e="7.1.0",A_e="4.0.1";const dn={PlaylistLoader:Bo,Playlist:xr,utils:Rve,STANDARD_PLAYLIST_SELECTOR:Dw,INITIAL_PLAYLIST_SELECTOR:k0e,lastBandwidthSelector:Dw,movingAverageBandwidthSelector:T0e,comparePlaylistBandwidth:h_,comparePlaylistResolution:b0e,xhr:pA()};Object.keys(Hn).forEach(t=>{Object.defineProperty(dn,t,{get(){return ge.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Hn[t]},set(e){if(ge.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ge.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Hn[t]=e}})});const $A="videojs-vhs",HA=function(t,e){const n=e.media();let r=-1;for(let i=0;i<t.length;i++)if(t[i].id===n.id){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},L_e=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),HA(t,e.playlists)};dn.canPlaySource=function(){return ge.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const I_e=(t,e,n)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=dp(Ci(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=wc(r.video),s=wc(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Dt(t,a)},M_e=(t,e)=>t.reduce((n,r)=>{if(!r.contentProtection)return n;const i=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&n.push(i),n},[]),D_e=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,s=M_e(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},P_e=({player:t,sourceKeySystems:e,media:n,audioMedia:r})=>{const i=I_e(e,n,r);return i?(t.currentSource().keySystems=i,i&&!t.eme?(ge.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},VA=()=>{if(!te.localStorage)return null;const t=te.localStorage.getItem($A);if(!t)return null;try{return JSON.parse(t)}catch{return null}},O_e=t=>{if(!te.localStorage)return!1;let e=VA();e=e?Dt(e,t):t;try{te.localStorage.setItem($A,JSON.stringify(e))}catch{return!1}return e},R_e=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,qA=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},WA=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},zA=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},GA=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};dn.supportsNativeHls=function(){if(!Ve||!Ve.createElement)return!1;const t=Ve.createElement("video");return ge.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))}):!1}();dn.supportsNativeDash=function(){return!Ve||!Ve.createElement||!ge.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ve.createElement("video").canPlayType("application/dash+xml"))}();dn.supportsTypeNatively=t=>t==="hls"?dn.supportsNativeHls:t==="dash"?dn.supportsNativeDash:!1;dn.isSupported=function(){return ge.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};dn.xhr.onRequest=function(t){qA(dn.xhr,t)};dn.xhr.onResponse=function(t){WA(dn.xhr,t)};dn.xhr.offRequest=function(t){zA(dn.xhr,t)};dn.xhr.offResponse=function(t){GA(dn.xhr,t)};const N_e=ge.getComponent("Component");class YA extends N_e{constructor(e,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=ri("VhsHandler"),n.options_&&n.options_.playerId){const i=ge.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ve,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=Ve.fullscreenElement||Ve.webkitFullscreenElement||Ve.mozFullScreenElement||Ve.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Dt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=VA();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Hn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Hn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=R_e(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=dn,this.options_.sourceType=WC(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.playlistController_=new v_e(this.options_);const r=Dt({liveRangeSafeTimeDelta:Ri},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new w_e(r),this.playlistController_.on("error",()=>{const s=ge.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?dn.movingAverageBandwidthSelector(.55):dn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=dn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=te.navigator.connection||te.navigator.mozConnection||te.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){ge.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ba(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ba(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&O_e({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{T_e(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=te.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),D_e({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3,metadata:{errorType:ge.Error.EMEKeySessionCreationError}})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=P_e({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ge.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{L_e(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{HA(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":jA,"mux.js":x_e,"mpd-parser":E_e,"m3u8-parser":C_e,"aes-decrypter":A_e}}version(){return this.constructor.version()}canChangeType(){return NA.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&te.URL.revokeObjectURL&&(te.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return Hve({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,r=!0,i=2){return vA({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{qA(this.xhr,e)},this.xhr.onResponse=e=>{WA(this.xhr,e)},this.xhr.offRequest=e=>{zA(this.xhr,e)},this.xhr.offResponse=e=>{GA(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const fp={name:"videojs-http-streaming",VERSION:jA,canHandleSource(t,e={}){const n=Dt(ge.options,e);return fp.canPlayType(t.type,n)},handleSource(t,e,n={}){const r=Dt(ge.options,n);return e.vhs=new YA(t,e,r),e.vhs.xhr=pA(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=WC(t);if(!n)return"";const r=fp.getOverrideNative(e);return!dn.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(ge.browser.IS_ANY_SAFARI||ge.browser.IS_IOS),{overrideNative:r=n}=e;return r}},B_e=()=>ph("avc1.4d400d,mp4a.40.2");B_e()&&ge.getTech("Html5").registerSourceHandler(fp,0);ge.VhsHandler=YA;ge.VhsSourceHandler=fp;ge.Vhs=dn;ge.use||ge.registerComponent("Vhs",dn);ge.options.vhs=ge.options.vhs||{};(!ge.getPlugin||!ge.getPlugin("reloadSourceOnError"))&&ge.registerPlugin("reloadSourceOnError",S_e);const F_e={name:"VideoJs",props:{sources:{type:Array,required:!0},poster:{type:String,default:""},autoplay:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},fill:{type:Boolean,default:!0},audioPosterMode:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!0}},data(){return{player:null}},mounted(){this.player=ge(this.$refs.videoPlayer,this.$props,()=>{})},beforeUnmount(){this.player&&this.player.dispose()}},U_e={class:"video-js-container"},j_e={class:"video-player"},$_e={ref:"videoPlayer",class:"video-js vjs-big-play-centered"};function H_e(t,e,n,r,i,s){return m(),T("div",U_e,[I("div",j_e,[I("video",$_e,null,512)])])}const V_e=Me(F_e,[["render",H_e]]),q_e={class:"media-item"},W_e=["innerHTML"],z_e=["textContent"],G_e=Be({__name:"Item",props:{item:{type:Array,default:()=>[]},embedCode:{type:String,default:""},coverImage:{type:Array,default:()=>[]},coverOnly:{type:Boolean,default:!1},height:{type:Number,default:0},width:{type:Number,default:0},aspectRatio:{type:Number,default:0},backgroundColor:{type:String,default:""},focalPoint:{type:Array,default:()=>[]},mode:{type:String,default:"intrinsic-ratio"},objectFit:{type:String,default:"contain"},controls:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},playsinline:{type:Boolean,default:!0}},setup(t){const e=t,n=U(()=>e.item[0]&&e.item[0].kind==="audio"),r=U(()=>!!(e.embedCode&&e.embedCode.length)),i=U(()=>e.item[0]&&e.item[0].kind==="image"),s=U(()=>e.item[0]&&e.item[0].kind==="video"),a=U(()=>e.coverImage[0]&&e.coverImage[0].src),o=U(()=>[`objectFit: ${e.objectFit}`,`objectPosition:
        ${e.item[0]&&e.item[0].focalPoint&&e.item[0].focalPoint.map(c=>`${c*100}%`).join(" ")}`]),l=U(()=>e.aspectRatio||e.height/e.width*100||!e.coverOnly&&e.item[0]&&e.item[0].height/e.item[0].width*100||(e.coverImage[0]&&e.coverImage[0].height/e.coverImage[0].width)*100||9/16*100),u=U(()=>[`paddingBottom: ${l.value}%`]);return(c,d)=>(m(),T("div",q_e,[r.value?(m(),T("div",{key:0,class:"media media-embed",innerHTML:t.embedCode},null,8,W_e)):i.value?(m(),T("img",Xt({key:1,class:"media media-image",style:o.value},t.item[0]),null,16)):e.coverOnly?(m(),T("img",Xt({key:2,class:"media media-image",style:o.value},e.coverImage[0]),null,16)):s.value||n.value?(m(),oe(V_e,{key:3,class:"media media-video",style:gn(o.value),sources:e.item,poster:a.value,controls:e.controls,autoplay:e.autoplay,loop:e.loop,muted:e.muted,playsinline:e.playsinline,"audio-poster-mode":n.value},null,8,["style","sources","poster","controls","autoplay","loop","muted","playsinline","audio-poster-mode"])):(m(),T("p",{key:4,class:"media",style:{"background-color":"white",padding:"10px"},textContent:ye(n.value?"Audio uploads not supported yet":"Could not identify media type")},null,8,z_e)),I("div",{class:"sizer",style:gn(u.value)},null,4),We(c.$slots,"default",{},void 0,!0)]))}}),sd=Me(G_e,[["__scopeId","data-v-7c537112"]]),Y_e=Object.freeze(Object.defineProperty({__proto__:null,default:sd},Symbol.toStringTag,{value:"Module"})),K_e={name:"MediaBadge"},X_e=t=>(Ot("data-v-968ea689"),t=t(),Rt(),t),Q_e={class:"media-badge"},Z_e=X_e(()=>I("div",{class:"floating-highlight"},null,-1)),J_e={class:"badge-content"};function ebe(t,e,n,r,i,s){return m(),T("div",Q_e,[Z_e,I("div",J_e,[We(t.$slots,"default",{class:"badge-content-item"},void 0,!0)])])}const KA=Me(K_e,[["render",ebe],["__scopeId","data-v-968ea689"]]),XA=t=>(Ot("data-v-e7074817"),t=t(),Rt(),t),tbe={key:0},nbe=XA(()=>I("div",{class:"gradient"},null,-1)),rbe={class:"glyph-expand"},ibe=XA(()=>I("line",{x1:"20%",y1:"50%",x2:"80%",y2:"50%","stroke-width":"1.5px"},null,-1)),sbe={key:0,y1:"20%",x1:"50%",y2:"80%",x2:"50%","stroke-width":"1.5px"},abe={key:0,class:"text-wrapper"},obe=["textContent"],lbe=Be({__name:"BannerImage",props:{item:{type:Array,default:()=>[]},coverImage:{type:Array,default:()=>[]},embedCode:{type:String,default:""},nItems:{type:Number,required:!0},expanded:{type:Boolean,required:!0},isHalfWidth:{type:String,default:""},sectionTitle:{type:String,default:""},sectionSummary:{type:String,default:""}},emits:["toggleThumbnails"],setup(t,{emit:e}){const n=t,r=e,i=U(()=>["banner-image",n.isHalfWidth==="halfWidth"?"half-width-media-item":""]);return(s,a)=>(m(),T("div",{class:Oe(i.value)},[ae(sd,{item:t.item,"embed-code":t.embedCode,"cover-image":t.coverImage,"aspect-ratio":60,"object-fit":"cover",class:"media-item",onClick:a[0]||(a[0]=o=>r("toggleThumbnails"))},{default:Ie(()=>[t.nItems>1&&!t.expanded?(m(),T("div",tbe,[nbe,ae($(Dpe),{class:"molecule-image-stack","aria-hidden":"true"})])):P("",!0),t.nItems>1?(m(),oe(KA,{key:1,"is-expanded":t.expanded},{default:Ie(()=>[tt(ye(t.nItems)+" images ",1),(m(),T("svg",rbe,[ibe,t.expanded?P("",!0):(m(),T("line",sbe))]))]),_:1},8,["is-expanded"])):P("",!0)]),_:1},8,["item","embed-code","cover-image"]),t.isHalfWidth?(m(),T("div",abe,[t.sectionTitle?(m(),T("h3",{key:0,class:"title",textContent:ye(t.sectionTitle)},null,8,obe)):P("",!0),t.sectionSummary?(m(),oe(ir,{key:1,class:"summary",innerHTML:t.sectionSummary},null,8,["innerHTML"])):P("",!0)])):P("",!0)],2))}}),QA=Me(lbe,[["__scopeId","data-v-e7074817"]]),ube={width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-caret-circle-left"},cbe=I("circle",{opacity:"0.2",cx:"24",cy:"24",r:"22",fill:"#EAF2FB",class:"svg__fill--primary-blue-01"},null,-1),dbe=I("path",{d:"M17 24.1355L16.4697 24.6658C16.1768 24.3729 16.1768 23.8981 16.4697 23.6052L17 24.1355ZM16.4697 23.6052L30.4697 9.60517L31.5303 10.6658L17.5303 24.6658L16.4697 23.6052ZM17.5303 23.6052L31.5303 37.6052L30.4697 38.6658L16.4697 24.6658L17.5303 23.6052Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"},null,-1),hbe=[cbe,dbe];function pbe(t,e){return m(),T("svg",ube,[...hbe])}const fbe={render:pbe},mbe={width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-caret-circle-right"},gbe=I("circle",{opacity:"0.2",cx:"24",cy:"24",r:"22",fill:"#EAF2FB",class:"svg__fill--primary-blue-01"},null,-1),ybe=I("path",{d:"M31 24.1355L31.5303 23.6052C31.8232 23.8981 31.8232 24.3729 31.5303 24.6658L31 24.1355ZM31.5303 24.6658L17.5303 38.6658L16.4697 37.6052L30.4697 23.6052L31.5303 24.6658ZM30.4697 24.6658L16.4697 10.6658L17.5303 9.60517L31.5303 23.6052L30.4697 24.6658Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"},null,-1),vbe=[gbe,ybe];function _be(t,e){return m(),T("svg",mbe,[...vbe])}const bbe={render:_be},Tbe={width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-close-large"},wbe=I("g",null,[I("circle",{opacity:"0.2",cx:"24",cy:"24",r:"24",fill:"#EAF2FB",class:"svg__fill--primary-blue-01"}),I("path",{d:"M36 35.8886L12 12.1099",stroke:"#5CD9FF","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--default-cyan-02"}),I("path",{d:"M12.0989 36L35.9023 12",stroke:"#5CD9FF","stroke-width":"1.5","stroke-linejoin":"round",class:"svg__stroke--default-cyan-02"})],-1),kbe=[wbe];function Sbe(t,e){return m(),T("svg",Tbe,[...kbe])}const ZA={render:Sbe},xbe={key:0,class:"credit-text"},Ebe=["textContent"],Cbe=["disabled"],Abe=["disabled"],Lbe={class:"caption-block"},Ibe={key:0,class:"media-counter",role:"tablist"},Mbe=["disabled","onClick"],Dbe={class:"caption-content"},Pbe=["textContent"],Obe=["textContent"],Rbe={key:2,class:"media-object-credit"},Nbe=Be({__name:"NewLightbox",props:{items:{type:Array,default:()=>[],required:!0},selectedItem:{type:Number,default:0}},emits:["closeModal"],setup(t,{emit:e}){const{items:n,selectedItem:r}=t,i=e,s=Ol(),a=Re(()=>Promise.resolve().then(()=>Rx)),o=de(r),l=U(()=>n.map(b=>b.captionTitle)),u=U(()=>n.map(b=>b.captionText)),c=U(()=>["lightbox",(s==null?void 0:s.value)||""]),d=U(()=>(s==null?void 0:s.value)==="ftva"?"cover":"contain"),p=de(null);Ht(()=>{var b;(b=p.value)==null||b.focus()});function f(){i("closeModal")}function y(b){o.value=b}return(b,S)=>(m(),T("div",{ref_key:"lightbox",ref:p,class:Oe(c.value)},[I("button",{class:"button-close",onClick:f},[ae($(ZA),{"aria-label":"Close"})]),ae($(AC),{modelValue:o.value,"onUpdate:modelValue":S[0]||(S[0]=E=>o.value=E),class:"media-container"},{default:Ie(()=>[(m(!0),T(we,null,Fe(t.items,(E,x)=>(m(),oe($(LC),{key:`media-container-${x}`},{default:Ie(()=>[(m(),oe(sd,{key:`${E.captionTitle}-${x}`,"object-fit":d.value,item:E.item,"cover-image":E.coverImage,"embed-code":E.embedCode},{default:Ie(()=>[E.credit?(m(),T("div",xbe,[I("span",{textContent:ye(E.credit)},null,8,Ebe)])):P("",!0)]),_:2},1032,["object-fit","item","cover-image","embed-code"]))]),_:2},1024))),128))]),_:1},8,["modelValue"]),t.items.length>1?(m(),T("button",{key:0,class:"button-prev",disabled:o.value<=0,onClick:S[1]||(S[1]=E=>o.value-=1)},[ae($(fbe),{"aria-label":"Show previous image"})],8,Cbe)):P("",!0),t.items.length>1?(m(),T("button",{key:1,class:"button-next",disabled:o.value>=t.items.length-1,onClick:S[2]||(S[2]=E=>o.value+=1)},[ae($(bbe),{"aria-label":"Show next image"})],8,Abe)):P("",!0),I("div",Lbe,[t.items.length>1?(m(),T("div",Ibe,[(m(!0),T(we,null,Fe(t.items.length,E=>(m(),T("button",{key:`caption-block-${E}`,disabled:E-1===o.value,class:"media-counter-item",onClick:x=>y(E-1)},[ae($(IC))],8,Mbe))),128))])):P("",!0),I("div",Dbe,[We(b.$slots,"default",{selectionIndex:o.value},void 0,!0),l.value?(m(),T("h4",{key:0,class:"media-object-title",textContent:ye(l.value[o.value])},null,8,Pbe)):P("",!0),u.value?(m(),T("p",{key:1,class:"media-object-caption",textContent:ye(u.value[o.value])},null,8,Obe)):P("",!0),t.items&&t.items[o.value]&&t.items[o.value].credit?(m(),T("p",Rbe,ye(t.items[o.value].credit),1)):P("",!0),t.items&&t.items[o.value]&&t.items[o.value].linkUrl&&t.items[o.value].linkText?(m(),oe(pt,{key:3,class:"media-object-caption-link",to:t.items[o.value].linkUrl},{default:Ie(()=>[tt(ye(t.items[o.value].linkText)+" ",1),ae($(a))]),_:1},8,["to"])):P("",!0)])])],2))}}),p_=Me(Nbe,[["__scopeId","data-v-a24dbf48"]]),Bbe=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"})),Fbe={key:0,class:"caption-text"},Ube=Be({__name:"ThumbnailCard",props:{item:{type:Array,default:()=>[]},coverImage:{type:Array,default:()=>[]},embedCode:{type:String,default:""},captionTitle:{type:String,default:""},captionText:{type:String,default:""},credit:{type:String,default:""},linkUrl:{type:String,default:""},linkText:{type:String,default:""}},setup(t){const e=t,n=U(()=>(e.coverImage||[]).concat(e.item||[]).filter(i=>i.kind==="image")),r=U(()=>na(e.captionText||e.credit||""));return(i,s)=>(m(),oe(Ju,{class:"thumbnail-card","no-margins":!0},{default:Ie(()=>[ae(sd,{item:n.value,"aspect-ratio":60,class:"image","object-fit":"cover"},null,8,["item"]),ae(ef,{class:"caption-title",textContent:ye(t.captionTitle)},null,8,["textContent"]),r.value?(m(),T("p",Fbe,ye(r.value),1)):P("",!0),t.linkUrl&&t.linkText?(m(),oe(pt,{key:1,to:t.linkUrl,class:"caption-link"},{default:Ie(()=>[tt(ye(t.linkText)+" ",1),ae($(Wp))]),_:1},8,["to"])):P("",!0)]),_:1}))}}),JA=Me(Ube,[["__scopeId","data-v-dcc49117"]]),jbe={key:0,class:"media-gallery"},$be={key:2,class:"thumbnails"},Hbe=Be({__name:"MediaGallery",props:{block:{type:Object,required:!0}},setup(t){const{block:e}=t,n=de(!1),r=de(0),i=de(!1),s=U(()=>e.mediaGallery.length),a=U(()=>e.mediaGalleryStyle==="halfWidth"?e.sectionTitle:""),o=U(()=>e.mediaGalleryStyle==="halfWidth"?e.richTextSimplified:"");function l(){i.value=!1}function u(){n.value=!n.value}function c(d){r.value=d,i.value=!0}return(d,p)=>t.block.mediaGallery&&t.block.mediaGallery.length>0?(m(),T("section",jbe,[i.value?(m(),oe(p_,{key:0,items:t.block.mediaGallery,"selected-item":r.value,tabindex:"0",onCloseModal:l,onKeydown:ta(l,["esc"])},null,8,["items","selected-item"])):P("",!0),t.block.mediaGallery&&t.block.mediaGallery[r.value].item?(m(),oe(QA,{key:1,item:t.block.mediaGallery[r.value].item,"cover-image":t.block.mediaGallery[r.value].coverImage,"embed-code":t.block.mediaGallery[r.value].embedCode,"n-items":s.value,expanded:n.value,"is-half-width":t.block.mediaGalleryStyle,"section-title":a.value,"section-summary":o.value,onToggleThumbnails:u},null,8,["item","cover-image","embed-code","n-items","expanded","is-half-width","section-title","section-summary"])):P("",!0),n.value?(m(),T("div",$be,[(m(!0),T(we,null,Fe(t.block.mediaGallery,(f,y)=>(m(),oe(JA,Xt({key:f.id,ref_for:!0},f,{onClick:b=>c(y)}),null,16,["onClick"]))),128))])):P("",!0)])):P("",!0)}}),e6=Me(Hbe,[["__scopeId","data-v-ef328e74"]]),Vbe=Object.freeze(Object.defineProperty({__proto__:null,default:e6},Symbol.toStringTag,{value:"Module"})),qbe=t=>(Ot("data-v-eaf6bf38"),t=t(),Rt(),t),Wbe={class:"section-media-with-text"},zbe={class:"flexible-page-block-container"},Gbe=qbe(()=>I("h2",{class:"visually-hidden"}," Resources ",-1)),Ybe={class:"section-header"},Kbe=["innerHTML"],Xbe=["innerHTML"],Qbe=Be({__name:"MediaWithText",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>e.mediaWithText.map(r=>({...r,parsedTitle:r.titleLink?r.titleLink:r.titleUpload,parsedButtonUrl:r.item&&r.typeMedia==="other"?r.item[0].src:r.buttonUrl})));return(r,i)=>{const s=lt("divider-general");return m(),T("div",Wbe,[I("div",zbe,[Gbe,I("div",Ybe,[t.block.sectionTitle?(m(),T("h3",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,Kbe)):P("",!0),t.block.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.block.sectionSummary},null,8,Xbe)):P("",!0)]),(m(!0),T(we,null,Fe(n.value,(a,o)=>(m(),T("div",{key:`MediaWithTextKey${o}`,class:"meta"},[ae(Lx,{"section-header":a.parsedTitle,"short-description":a.description,item:a.item,"cover-image":a.coverImage,"button-text":a.buttonText,"button-url":a.parsedButtonUrl,"embed-code":a.embedCode,"type-media":a.typeMedia,class:"flexible-media-with-text"},null,8,["section-header","short-description","item","cover-image","button-text","button-url","embed-code","type-media"]),ae(s,{class:"divider"})]))),128))])])}}}),t6=Me(Qbe,[["__scopeId","data-v-eaf6bf38"]]),Zbe=Object.freeze(Object.defineProperty({__proto__:null,default:t6},Symbol.toStringTag,{value:"Module"})),Jbe={name:"PullQuote",components:{RichText:ir},props:{text:{type:String,default:""},attribution:{type:String,default:""}}},eTe=t=>(Ot("data-v-fa38e7b5"),t=t(),Rt(),t),tTe={class:"pull-quote"},nTe={key:1,class:"attribution-block"},rTe=eTe(()=>I("span",{class:"dash"},"",-1)),iTe=["innerHTML"];function sTe(t,e,n,r,i,s){const a=lt("RichText");return m(),T("div",tTe,[n.text?(m(),oe(a,{key:0,class:"quote","rich-text-content":n.text},null,8,["rich-text-content"])):P("",!0),n.attribution?(m(),T("div",nTe,[rTe,n.attribution?(m(),T("span",{key:0,class:"attribution",innerHTML:n.attribution},null,8,iTe)):P("",!0)])):P("",!0)])}const oc=Me(Jbe,[["render",sTe],["__scopeId","data-v-fa38e7b5"]]),aTe=Be({__name:"PullQuote",props:{block:{type:Object,default:()=>{}}},setup(t){return(e,n)=>t.block.pullQuote?(m(),oe(oc,{key:0,text:t.block.pullQuote[0].text,attribution:t.block.pullQuote[0].attribution},null,8,["text","attribution"])):P("",!0)}}),n6=Me(aTe,[["__scopeId","data-v-b579df03"]]),oTe=Object.freeze(Object.defineProperty({__proto__:null,default:n6},Symbol.toStringTag,{value:"Module"})),lTe={class:"rich-text"},uTe=["innerHTML"],cTe=Be({__name:"RichText",props:{block:{type:Object,default:()=>{}}},setup(t){return(e,n)=>(m(),T("div",lTe,[t.block.sectionTitle?(m(),T("h2",{key:0,class:"section-title",innerHTML:t.block.sectionTitle},null,8,uTe)):P("",!0),ae(ir,{"rich-text-content":t.block.richText},null,8,["rich-text-content"])]))}}),r6=Me(cTe,[["__scopeId","data-v-3c496f47"]]),dTe=Object.freeze(Object.defineProperty({__proto__:null,default:r6},Symbol.toStringTag,{value:"Module"})),hTe={class:"simple-cards"},pTe={class:"section-header"},fTe=["textContent"],mTe=["innerHTML"],gTe={class:"simple-cards-list"},yTe=Be({__name:"SimpleCards",props:{items:{type:Array,default:()=>[]},sectionTitle:{type:String,default:""},sectionSummary:{type:String,default:""}},setup(t){const{items:e,sectionTitle:n,sectionSummary:r}=t,i=U(()=>{let s=["card","card-small"];switch(e.length){case 1:s=["card"];break;case 2:case 4:s=["card","card-large"];break;case 5:s=["card","card-five"];break}return e.map(a=>({...a,classes:s}))});return(s,a)=>(m(),T("div",hTe,[I("div",pTe,[t.sectionTitle?(m(),T("h2",{key:0,class:"section-title",textContent:ye(t.sectionTitle)},null,8,fTe)):P("",!0),t.sectionSummary?(m(),T("div",{key:1,class:"section-summary",innerHTML:t.sectionSummary},null,8,mTe)):P("",!0)]),I("ul",gTe,[(m(!0),T(we,null,Fe(i.value,(o,l)=>(m(),oe(Bx,{key:`SimpleCardsKey${l}`,class:Oe(o.classes),to:o.to,title:o.title,text:o.text},null,8,["class","to","title","text"]))),128))])]))}}),i6=Me(yTe,[["__scopeId","data-v-bfa55c17"]]),vTe={class:"flexible-simple-cards"},s6=Be({__name:"SimpleCards",props:{block:{type:Object,default:()=>{}}},setup(t){const{block:e}=t,n=U(()=>e.cards.map(r=>(r.typeHandle==="internalResource"||r.typeHandle==="internalServiceOrResource")&&r.contentLink[0]?{title:ft(r,"contentLink[0].title",""),text:ft(r,"contentLink[0].summary",""),to:r.contentLink[0].externalResourceUrl?r.contentLink[0].externalResourceUrl:dr(r.contentLink[0].uri)}:r.typeHandle==="externalResource"||r.typeHandle==="externalServiceOrResource"?{title:r.title,text:r.summary,to:r.externalLink}:{...r}));return(r,i)=>(m(),T("div",vTe,[ae(i6,{"section-title":t.block.sectionTitle,"section-summary":t.block.sectionSummary,items:n.value},null,8,["section-title","section-summary","items"])]))}}),_Te={name:"FooterSponsor",components:{BlockSponsor:Ux},computed:{...$c(Fl,["footerSponsor"]),parsedFunders(){return Object.keys(this.footerSponsor).length!==0?this.footerSponsor.funders:(console.log("Pinia state data for footer sponsor not present if navigation is not setup for the website."),[])}}},bTe=t=>(Ot("data-v-6c82596b"),t=t(),Rt(),t),TTe={class:"footer-sponsor"},wTe=bTe(()=>I("div",{class:"sponsor-text"}," The UCLA Library Modern Endangered Archives Program is supported by Arcadia. ",-1)),kTe={class:"sponsor-logos"};function STe(t,e,n,r,i,s){const a=lt("BlockSponsor");return m(),T("div",TTe,[wTe,I("div",kTe,[(m(!0),T(we,null,Fe(s.parsedFunders,o=>(m(),oe(a,{key:`footer-sponsor-${o.funderName}`,class:"sponsor-item","funder-logo":o.funderLogo,"funder-name":o.funderName,"funder-url":o.funderUrl},null,8,["funder-logo","funder-name","funder-url"]))),128))])])}const a6=Me(_Te,[["render",STe],["__scopeId","data-v-6c82596b"]]),xTe={width:"115",height:"22",viewBox:"0 0 115 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__logo-library"},ETe=Yi('<path d="M64.2231 6.91406H66.6533V16.8684H72.2837V18.8963H64.2231V6.91406Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M73.1401 6.91406H75.421V8.95857H73.1401V6.91406ZM73.1401 10.3008H75.421V18.8957H73.1401V10.3008Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M79.0763 17.8236H79.0425V18.8963H76.8452V6.91406H79.1261V11.3376H79.1772C79.4275 10.9318 79.7814 10.5999 80.2024 10.3762C80.6234 10.1524 81.0965 10.0448 81.5729 10.0645C83.7349 10.0645 85.2769 11.9237 85.2769 14.6055C85.2769 17.3868 83.8019 19.1466 81.6406 19.1466C81.1342 19.1731 80.6299 19.0645 80.1793 18.832C79.7287 18.5994 79.348 18.2511 79.0763 17.8229V17.8236ZM82.9642 14.6055C82.9642 13.0158 82.327 11.9099 81.0538 11.9099C79.612 11.9099 79.0763 13.0663 79.0763 14.6573C79.0763 16.2332 79.8643 17.2389 81.1374 17.2389C82.3124 17.2389 82.9642 16.2664 82.9642 14.6076" fill="#0F0F0F" class="svg__fill--black"></path><path d="M88.5549 11.6745H88.6054C89.1245 10.7027 89.7113 10.1995 90.7169 10.1995C90.8982 10.1895 91.0798 10.2129 91.2526 10.2687V12.2627H91.2028C89.7113 12.112 88.6385 12.9 88.6385 14.7095V18.8987H86.3577V10.3005H88.5528L88.5549 11.6745Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M97.1455 17.9435H97.1124C96.6762 18.5967 96.0562 19.0998 94.582 19.0998C92.8222 19.0998 91.5815 18.1778 91.5815 16.4685C91.5815 14.5747 93.1236 13.972 95.0374 13.7038C96.4613 13.5027 97.1158 13.3859 97.1158 12.732C97.1158 12.11 96.632 11.7098 95.6747 11.7098C94.602 11.7098 94.085 12.0954 94.0159 12.9159H91.988C92.0571 11.4084 93.1775 10.082 95.6913 10.082C98.2729 10.082 99.3117 11.2391 99.3117 13.2497V17.6235C99.3117 18.2767 99.4119 18.6603 99.613 18.8137V18.8973H97.4179C97.2612 18.6018 97.1697 18.276 97.1497 17.9421L97.1455 17.9435ZM97.1663 15.8637V14.5747C96.6609 14.8117 96.1263 14.9807 95.5766 15.0772C94.387 15.3454 93.8002 15.6142 93.8002 16.4181C93.8002 17.2219 94.3359 17.5074 95.1404 17.5074C96.4481 17.5074 97.1683 16.7035 97.1683 15.8651" fill="#0F0F0F" class="svg__fill--black"></path><path d="M102.914 11.6745H102.965C103.484 10.7027 104.071 10.1995 105.076 10.1995C105.258 10.1895 105.439 10.2129 105.612 10.2687V12.2627H105.562C104.071 12.112 102.998 12.9 102.998 14.7095V18.8987H100.717V10.3005H102.912L102.914 11.6745Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M106.914 19.9198H107.719C108.624 19.9198 108.992 19.4498 108.992 18.7448C108.903 17.9377 108.683 17.1506 108.339 16.4148L106.026 10.2979H108.423L109.696 14.1685C109.964 14.9557 110.249 16.045 110.249 16.045H110.283C110.283 16.045 110.517 14.9557 110.786 14.1685L111.992 10.2979H114.288L111.288 19.1132C110.635 21.0236 109.998 21.7106 108.255 21.7106H106.914V19.9198Z" fill="#0F0F0F" class="svg__fill--black"></path><path d="M0.666559 13.818C0.614596 13.1713 0.600979 12.5221 0.625779 11.8738L1.55127 1.3623H4.99334L4.04919 11.9657C3.84667 14.2611 4.74659 15.8971 7.03785 15.8971C9.37887 15.8971 10.6168 14.2328 10.8207 12.1965L11.7973 1.3623H15.2366L14.2862 12.0611C13.902 16.1798 11.169 19.2652 6.75239 19.2652C3.30686 19.2652 1.08472 17.0383 0.670014 13.818" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path><path d="M16.029 10.2578C16.4776 5.21216 19.8824 1.02914 25.7622 1.02914C27.3648 1.00627 28.9379 1.46155 30.2805 2.33685L29.8858 6.50466C29.3791 5.81083 28.7048 5.25673 27.926 4.89412C27.1471 4.53151 26.289 4.37222 25.4319 4.43113C21.7727 4.43113 19.7642 6.9719 19.4787 10.1893C19.2023 13.3218 20.8182 15.8681 24.3626 15.8681C25.2866 15.8725 26.2012 15.6822 27.0467 15.3095C27.8922 14.9369 28.6498 14.3903 29.27 13.7054L28.885 17.9858C27.4251 18.8272 25.7744 19.2814 24.0896 19.3053C18.2705 19.3053 15.606 14.9827 16.0242 10.2578" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path><path d="M33.0275 1.3623H36.4592L35.2061 15.6352H40.1238C40.4694 15.6352 41.6444 15.6172 41.9596 15.5985C41.9416 15.7706 41.6472 18.8961 41.6472 18.8961H31.4709L33.0275 1.3623Z" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path><path d="M50.9032 7.90896C51.0106 7.67206 51.0955 7.42561 51.1569 7.17286C51.1753 7.17151 51.1937 7.17151 51.2122 7.17286C51.2327 7.42362 51.2767 7.67191 51.3435 7.91449C51.5301 8.71419 52.8641 13.1529 52.8641 13.1529H48.5352C48.5352 13.1529 50.8569 8.02508 50.9032 7.91173V7.90896ZM51.7838 0.561035H51.546L42.1494 18.8966H45.7961L47.1169 16.1126H53.7363L54.5658 18.8939H58.2041L51.7838 0.561035Z" fill="#0B6AB7" class="svg__fill--primary-blue-03"></path>',11),CTe=[ETe];function ATe(t,e){return m(),T("svg",xTe,[...CTe])}const Cl={render:ATe},LTe={width:"225",height:"496",viewBox:"0 0 225 496",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-half"},ITe=I("g",null,[I("path",{d:"M244.852 445.001L106.511 387.698L71.9262 422.283L244.852 493.911L244.852 445.001Z",fill:"#0B6AB7",class:"svg__fill-bottom"}),I("path",{d:"M71.9261 76.4322L106.511 111.017L244.852 53.7149L244.851 4.80416L71.9261 76.4322Z",fill:"#0B6AB7",class:"svg__fill-top"}),I("path",{d:"M0.297249 249.357L71.9254 76.4319L106.511 111.017L49.2081 249.357L49.208 249.357L106.51 387.698L71.9254 422.283L0.297249 249.357Z",fill:"#9ECFFA",class:"svg__fill-accent"})],-1),MTe=[ITe];function DTe(t,e){return m(),T("svg",LTe,[...MTe])}const PTe={render:DTe},OTe={name:"FooterPrimary",components:{SmartLink:pt,SvgLogoUclaLibrary:Cl,SvgMoleculeHalf:PTe,SvgArrowRight:Qa},props:{form:{type:Boolean,default:!0},isMicrosite:{type:Boolean,default:!1}},computed:{...$c(Fl,["footerPrimary"]),classes(){return this.form?["container"]:["container no-form"]},parsedSocialItems(){return Object.keys(this.footerPrimary).length!==0?this.footerPrimary.nodes[0].children:(console.log("Pinia state data not present: is it client side:true"),[])},parsedPressItems(){return Object.keys(this.footerPrimary).length!==0?this.footerPrimary.nodes[1].children:(console.log("Pinia state data for footer primary not present, it could be because navigation is not setup for the website: is it client side:true"),[])}},methods:{formatTarget(t){return F5(t)}}},f_=t=>(Ot("data-v-725a9e00"),t=t(),Rt(),t),RTe={class:"footer-primary"},NTe={class:"footer-links"},BTe={key:0,href:"https://www.library.ucla.edu",target:"_blank",class:"logo-ucla"},FTe=f_(()=>I("span",{class:"visually-hidden"},"UCLA Library Home",-1)),UTe=f_(()=>I("span",{class:"visually-hidden"},"UCLA Library Home",-1)),jTe={class:"socials"},$Te=["href","target"],HTe={key:2,class:"press-links"},VTe={key:0,id:"mc-embedded-subscribe-form",action:"https://ucla.us17.list-manage.com/subscribe/post?u=cb3f880892df52211b236bdee&id=ce2bece15c&f_id=00edc2e1f0",method:"post",name:"mc-embedded-subscribe-form",class:"validate form",target:"_blank",novalidate:""},qTe=f_(()=>I("div",{id:"mc_embed_signup_scroll",class:"form-header"},[I("h2",{class:"title"}," Stay updated "),I("p",{class:"statement"}," Subscribe to get the latest updates on what's happening with UCLA Library. ")],-1)),WTe={class:"input-block"},zTe=Yi('<div class="field mc-field-group" data-v-725a9e00><input id="mce-EMAIL" name="EMAIL" type="email" value="" placeholder="email@ucla.edu" class="input-email" required data-v-725a9e00><label for="mce-EMAIL" class="label" data-v-725a9e00> Email Address </label></div><div id="mce-responses" class="clear" data-v-725a9e00><div id="mce-error-response" class="response" style="display:none;" data-v-725a9e00></div><div id="mce-success-response" class="response" style="display:none;" data-v-725a9e00></div></div><div style="position:absolute;left:-5000px;" aria-hidden="true" data-v-725a9e00><input type="text" name="b_31248d1f341b8eede1b46cb33_40fdd1db46" tabindex="-1" value="" data-v-725a9e00></div>',3),GTe={id:"mc-embedded-subscribe",class:"button-submit",name:"subscribe",type:"submit"};function YTe(t,e,n,r,i,s){const a=lt("SvgMoleculeHalf"),o=lt("SvgLogoUclaLibrary"),l=lt("SmartLink"),u=lt("SvgArrowRight");return m(),T("div",RTe,[ae(a,{class:"molecule-half-svg","aria-hidden":"true"}),I("div",{class:Oe(s.classes)},[I("div",NTe,[n.isMicrosite?(m(),T("a",BTe,[ae(o,{class:"logo-svg"}),FTe])):(m(),oe(l,{key:1,to:"/",class:"logo-ucla"},{default:Ie(()=>[ae(o,{class:"logo-svg"}),UTe]),_:1})),I("ul",jTe,[(m(!0),T(we,null,Fe(s.parsedSocialItems,c=>(m(),T("li",{key:c.id,class:"social-item"},[I("a",{href:c.to,target:s.formatTarget(c.target),a:""},ye(c.name),9,$Te)]))),128))]),s.parsedPressItems?(m(),T("ul",HTe,[(m(!0),T(we,null,Fe(s.parsedPressItems,c=>(m(),T("li",{key:c.id,class:"press-item"},[ae(l,{to:c.to,"link-target":c.target},{default:Ie(()=>[tt(ye(c.name),1)]),_:2},1032,["to","link-target"])]))),128))])):P("",!0)]),n.form?(m(),T("form",VTe,[qTe,I("div",WTe,[zTe,I("button",GTe,[tt(" Subscribe "),ae(u,{class:"arrow-svg"})])])])):P("",!0)],2)])}const o6=Me(OTe,[["render",YTe],["__scopeId","data-v-725a9e00"]]),KTe={name:"FooterSock",components:{SmartLink:pt},computed:{...$c(Fl,["footerSock"]),year(){return new Date().getFullYear()},parsedSockItems(){return Object.keys(this.footerSock).length!==0?this.footerSock.nodes:(console.log("Pinia state data for footer sock not present if navigation is not setup for the website: is it client side:true"),[])}}},XTe={class:"footer-sock"},QTe={class:"container"},ZTe={class:"regents"},JTe={class:"links"};function e2e(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("div",XTe,[I("div",QTe,[I("div",ZTe,"  "+ye(s.year)+" Regents of the University of California ",1),I("ul",JTe,[(m(!0),T(we,null,Fe(s.parsedSockItems,o=>(m(),T("li",{key:o.id,class:"item"},[ae(a,{class:"link",to:o.to,"link-target":o.target},{default:Ie(()=>[tt(ye(o.name),1)]),_:2},1032,["to","link-target"])]))),128))])])])}const l6=Me(KTe,[["render",e2e],["__scopeId","data-v-b4691347"]]),t2e={name:"FooterMain",components:{FooterSponsor:a6,FooterPrimary:o6,FooterSock:l6}},n2e={class:"footer-main"};function r2e(t,e,n,r,i,s){const a=lt("FooterSponsor"),o=lt("FooterPrimary"),l=lt("FooterSock");return m(),T("footer",n2e,[ae(a,{class:"sponsor"}),ae(o,{form:!1,class:"primary","is-microsite":!0}),ae(l,{class:"sock"})])}const i2e=Me(t2e,[["render",r2e],["__scopeId","data-v-b6197c86"]]),s2e={__name:"HeadingArrow",props:{text:{type:String,default:""},to:{type:String,default:""},section:{type:String,default:""}},setup(t){const{text:e,to:n,section:r}=t,i=U(()=>r||qr(n)),s=U(()=>["heading-arrow",`color-${i.value}`]),a=U(()=>{let l="div";return n&&(l=pt),l}),o=U(()=>["heading",`color-${a.value}`]);return(l,u)=>(m(),oe(Lt(a.value),{to:t.to,class:Oe(s.value)},{default:Ie(()=>[ae($(qc),{class:"svg","aria-hidden":"true"}),I("h2",{class:Oe(o.value)},ye(t.text),3)]),_:1},8,["to","class"]))}},a2e=Me(s2e,[["__scopeId","data-v-57471d15"]]),o2e={name:"NavMenuItem",components:{SmartLink:pt},props:{item:{type:Object,default:()=>{}},isActive:{type:Boolean,default:!1},isOpened:{type:Boolean,default:!0}},computed:{classes(){return[this.item.classes,"nav-menu-item",{"is-active":this.isActive},{"is-opened":this.isOpened}]},parsedChildren(){return this.item.children.map(t=>({...t,classes:`sub-menu-link ${t.classes||""}`}))}}},l2e=["innerHTML"],u2e={class:"sub-menu"};function c2e(t,e,n,r,i,s){const a=lt("SmartLink");return m(),T("li",{class:Oe(s.classes)},[I("button",{class:"section-name",innerHTML:n.item.name},null,8,l2e),I("ul",u2e,[(m(!0),T(we,null,Fe(s.parsedChildren,o=>(m(),T("li",{key:o.id,class:"sub-menu-item"},[ae(a,{class:Oe(o.classes),to:o.to,"link-target":o.target},{default:Ie(()=>[tt(ye(o.name),1)]),_:2},1032,["class","to","link-target"])]))),128))])],2)}const u6=Me(o2e,[["render",c2e],["__scopeId","data-v-48d1ab62"]]),d2e=t=>(Ot("data-v-aa39fe3e"),t=t(),Rt(),t),h2e={class:"item-top"},p2e={key:0,class:"title"},f2e={class:"full-title"},m2e={key:0,class:"acronym"},g2e=["aria-label"],y2e={key:0,class:"title"},v2e={class:"full-title"},_2e={key:0,class:"acronym"},b2e={class:"menu"},T2e={key:0,class:"support-links"},w2e=d2e(()=>I("div",{class:"background-white"},null,-1)),k2e=Be({__name:"NavPrimary",props:{items:{type:Array,default:()=>[]},currentPath:{type:String,default:""},title:{type:String,default:""},acronym:{type:String,default:""}},setup(t){const{items:e,currentPath:n,title:r,acronym:i}=t,s=ca(),a=de(!1),o=de(-1),l=U(()=>["nav-primary",{"is-opened":a.value},{"not-hovered":o.value===-1},{"has-title":r},{"has-acronym":i}]),u=U(()=>r||i),c=U(()=>r?e.filter(E=>!E.children||!E.children.length):[]),d=U(()=>e.filter(E=>!E.children||!E.children.length)),p=U(()=>{const E=n||(s==null?void 0:s.path);return e.findIndex(x=>x.url&&E.includes(x.url))}),f=U(()=>e.filter(E=>E.children&&E.children.length).map((E,x)=>({...E,isActive:x===o.value})));Ht(()=>{o.value=p.value});function y(){a.value=!a.value,a.value||(document.body.setAttribute("tabindex","-1"),document.body.focus(),document.body.removeAttribute("tabindex"))}function b(E){o.value=E}function S(){o.value=p.value}return(E,x)=>(m(),T("nav",{"aria-label":"Primary Navigation",class:Oe(l.value)},[I("div",h2e,[u.value?(m(),oe(pt,{key:0,to:"/","aria-label":t.title?"":"UCLA Library home page"},{default:Ie(()=>[t.title?(m(),T("div",p2e,[I("span",f2e,ye(t.title),1),t.acronym?(m(),T("span",m2e,ye(t.acronym),1)):P("",!0)])):(m(),oe($(Cl),{key:1,class:"svg logo-ucla",alt:"UCLA Library logo blue"}))]),_:1},8,["aria-label"])):(m(),T("a",{key:1,href:"/","aria-label":t.title?"":"UCLA Library home page"},[t.title?(m(),T("div",y2e,[I("span",v2e,ye(t.title),1),t.acronym?(m(),T("span",_2e,ye(t.acronym),1)):P("",!0)])):(m(),oe($(Cl),{key:1,class:"svg logo-ucla",alt:"UCLA Library logo blue"}))],8,g2e))]),I("ul",b2e,[(m(!0),T(we,null,Fe(f.value,(k,L)=>(m(),oe(u6,{key:`NavMenuItem-${k.name}`,item:k,"is-active":k.isActive,"is-opened":a.value,onClick:y,onMouseover:A=>b(L),onMouseleave:S},null,8,["item","is-active","is-opened","onMouseover"]))),128)),(m(!0),T(we,null,Fe(c.value,k=>(m(),T("li",{key:`nav-primary-${k.name}`,class:"nochildren-links"},[ae(pt,{class:"nochildren-link underline-hover",to:k.to,"link-target":k.target},{default:Ie(()=>[tt(ye(k.name),1)]),_:2},1032,["to","link-target"])]))),128))]),t.title?P("",!0):(m(),T("div",T2e,[(m(!0),T(we,null,Fe(d.value,k=>(m(),T("div",{key:`nav-primary-support-${k.name}`,class:"item-top"},[ae(pt,{class:"support-link underline-hover",to:k.to},{default:Ie(()=>[tt(ye(k.name),1)]),_:2},1032,["to"])]))),128))])),w2e,a.value?(m(),T("div",{key:1,class:"background-blue",onClick:y})):P("",!0),a.value?(m(),T("div",{key:2,class:"click-blocker",onClick:y})):P("",!0)],2))}}),m_=Me(k2e,[["__scopeId","data-v-aa39fe3e"]]),S2e={"aria-label":"Secondary Navigation",class:"nav-secondary"},x2e={key:0,href:"https://www.library.ucla.edu",target:"_blank","aria-label":"UCLA Library home page"},E2e={class:"navigation-list"},C2e={key:0,class:"list"},A2e={key:2,class:"link-list"},L2e=Be({__name:"NavSecondary",props:{items:{type:Array,default:()=>[]},isMicrosite:{type:Boolean,default:!1}},setup(t){const{items:e,isMicrosite:n}=t,r=U(()=>["flex-container",{"flex-container-not-microsite":!n},{"flex-container-microsite":n}]),i=U(()=>e.map(o=>{let l="list-item";return o.classes&&(l=`${l} ${o.classes}`),{...o,classes:l}})),s=U(()=>i.value.slice(0,-1)),a=U(()=>i.value[i.value.length-1]);return(o,l)=>(m(),T("nav",S2e,[I("div",{class:Oe(r.value)},[t.isMicrosite?(m(),T("a",x2e,[ae($(Cl),{class:"svg logo-ucla",alt:"UCLA Library logo blue"})])):P("",!0),I("div",E2e,[t.isMicrosite?P("",!0):(m(),T("ul",C2e,[(m(!0),T(we,null,Fe(s.value,u=>(m(),T("li",{key:`nav-secondary-${u.name}`,class:Oe(u.classes)},[ae(pt,{class:"link underline-hover",to:u.to,"link-target":u.target},{default:Ie(()=>[tt(ye(u.name),1)]),_:2},1032,["to","link-target"])],2))),128))])),t.isMicrosite?P("",!0):(m(),oe(bs,{key:1,label:a.value.name,class:"account-button","link-target":a.value.target,to:a.value.to,"is-secondary":!0},null,8,["label","link-target","to"])),t.isMicrosite?(m(),T("ul",A2e,[(m(!0),T(we,null,Fe(i.value,u=>(m(),T("li",{key:`nav-secondary-${u.name}`,class:Oe(u.classes)},[ae(pt,{class:"link underline-hover",to:u.to,"link-target":u.target},{default:Ie(()=>[tt(ye(u.name),1)]),_:2},1032,["to","link-target"])],2))),128))])):P("",!0)])],2)]))}}),g_=Me(L2e,[["__scopeId","data-v-317bf284"]]),I2e={class:"header-main"},M2e=Be({__name:"HeaderMain",props:{primaryNav:{type:Array,default:()=>[]},secondaryNav:{type:Array,default:()=>[]},title:{type:String,default:""}},setup(t){const{primaryNav:e,secondaryNav:n,title:r}=t,i=U(()=>!!r);return(s,a)=>(m(),T("header",I2e,[ae(g_,{items:t.secondaryNav,"is-microsite":i.value},null,8,["items","is-microsite"]),ae(m_,{class:"primary",items:t.primaryNav,title:t.title},null,8,["items","title"])]))}}),c6=Me(M2e,[["__scopeId","data-v-b9dd36a1"]]),D2e={width:"249",height:"247",viewBox:"0 0 249 247",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__molecule-3d"},P2e=I("path",{d:"M124.566 245.393L209.606 211.206L209.746 210.881M124.566 245.393L37.1772 211.206M124.566 245.393L190.343 191.802M124.566 245.393L57.38 191.802M247.193 123.89L209.606 40.2692M247.193 123.89L209.746 210.881M247.193 123.89L124.566 57.3629M247.193 123.89L190.343 191.802M209.606 40.2692L124.566 0.999955M209.606 40.2692L124.566 57.3629M124.566 0.999955L37.1772 40.2692M124.566 0.999955V57.3629M37.1772 40.2692L1 123.89M37.1772 40.2692L124.566 57.3629M1 123.89L37.1772 211.206M1 123.89L57.38 191.802M1 123.89L124.566 57.3629M37.1772 211.206L57.38 191.802M57.38 191.802H190.343M57.38 191.802L124.566 57.3629M190.343 191.802L209.746 210.881M190.343 191.802L124.566 57.3629",stroke:"#0AA5FF","stroke-width":"1.5",class:"svg__stroke--default-cyan-03"},null,-1),O2e=[P2e];function R2e(t,e){return m(),T("svg",D2e,[...O2e])}const N2e={render:R2e},B2e={width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-menu"},F2e=I("path",{d:"M11 15.3376h26",stroke:"#0B6AB7","stroke-width":"1.5",class:"svg__stroke--primary-blue-03"},null,-1),U2e=I("path",{d:"M11 24.1147h26",stroke:"#0B6AB7","stroke-width":"1.5",class:"svg__stroke--primary-blue-03"},null,-1),j2e=I("path",{d:"M11 32.8921h26",stroke:"#0B6AB7","stroke-width":"1.5",class:"svg__stroke--primary-blue-03"},null,-1),$2e=[F2e,U2e,j2e];function H2e(t,e){return m(),T("svg",B2e,[...$2e])}const V2e={render:H2e},q2e={class:"nav-menu-item"},W2e=["data-sub-menu-title-id"],z2e=["data-sub-menu-item-id"],G2e={__name:"NavMenuItemResponsive",props:{item:{type:Object,default:()=>{}},index:{type:Number,default:0},goBack:{type:Boolean,default:!1}},emits:["shouldOpen","itemOpenedColor","closeMainMenu"],setup(t,{emit:e}){const{item:n,index:r,goBack:i}=t,s=e,a=U(()=>n.children.map(d=>({...d,classes:`sub-menu-link ${d.classes||""}`})));function o(d){const p=document.querySelectorAll(`[data-sub-menu-item-id="${d}"]`)[0],f=document.querySelectorAll(`ul:not([data-sub-menu-item-id="${d}"])`),y=document.querySelectorAll(`li span:not([data-sub-menu-title-id="${d}"])`);if(p.classList.contains("block")){p.classList.remove("block"),p.classList.add("hidden");for(const b of y)b.classList.add("block")}else{p.classList.remove("hidden"),p.classList.add("block");for(const b of y)b.classList.remove("block");for(const b of f)b.classList.remove("block"),b.classList.add("hidden")}s("shouldOpen"),s("itemOpenedColor",d)}function l(){const d=document.querySelectorAll("[data-sub-menu-title-id]");for(const f of d)f.classList.remove("hidden"),f.classList.add("block");const p=document.querySelectorAll("[data-sub-menu-item-id]");for(const f of p)f.classList.remove("block"),f.classList.add("hidden")}function u(){s("closeMainMenu")}const c=de(i);return St(c,d=>{d&&l()}),(d,p)=>(m(),T("li",q2e,[I("button",{class:"section-name block","data-sub-menu-title-id":t.index,onClick:p[0]||(p[0]=f=>o(t.index))},ye(t.item.name),9,W2e),I("ul",{"data-sub-menu-item-id":t.index,class:"sub-menu hidden"},[(m(!0),T(we,null,Fe(a.value,f=>(m(),T("li",{key:f.id,class:"sub-menu-item",onClick:u},[ae(pt,{class:Oe(f.classes),to:f.to,"link-target":f.target},{default:Ie(()=>[tt(ye(f.name),1)]),_:2},1032,["class","to","link-target"])]))),128))],8,z2e)]))}},d6=Me(G2e,[["__scopeId","data-v-21e4b46f"]]),Y2e={class:"collapsed-menu"},K2e={key:0,class:"title"},X2e={class:"full-title"},Q2e={key:0,class:"acronym"},Z2e=["is-opened"],J2e={class:"expanded-menu-container"},e1e={class:"expanded-menu"},t1e={key:0,class:"title opened-title"},n1e={class:"full-title"},r1e={key:0,class:"acronym"},i1e={class:"nav-menu-primary"},s1e={key:0,class:"nav-menu-secondary"},a1e={class:"list"},o1e={key:1,class:"support-us-container"},l1e=Be({__name:"HeaderMainResponsive",props:{primaryNav:{type:Array,default:()=>[]},secondaryNav:{type:Array,default:()=>[]},title:{type:String,default:""},acronym:{type:String,default:""}},setup(t){const e=t,n=de(!1),r=de(!1),i=de(!1),s=de("cyan"),a=U(()=>["header-main-responsive",n.value?"fullHeight":"collapsedHeight",{"has-title":e.title},{"has-acronym":e.acronym}]),o=U(()=>e.title?e.title:"UCLA Library home page"),l=U(()=>ZA),u=U(()=>e.primaryNav.filter(E=>E.children&&E.children.length)),c=U(()=>e.secondaryNav),d=U(()=>e.title?e.primaryNav.filter(E=>!E.children||!E.children.length):[]),p=U(()=>e.primaryNav.filter(E=>!E.children||!E.children.length));function f(){r.value=!r.value,i.value=!1}function y(){i.value=!i.value,s.value="cyan",n.value=!1}function b(E){E===0?s.value="green":E===1?s.value="pink":E===2&&(s.value="purple"),r.value===!1&&(s.value="cyan")}function S(){n.value=!n.value,i.value=!i.value}return(E,x)=>(m(),T("nav",{role:"navigation","aria-label":"Menu",class:Oe(a.value)},[un(I("div",Y2e,[ae(pt,{class:"clickable-parent",to:"/","aria-label":o.value},{default:Ie(()=>[t.title?(m(),T("div",K2e,[I("span",X2e,ye(t.title),1),t.acronym?(m(),T("span",Q2e,ye(t.acronym),1)):P("",!0)])):(m(),oe(Lt($(Cl)),{key:1,width:"155",height:"55",class:"logo-ucla",role:"button"}))]),_:1},8,["aria-label"]),I("button",{role:"button",class:"open-menu","aria-label":"Open menu","is-opened":n.value,onClick:S},[(m(),oe(Lt($(V2e)),{class:"hamburguer"}))],8,Z2e)],512),[[hi,!n.value]]),un(I("div",J2e,[I("div",e1e,[ae(pt,{class:"clickable-parent",to:"/","aria-label":o.value,onClick:S},{default:Ie(()=>[t.title?(m(),T("div",t1e,[I("span",n1e,ye(t.title),1),t.acronym?(m(),T("span",r1e,ye(t.acronym),1)):P("",!0)])):(m(),oe(Lt($(Cl)),{key:1,width:"155",height:"55",class:"expanded-logo",onClick:S}))]),_:1},8,["aria-label"]),I("button",{role:"button",class:"close-menu","aria-label":"Close menu",onClick:y},[(m(),oe(Lt(l.value),{class:"close-svg"}))])]),I("ul",i1e,[(m(!0),T(we,null,Fe(u.value,(k,L)=>(m(),oe(d6,{key:k.name,item:k,index:L,"go-back":i.value,onShouldOpen:f,onItemOpenedColor:b,onCloseMainMenu:S},null,8,["item","index","go-back"]))),128)),(m(!0),T(we,null,Fe(d.value,k=>(m(),T("li",{key:`nochildren-${k.name}`,class:"nochildren-links"},[ae(pt,{class:"nochildren-link",to:k.to},{default:Ie(()=>[tt(ye(k.name),1)]),_:2},1032,["to"])]))),128))]),n.value&&!t.title?(m(),T("div",s1e,[I("ul",a1e,[(m(!0),T(we,null,Fe(c.value,k=>(m(),T("li",{key:k.name,class:"list-item",onClick:S},[ae(pt,{class:"link underline-hover",to:k.to,"link-target":k.target},{default:Ie(()=>[tt(ye(k.name),1)]),_:2},1032,["to","link-target"])]))),128))])])):P("",!0),t.title?P("",!0):(m(),T("div",o1e,[p.value.length?(m(),oe(bs,{key:0,label:p.value[0].name,"is-secondary":!0,class:"button",to:p.value[0].to,"icon-name":"none",onClick:S},null,8,["label","to"])):P("",!0)])),(m(),oe(Lt($(N2e)),{width:"150",height:"247",viewBox:"50 57 50 250",class:Oe(["molecule",s.value])},null,8,["class"]))],512),[[hi,n.value]])],2))}}),h6=Me(l1e,[["__scopeId","data-v-2e252d5b"]]),u1e={width:"58",height:"20",viewBox:"0 0 58 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__logo-ucla"},c1e=I("path",{d:"M0.257623 13.8849C0.205661 13.2382 0.192044 12.589 0.216843 11.9407L1.14233 1.4292H4.58441L3.64025 12.0326C3.43774 14.328 4.33765 15.964 6.62891 15.964C8.96994 15.964 10.2078 14.2997 10.4117 12.2634L11.3884 1.4292H14.8277L13.8773 12.128C13.493 16.2467 10.7601 19.3321 6.34346 19.3321C2.89793 19.3321 0.675786 17.1051 0.261078 13.8849",fill:"#FFFFFF",class:"svg__fill--white"},null,-1),d1e=I("path",{d:"M15.6201 10.3247C16.0687 5.27905 19.4734 1.09604 25.3533 1.09604C26.9559 1.07317 28.5289 1.52845 29.8715 2.40375L29.4769 6.57156C28.9702 5.87772 28.2959 5.32363 27.517 4.96102C26.7381 4.59841 25.88 4.43912 25.0229 4.49802C21.3638 4.49802 19.3552 7.0388 19.0698 10.2562C18.7933 13.3887 20.4093 15.935 23.9537 15.935C24.8777 15.9394 25.7922 15.7491 26.6378 15.3764C27.4833 15.0038 28.2408 14.4572 28.861 13.7723L28.4761 18.0527C27.0162 18.8941 25.3655 19.3483 23.6806 19.3722C17.8616 19.3722 15.1971 15.0496 15.6153 10.3247",fill:"#FFFFFF",class:"svg__fill--white"},null,-1),h1e=I("path",{d:"M32.6185 1.4292H36.0503L34.7971 15.7021H39.7149C40.0605 15.7021 41.2355 15.6841 41.5507 15.6654C41.5327 15.8375 41.2382 18.963 41.2382 18.963H31.062L32.6185 1.4292Z",fill:"#FFFFFF",class:"svg__fill--white"},null,-1),p1e=I("path",{d:"M50.4943 7.97586C50.6016 7.73895 50.6865 7.4925 50.7479 7.23975C50.7663 7.23841 50.7848 7.23841 50.8032 7.23975C50.8238 7.49051 50.8678 7.7388 50.9345 7.98139C51.1212 8.78108 52.4551 13.2198 52.4551 13.2198H48.1263C48.1263 13.2198 50.448 8.09198 50.4943 7.97862V7.97586ZM51.3748 0.62793H51.1371L41.7405 18.9635H45.3871L46.708 16.1795H53.3274L54.1568 18.9608H57.7952L51.3748 0.62793Z",fill:"#FFFFFF",class:"svg__fill--white"},null,-1),f1e=[c1e,d1e,h1e,p1e];function m1e(t,e){return m(),T("svg",u1e,[...f1e])}const g1e={render:m1e},y1e={name:"SiteBrandBar",components:{SvgLogoUcla:g1e}},v1e=t=>(Ot("data-v-81413984"),t=t(),Rt(),t),_1e={class:"site-brand-bar"},b1e={href:"https://www.ucla.edu",target:"_blank"},T1e=v1e(()=>I("span",{class:"visually-hidden"},"UCLA Home",-1));function w1e(t,e,n,r,i,s){const a=lt("SvgLogoUcla");return m(),T("div",_1e,[I("a",b1e,[ae(a,{class:"svg ucla-logo"}),T1e])])}const p6=Me(y1e,[["render",w1e],["__scopeId","data-v-81413984"]]),k1e={name:"HeaderSmart",components:{SiteBrandBar:p6,HeaderMainResponsive:h6,HeaderMain:c6},props:{title:{type:String,default:""}},computed:{...$c(Fl,["header","winWidth"]),primaryMenuItems(){return this.header.primary},secondaryMenuItems(){return this.header.secondary},isMobile(){return this.winWidth<=1024},whichHeader(){return this.isMobile?"header-main-responsive":"header-main"}}},S1e={class:"header-smart"};function x1e(t,e,n,r,i,s){const a=lt("SiteBrandBar");return m(),T("header",S1e,[ae(a,{class:"brand-bar"}),(m(),oe(Lt(s.whichHeader),{class:Oe(s.isMobile?"mobile-header":"desktop-header"),"primary-nav":s.primaryMenuItems,"secondary-nav":s.secondaryMenuItems,title:n.title},null,8,["class","primary-nav","secondary-nav","title"]))])}const E1e=Me(k1e,[["render",x1e],["__scopeId","data-v-b2a9c37a"]]),C1e={class:"header-sticky"},A1e=Be({__name:"HeaderSticky",props:{primaryItems:{type:Array,default:()=>[]},secondaryItems:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("header",C1e,[ae(m_,{items:t.primaryItems,class:"primary"},null,8,["items"]),ae(g_,{items:t.secondaryItems,class:"secondary"},null,8,["items"])]))}}),L1e=Me(A1e,[["__scopeId","data-v-0ad613d2"]]),I1e={class:"rich-text"},M1e=["innerHTML"],D1e=["innerHTML"],P1e={key:3,class:"image-block"},O1e=["innerHTML"],R1e=["innerHTML"],N1e=["innerHTML"],B1e={key:7,class:"image-block"},F1e=["innerHTML"],U1e=["innerHTML"],j1e=["innerHTML"],$1e=["innerHTML"],H1e={key:12,class:"image-block"},V1e=["innerHTML"],q1e=["innerHTML"],tg=60,W1e=Be({__name:"ImpactRichText",props:{images:{type:Array,default:()=>[]},pullQuote:{type:Array,default:()=>[]},textBlocks:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("div",I1e,[t.textBlocks[0]?(m(),T("div",{key:0,class:"text",innerHTML:t.textBlocks[0]},null,8,M1e)):P("",!0),t.pullQuote[0]?(m(),oe(oc,{key:1,class:"pull-quote",text:t.pullQuote[0].text,attribution:t.pullQuote[0].attribution},null,8,["text","attribution"])):P("",!0),t.textBlocks[1]?(m(),T("div",{key:2,class:"text",innerHTML:t.textBlocks[1]},null,8,D1e)):P("",!0),t.images[0]?(m(),T("div",P1e,[t.images[0]?(m(),oe(Fn,{key:0,class:"image",media:t.images[0],"aspect-ratio":tg},null,8,["media"])):P("",!0),t.images[0].caption?(m(),T("div",{key:1,class:"caption",innerHTML:t.images[0].caption},null,8,O1e)):P("",!0)])):P("",!0),t.textBlocks[2]?(m(),T("div",{key:4,class:"text",innerHTML:t.textBlocks[2]},null,8,R1e)):P("",!0),t.pullQuote[1]?(m(),oe(oc,{key:5,class:"pull-quote",text:t.pullQuote[1].text,attribution:t.pullQuote[1].attribution},null,8,["text","attribution"])):P("",!0),t.textBlocks[3]?(m(),T("div",{key:6,class:"text",innerHTML:t.textBlocks[3]},null,8,N1e)):P("",!0),t.images[1]?(m(),T("div",B1e,[t.images[1]?(m(),oe(Fn,{key:0,class:"image",media:t.images[1],"aspect-ratio":tg},null,8,["media"])):P("",!0),t.images[1].caption?(m(),T("div",{key:1,class:"caption",innerHTML:t.images[1].caption},null,8,F1e)):P("",!0)])):P("",!0),t.textBlocks[4]?(m(),T("div",{key:8,class:"text",innerHTML:t.textBlocks[4]},null,8,U1e)):P("",!0),t.textBlocks[5]?(m(),T("div",{key:9,class:"text",innerHTML:t.textBlocks[5]},null,8,j1e)):P("",!0),t.pullQuote[2]?(m(),oe(oc,{key:10,class:"pull-quote",text:t.pullQuote[2].text,attribution:t.pullQuote[2].attribution},null,8,["text","attribution"])):P("",!0),t.textBlocks[6]?(m(),T("div",{key:11,class:"text",innerHTML:t.textBlocks[6]},null,8,$1e)):P("",!0),t.images[2]?(m(),T("div",H1e,[t.images[2]?(m(),oe(Fn,{key:0,class:"image",media:t.images[2],"aspect-ratio":tg},null,8,["media"])):P("",!0),t.images[2].caption?(m(),T("div",{key:1,class:"caption",innerHTML:t.images[2].caption},null,8,V1e)):P("",!0)])):P("",!0),t.textBlocks[7]?(m(),T("div",{key:13,class:"text",innerHTML:t.textBlocks[7]},null,8,q1e)):P("",!0)]))}}),z1e=Me(W1e,[["__scopeId","data-v-684a366f"]]),G1e={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-search"},Y1e=I("path",{d:"M20.9713 19.7959L20.441 19.2655L19.3802 20.3261L19.9105 20.8565L20.9713 19.7959ZM25.9486 26.8954L26.4789 27.4258L27.5397 26.3652L27.0094 25.8349L25.9486 26.8954ZM17.9233 22.9143C22.827 20.8303 25.1128 15.1656 23.0288 10.2619L21.6483 10.8486C23.4083 14.9899 21.4779 19.7738 17.3366 21.5338L17.9233 22.9143ZM23.0288 10.2619C20.9448 5.35815 15.2801 3.07234 10.3764 5.15637L10.9631 6.53687C15.1044 4.77687 19.8883 6.70728 21.6483 10.8486L23.0288 10.2619ZM10.3764 5.15637C5.47265 7.2404 3.18684 12.9051 5.27087 17.8088L6.65137 17.2221C4.89137 13.0808 6.82178 8.29688 10.9631 6.53687L10.3764 5.15637ZM5.27087 17.8088C7.3549 22.7125 13.0196 24.9983 17.9233 22.9143L17.3366 21.5338C13.1953 23.2938 8.41138 21.3634 6.65137 17.2221L5.27087 17.8088ZM19.9105 20.8565L25.9486 26.8954L27.0094 25.8349L20.9713 19.7959L19.9105 20.8565Z",fill:"#0B6AB7",class:"svg__fill--primary-blue-03"},null,-1),K1e=[Y1e];function f6(t,e){return m(),T("svg",G1e,[...K1e])}const y_={render:f6},X1e=Object.freeze(Object.defineProperty({__proto__:null,default:y_,render:f6},Symbol.toStringTag,{value:"Module"})),Q1e=Object.assign({inheritAttrs:!0},{__name:"SearchInput",props:{type:{type:String,default:"search"},modelValue:{type:String,default:""},wrapperClass:{type:String,default:"search-input-wrapper"},clearIcon:{type:Boolean,default:!0},clearOnEsc:{type:Boolean,default:!0},blurOnEsc:{type:Boolean,default:!0},selectOnFocus:{type:Boolean,default:!0},shortcutKey:{type:String,default:"/"}},emits:["update:modelValue","clear"],setup(t,{emit:e}){const n=t,r=e,i=OM(),s=de(!1),a=de(null),o=de(n.modelValue);function l(S,E,x=!0){const k={};return E&&E.length>0&&Object.keys(S).forEach(L=>{(x?!E.includes(L):E.includes(L))&&(k[L]=S[L])}),k}const u=U(()=>l(i,["class","style"])),c=U(()=>{const S=l(i,["class","style"]);return S.class||(S.class=n.wrapperClass),S}),d=U(()=>n.clearIcon&&o.value.length>0);Ht(()=>{window.document.addEventListener("keydown",b)}),Mc(()=>{window.document.removeEventListener("keydown",b)});function p(){o.value="",r("update:modelValue",""),r("clear")}function f(S){o.value=S.target.value,r("update:modelValue",S.target.value)}function y(S){if(S.key==="Escape"&&(n.clearOnEsc&&p(),n.blurOnEsc)){const E=a.value;E&&E.blur()}}function b(S){if(S.key===n.shortcutKey&&S.target!==a.value&&window.document.activeElement!==a.value&&!(S.target instanceof HTMLInputElement)&&!(S.target instanceof HTMLSelectElement)&&!(S.target instanceof HTMLTextAreaElement)){S.preventDefault();const E=[].slice.call(document.querySelectorAll('[data-search-input="true"]:not([data-shortcut-enabled="false"])')).filter(k=>!!(k.offsetWidth||k.offsetHeight||k.getClientRects().length)),x=E.length>1?E[0]:a.value;x&&(x.focus(),n.selectOnFocus&&x.select())}}return(S,E)=>(m(),T("div",Rn(tr(c.value)),[un(I("input",Xt({ref_key:"inputRef",ref:a,"onUpdate:modelValue":E[0]||(E[0]=x=>o.value=x),type:"search","data-search-input":"true"},u.value,{onInput:f,onFocus:E[1]||(E[1]=x=>s.value=!0),onBlur:E[2]||(E[2]=x=>s.value=!1),onKeydown:y}),null,16),[[Iu,o.value]]),un(I("button",{class:"clear-icon clear","aria-label":"Clear",onMousedown:p,onKeydown:ta(p,["space","enter"])},null,544),[[hi,d.value]])],16))}}),v_=Me(Q1e,[["__scopeId","data-v-660feded"]]),Z1e=t=>(Ot("data-v-5a386882"),t=t(),Rt(),t),J1e={class:"search-home"},ewe={key:0,class:"tabs"},twe=["onClick","textContent"],nwe={class:"box"},rwe=["action"],iwe={class:"input-container"},swe=Z1e(()=>I("div",{class:"divider"},null,-1)),awe={key:0,class:"links"},owe={key:0,class:"regular-links"},lwe={key:1,class:"advanced-links"},uwe=Be({__name:"SearchHome",props:{linkItems:{type:Array,default:()=>[]},advancedSearchLink:{type:Object,default:()=>{}}},setup(t){const e=[{title:"Site Search",actionURL:"/search-site",queryParam:"q",placeholder:"Search the library website"},{title:"UC Library Search",actionURL:"https://search.library.ucla.edu/discovery/search?vid=01UCS_LAL:UCLA&tab=Articles_books_more_slot&search_scope=ArticlesBooksMore&lang=en&query=any,contains,",placeholder:"Search articles, books and more"}],n=UO(),r=de(null),i=de(""),s=de(1),a=U(()=>e.map((y,b)=>{let S="tab";return b===s.value&&(S="tab is-active"),{...y,classes:S}})),o=U(()=>s.value===0),l=U(()=>e[s.value].actionURL),u=U(()=>e[s.value].placeholder),c=U(()=>e[s.value].queryParam),d=U(()=>i.value.split(" ").join("+"));function p(){o.value?n.push({path:l.value,query:{[c.value]:i.value}}):window.location.href=`${l.value}${d.value}`}function f(y){s.value=y}return(y,b)=>(m(),T("div",J1e,[a.value.length?(m(),T("div",ewe,[(m(!0),T(we,null,Fe(a.value,(S,E)=>(m(),T("button",{key:S.title,ref_for:!0,ref_key:"searchtab",ref:r,class:Oe(S.classes),onClick:x=>f(E),textContent:ye(S.title)},null,10,twe))),128))])):P("",!0),I("div",nwe,[I("form",{name:"searchHome",action:l.value,onSubmit:b[1]||(b[1]=Mr(()=>{},["prevent"]))},[I("div",iwe,[ae(v_,{"model-value":i.value,"onUpdate:modelValue":b[0]||(b[0]=S=>i.value=S),class:"search-input",placeholder:u.value,onKeyup:ta(p,["enter"])},null,8,["model-value","placeholder"]),I("button",{class:"button-submit",onClick:p},[ae($(y_),{class:"icon"})])])],40,rwe),swe,t.linkItems.length||t.advancedSearchLink?(m(),T("nav",awe,[t.linkItems.length?(m(),T("div",owe,[(m(!0),T(we,null,Fe(t.linkItems,S=>(m(),oe(pt,{key:S.url,class:"link",to:S.url,textContent:ye(S.text)},null,8,["to","textContent"]))),128))])):P("",!0),t.advancedSearchLink?(m(),T("div",lwe,[ae(pt,{to:t.advancedSearchLink.url,textContent:ye(t.advancedSearchLink.text)},null,8,["to","textContent"])])):P("",!0)])):P("",!0)])]))}}),m6=Me(uwe,[["__scopeId","data-v-5a386882"]]),cwe={class:"masthead-primary"},dwe={class:"container"},hwe={class:"logo"},pwe=Be({__name:"MastheadPrimary",props:{linkItems:{type:Array,default:()=>[]},advancedSearchLink:{type:Object,default:()=>{}}},setup(t){const e=Re(()=>Ne(()=>import("./D2BPHW9_.js"),[],import.meta.url));return(n,r)=>(m(),T("div",cwe,[I("div",dwe,[I("div",hwe,[ae($(e),{class:"svg"})]),ae(m6,{"link-items":t.linkItems,"advanced-search-link":t.advancedSearchLink},null,8,["link-items","advanced-search-link"])])]))}}),fwe=Me(pwe,[["__scopeId","data-v-b63430f9"]]);var mwe=sC,gwe=Jp,ywe=t0,vwe=da,_we=r0,bwe=n0,Twe=Zp,wwe=nC,kwe="[object Map]",Swe="[object Set]",xwe=Object.prototype,Ewe=xwe.hasOwnProperty;function Cwe(t){if(t==null)return!0;if(_we(t)&&(vwe(t)||typeof t=="string"||typeof t.splice=="function"||bwe(t)||wwe(t)||ywe(t)))return!t.length;var e=gwe(t);if(e==kwe||e==Swe)return!t.size;if(Twe(t))return!mwe(t).length;for(var n in t)if(Ewe.call(t,n))return!1;return!0}var Awe=Cwe;const Lwe=yr(Awe),Iwe={class:"container"},Mwe={class:"meta"},Dwe=["innerHTML"],Pwe=Be({__name:"MastheadSecondary",props:{hasMolecules:{type:Boolean,default:!0},title:{type:String,required:!0},text:{type:String,default:""},theme:{type:String,default:""},heroImage:{type:Object,default:()=>{}}},setup(t){const e=t,n=de(null),r=U(()=>n.value!==null),i=U(()=>!Lwe(e.heroImage)),s=U(()=>["masthead-secondary",{"has-molecule":e.hasMolecules&&!i.value},{"has-slot":r.value},{"theme-meap":e.theme.toLowerCase()==="meap"}]);return(a,o)=>(m(),T("div",{class:Oe(s.value)},[i.value?(m(),oe(Fn,{key:0,class:"hero-image",media:t.heroImage},null,8,["media"])):P("",!0),I("div",Iwe,[I("div",Mwe,[I("h1",{class:"title",innerHTML:t.title},null,8,Dwe),t.text?(m(),oe(ir,{key:0,class:"text","rich-text-content":t.text},null,8,["rich-text-content"])):P("",!0)])])],2))}}),Owe=Me(Pwe,[["__scopeId","data-v-8fd89521"]]),Rwe={name:"NavBreadcrumb",components:{SvgIconCaretLeft:PE,SmartLink:pt},props:{to:{type:String,default:""},parentTitle:{type:String,default:""},title:{type:String,default:""}}},Nwe={class:"nav-breadcrumb subtitle"},Bwe=["textContent"];function Fwe(t,e,n,r,i,s){const a=lt("SmartLink"),o=lt("SvgIconCaretLeft");return m(),T("div",Nwe,[ae(a,{to:n.to,class:"parent-page-url",textContent:ye(n.parentTitle)},null,8,["to","textContent"]),ae(o,{"aria-hidden":"true"}),I("span",{class:"current-page-title",textContent:ye(n.title)},null,8,Bwe)])}const Uwe=Me(Rwe,[["render",Fwe],["__scopeId","data-v-24b2a94a"]]),jwe={width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-caret-down"},$we=I("path",{d:"m10 14.729 6 6 6-6",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),Hwe=[$we];function Vwe(t,e){return m(),T("svg",jwe,[...Hwe])}const __={render:Vwe},g6=t=>(Ot("data-v-85065d0f"),t=t(),Rt(),t),qwe={class:"page-anchor"},Wwe={class:"page-anchor-content"},zwe={class:"chevron"},Gwe={key:0,class:"dropdown-menu page-anchor-list"},Ywe=["href"],Kwe=g6(()=>I("a",{href:"#"},"Back to Top",-1)),Xwe=[Kwe],Qwe=["href"],Zwe=g6(()=>I("a",{href:"#"},"Back to Top",-1)),Jwe=[Zwe],eke=Be({__name:"PageAnchor",props:{sectionTitles:{type:Array,required:!0},color:{type:String,default:""}},setup(t){const{sectionTitles:e,color:n}=t,r=ca(),i=de(!1),s=de(window.innerWidth),a=U(()=>n||qr(r==null?void 0:r.path)),o=U(()=>["link",`color-${a.value}`]),l=U(()=>e.map(d=>d.replace("&","").replace(/\s+/g," ").trim().toLowerCase().replace(/ /g,"-"))),u=U(()=>s.value>1024);function c(){i.value=!i.value}return(d,p)=>(m(),T("div",qwe,[I("div",Wwe,[I("button",{class:"dropdown-button",onClick:c},[tt(" On this page "),I("span",{class:Oe(["caret",{"is-active":i.value}])},[I("span",zwe,[ae($(__),{class:"caret-down-svg"})])],2)]),i.value&&u.value?(m(),T("ul",Gwe,[(m(!0),T(we,null,Fe(t.sectionTitles,(f,y)=>(m(),T("li",{key:`${f}-${y}`,class:Oe(o.value)},[I("a",{href:`#${l.value[y]}`},ye(f),9,Ywe)],2))),128)),I("li",{class:Oe(o.value)},Xwe,2)])):P("",!0),i.value&&!u.value?(m(),T("ul",{key:1,class:"dropdown-menu page-anchor-list",onClick:c},[(m(!0),T(we,null,Fe(t.sectionTitles,(f,y)=>(m(),T("li",{key:`${f}-${y}`,class:Oe(o.value)},[I("a",{href:`#${l.value[y]}`},ye(f),9,Qwe)],2))),128)),I("li",{class:Oe(o.value)},Jwe,2)])):P("",!0)])]))}}),tke=Me(eke,[["__scopeId","data-v-85065d0f"]]);function nke(t){return aa()?(Ga(t),!0):!1}function y6(t){return typeof t=="function"?t():$(t)}const v6=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const rke=Object.prototype.toString,ike=t=>rke.call(t)==="[object Object]",yh=()=>{},ske=ake();function ake(){var t,e;return v6&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Uu(t){var e;const n=y6(t);return(e=n==null?void 0:n.$el)!=null?e:n}const _6=v6?window:void 0;function ng(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=_6):[e,n,r,i]=t,!e)return yh;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],a=()=>{s.forEach(c=>c()),s.length=0},o=(c,d,p,f)=>(c.addEventListener(d,p,f),()=>c.removeEventListener(d,p,f)),l=St(()=>[Uu(e),y6(i)],([c,d])=>{if(a(),!c)return;const p=ike(d)?{...d}:d;s.push(...n.flatMap(f=>r.map(y=>o(c,f,y,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return nke(u),u}let Ww=!1;function oke(t,e,n={}){const{window:r=_6,ignore:i=[],capture:s=!0,detectIframe:a=!1}=n;if(!r)return yh;ske&&!Ww&&(Ww=!0,Array.from(r.document.body.children).forEach(c=>c.addEventListener("click",yh)),r.document.documentElement.addEventListener("click",yh));let o=!0;const l=c=>i.some(d=>{if(typeof d=="string")return Array.from(r.document.querySelectorAll(d)).some(p=>p===c.target||c.composedPath().includes(p));{const p=Uu(d);return p&&(c.target===p||c.composedPath().includes(p))}}),u=[ng(r,"click",c=>{const d=Uu(t);if(!(!d||d===c.target||c.composedPath().includes(d))){if(c.detail===0&&(o=!l(c)),!o){o=!0;return}e(c)}},{passive:!0,capture:s}),ng(r,"pointerdown",c=>{const d=Uu(t);o=!l(c)&&!!(d&&!c.composedPath().includes(d))},{passive:!0}),a&&ng(r,"blur",c=>{setTimeout(()=>{var d;const p=Uu(t);((d=r.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(c)},0)})].filter(Boolean);return()=>u.forEach(c=>c())}const lke={class:"single-checkbox"},uke={__name:"SingleCheckbox",props:{label:String,selected:Boolean},emits:["update:selected","input-selected"],setup(t,{emit:e}){const n=t,r=e,i=de(n.selected);St(()=>n.selected,o=>{i.value=o});const s=U(()=>["label",i.value?"checked":""]);function a(){r("update:selected",i.value),r("input-selected")}return(o,l)=>(m(),T("div",lke,[I("label",{class:Oe(s.value)},[tt(ye(t.label)+" ",1),un(I("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u),type:"checkbox",class:"input",onChange:a},null,544),[[bS,i.value]]),ae($(X5),{class:"svg"})],2)]))}},b6=Me(uke,[["__scopeId","data-v-32fe410c"]]),cke={class:"search-generic-filter-buttons"},dke=["onClick"],hke={class:"title"},pke={class:"chevron"},fke=Be({__name:"SearchGenericFilterButtons",props:{items:{type:Array,default:()=>[]},singleCheckboxState:{type:Boolean,default:!1}},emits:["toggle","update:single-checkbox-state","single-checkbox-checked"],setup(t,{emit:e}){const n=t,r=e,i=de(n.singleCheckboxState);St(()=>n.singleCheckboxState,d=>{i.value=d});const s=U(()=>{const d=n.items.find(p=>p.inputType==="single-checkbox");return d?d.label:""}),a=U(()=>{const d=n.items.find(p=>p.inputType==="single-checkbox");return d?d.esFieldName:""}),o=U(()=>{var d;return(d=n.items)==null?void 0:d.some(p=>p.inputType==="single-checkbox")});function l(){r("update:single-checkbox-state",i.value),r("single-checkbox-checked",a.value)}const u=U(()=>n.items.map(d=>{if(d.inputType!=="single-checkbox"){const p=`button${d.isVisible?" is-active":""}`;return{...d,class:p}}else return null}).filter(d=>d!=null));function c(d){r("toggle",d)}return(d,p)=>(m(),T("div",cke,[(m(!0),T(we,null,Fe(u.value,(f,y)=>(m(),T("button",{key:f==null?void 0:f.label,class:Oe(f==null?void 0:f.class),type:"button",onClick:Mr(b=>c(y),["prevent"])},[I("span",hke,ye(f==null?void 0:f.label),1),I("div",pke,[ae($(__),{class:"caret-down-svg"})])],10,dke))),128)),o.value?(m(),oe(b6,{key:0,selected:i.value,"onUpdate:selected":p[0]||(p[0]=f=>i.value=f),label:s.value,onInputSelected:l},null,8,["selected","label"])):P("",!0)]))}}),T6=Me(fke,[["__scopeId","data-v-98a6c18b"]]),mke={class:"section-remove-search-filter"},gke=Be({__name:"SectionRemoveSearchFilter",props:{filters:{type:Object,default:()=>{}}},emits:["update:filters","remove-selected"],setup(t,{emit:e}){const{filters:n}=t,r=e,i=de({});St(()=>n,l=>{Object.entries(l).forEach(([u,c])=>{i.value[u]=c})},{deep:!0,immediate:!0});const s=U(()=>Object.entries(i.value).flatMap(([l,u])=>u.map(c=>({name:l,value:c}))));function a(l){return l==="subjectLibrarian.keyword"?"Subject Librarian":"Past Events"}function o(l,u){i.value[l]=i.value[l].filter(c=>c!==u),r("update:filters",i.value),r("remove-selected")}return(l,u)=>un((m(),T("div",mke,[(m(!0),T(we,null,Fe(s.value,c=>(m(),T("div",{key:`filter-${c.value}`},[ae(Mx,{title:c.value==="yes"?a(c.name):c.value,onRemoveBlockFilter:d=>o(c.name,c.value)},null,8,["title","onRemoveBlockFilter"])]))),128))],512)),[[hi,i.value]])}}),w6=Me(gke,[["__scopeId","data-v-d328f0d2"]]),yke={key:0,class:"container"},vke=Be({__name:"SearchGenericFilters",props:{filters:{type:Array,default:()=>[]},queryFilters:{type:Object,default:()=>{}}},emits:["update:queryFilters","filters-selection-action"],setup(t,{emit:e}){const n=t,r=e,i=de({});function s(f,y){console.log("Search Generic Filters updateSelected: ",f,JSON.stringify(y)),i.value[f]=y}const a=de(n.filters.some(f=>{var y;return f.inputType==="single-checkbox"&&((y=n.queryFilters[f.esFieldName])==null?void 0:y.includes("yes"))})),o=de(-1);St(()=>n.queryFilters,f=>{console.log("In watch function props.queryFilters updated",JSON.stringify(f),JSON.stringify(n.filters)),Object.entries(f).forEach(([y,b])=>{i.value[y]=b}),console.log("queryFilterButtonDropDownStates.value",JSON.stringify(i.value)),console.log("In watch function props.queryFilters checkedState.value",a.value,JSON.stringify(n.filters))},{deep:!0,immediate:!0}),St(()=>n.filters,f=>{console.log("In watch function props.filters updated",JSON.stringify(n.filters),JSON.stringify(f)),console.log("In watch funciton props.filters heello query filters props.queryFilters",n.queryFilters),console.log("In watch fucntion props.filters queryFilterButtonDropDownStates",i.value),a.value=f==null?void 0:f.some(y=>{var b;return y.inputType==="single-checkbox"&&((b=i.value[y.esFieldName])==null?void 0:b.includes("yes"))})},{deep:!0,immediate:!0});const l=U(()=>n.filters.map((f,y)=>{let b=Wg;switch(f.inputType){case"radio":b=Q5;break;case"checkbox":b=Wg;break}return{...f,componentName:b,isVisible:y===o.value}}));function u(f){o.value=o.value===f?-1:f}function c(f){console.log("emit event to parent if checkbox is selected"),i.value[f]=a.value?["yes"]:[],r("update:queryFilters",i.value),r("filters-selection-action")}function d(){console.log("doSearch function called to emit update:queryFilters and filters-selection-action events to the parent component"),r("update:queryFilters",i.value),r("filters-selection-action")}St(i,()=>{console.log("Update checked state"),a.value=n.filters.some(f=>{var y;return f.inputType==="single-checkbox"&&((y=i.value[f.esFieldName])==null?void 0:y.includes("yes"))})});const p=de(null);return oke(p,()=>{o.value=-1}),(f,y)=>(m(),T("div",{ref_key:"clickOutsideTarget",ref:p,class:"search-generic-filters"},[t.filters.length>0?(m(),T("div",yke,[ae(T6,{"single-checkbox-state":a.value,"onUpdate:singleCheckboxState":y[0]||(y[0]=b=>a.value=b),items:l.value,class:"search-generic-filter-buttons",onToggle:u,onSingleCheckboxChecked:c},null,8,["single-checkbox-state","items"])])):P("",!0),(m(!0),T(we,null,Fe(l.value,b=>(m(),T("div",{key:b.esFieldName},[ae(Ti,{name:"slide-toggle",mode:"out-in"},{default:Ie(()=>[b.isVisible?(m(),oe(Lt(b.componentName),{key:0,selected:i.value[b.esFieldName],"onUpdate:selected":[S=>i.value[b.esFieldName]=S,S=>s(b.esFieldName,S)],items:b.items,class:"filter-group",onInputSelected:d},null,40,["selected","onUpdate:selected","items"])):P("",!0)]),_:2},1024)]))),128)),ae(w6,{filters:i.value,"onUpdate:filters":y[1]||(y[1]=b=>i.value=b),class:"section-remove-container",onRemoveSelected:d},null,8,["filters"])],512))}}),k6=Me(vke,[["__scopeId","data-v-fb35e8a6"]]),_ke=t=>(Ot("data-v-34b16f67"),t=t(),Rt(),t),bke={class:"search-generic"},Tke={class:"input-container"},wke=_ke(()=>I("div",{class:"search-generic-filters-container"},null,-1)),kke=Be({__name:"SearchGeneric",props:{filters:{type:Array,default:()=>[]},searchGenericQuery:{type:Object,default:()=>{}},placeholder:{type:String,default:""}},emits:["search-ready"],setup(t,{emit:e}){const{filters:n,searchGenericQuery:r,placeholder:i}=t,s=e,a=de(r?r.queryText:""),o=de(r?r.queryFilters:{});function l(c){console.log("In updateQueryFilters",c),o.value=c}function u(){console.log("dosearch called"),console.log(`selected filters in component are: ${JSON.stringify(o.value)}`),console.log(`search text in component are: ${JSON.stringify(a.value)}`),s("search-ready",{filters:o.value,text:a.value})}return(c,d)=>(m(),T("div",bke,[I("form",{name:"searchHome",onSubmit:d[1]||(d[1]=Mr(()=>{},["prevent"]))},[I("div",Tke,[ae(v_,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=p=>a.value=p),class:"search-input",placeholder:t.placeholder,onClear:u,onKeyup:ta(u,["enter"])},null,8,["modelValue","placeholder"]),I("button",{class:"button-submit",type:"submit",onClick:u},[ae($(y_),{class:"icon"})])])],32),wke,ae(k6,{filters:t.filters,"query-filters":o.value,"onUpdate:queryFilters":l,onFiltersSelectionAction:u},null,8,["filters","query-filters"])]))}}),Ske=Me(kke,[["__scopeId","data-v-34b16f67"]]),xke={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-calendar"},Eke=I("path",{d:"M26.9902 25.9316C26.9902 26.2589 26.7248 26.5243 26.3975 26.5243C19.4626 26.5243 12.5277 26.5243 5.59274 26.5243C5.26538 26.5243 5 26.2589 5 25.9316V12.9113V8.26828C5 7.94092 5.26538 7.67554 5.59274 7.67554H26.3975C26.7248 7.67554 26.9902 7.94092 26.9902 8.26828V12.9113V25.9316Z",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),Cke=I("path",{d:"M11.8063 10.283L11.8063 4.00004",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),Ake=I("path",{d:"M20.1835 10.283L20.1835 4.00004",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),Lke=I("path",{d:"M7.8147 13.9585H15.9953H24.1759",stroke:"#0AA5FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--default-cyan-03"},null,-1),Ike=[Eke,Cke,Ake,Lke];function S6(t,e){return m(),T("svg",xke,[...Ike])}const x6={render:S6},E6=Object.freeze(Object.defineProperty({__proto__:null,default:x6,render:S6},Symbol.toStringTag,{value:"Module"})),Mke={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-card"},Dke=Yi('<rect x="7.22302" y="7" width="7.0895" height="7.0737" rx="0.389099" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></rect><rect x="17.9305" y="7" width="7.0895" height="7.0737" rx="0.389099" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></rect><rect x="7.22302" y="17.6917" width="7.0895" height="7.0737" rx="0.389099" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></rect><rect x="17.9305" y="17.6917" width="7.0895" height="7.0737" rx="0.389099" stroke="#0B6AB7" stroke-width="1.5" class="svg__stroke--primary-blue-03"></rect><path d="M28 19.7427L28 24.7652" stroke="#0AA5FF" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--default-cyan-03"></path><path d="M4 7L4 12.0225" stroke="#0AA5FF" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--default-cyan-03"></path>',6),Pke=[Dke];function C6(t,e){return m(),T("svg",Mke,[...Pke])}const A6={render:C6},Oke=Object.freeze(Object.defineProperty({__proto__:null,default:A6,render:C6},Symbol.toStringTag,{value:"Module"})),Rke={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-list"},Nke=Yi('<rect x="6" y="8" width="2.99937" height="2.99269" rx="0.371905" stroke="#0AA5FF" stroke-width="1.25" class="svg__stroke--default-cyan-03"></rect><path d="M12.4575 9.49634H26.2901" stroke="#0B6AB7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--primary-blue-03"></path><rect x="6" y="14.4509" width="2.99937" height="2.99269" rx="0.371905" stroke="#0AA5FF" stroke-width="1.25"></rect><path d="M12.4575 15.9473H26.2901" stroke="#0B6AB7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--primary-blue-03"></path><rect x="6" y="20.9016" width="2.99937" height="2.99269" rx="0.371905" stroke="#0AA5FF" stroke-width="1.25" class="svg__stroke--default-cyan-03"></rect><path d="M12.4575 22.3979H26.2901" stroke="#0B6AB7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="svg__stroke--primary-blue-03"></path>',6),Bke=[Nke];function L6(t,e){return m(),T("svg",Rke,[...Bke])}const I6={render:L6},Fke=Object.freeze(Object.defineProperty({__proto__:null,default:I6,render:L6},Symbol.toStringTag,{value:"Module"})),Uke={class:"view-btn"},jke={class:"selected"},$ke={key:0},Hke={class:"chevron"},Vke={class:"view-list"},qke=["onClick"],Wke=["innerHTML"],zke={__name:"SearchGenericViewModes",props:{isOpened:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},selected:{type:String,default:""}},emits:["update:isOpened","update:selected","view-changed"],setup(t,{emit:e}){const n=t,r=e,i=de(n.isOpened),s=U(()=>["search-generic-view-modes",{"is-opened":i.value}]),a=U(()=>n.items.find(p=>p.slug===n.selected)||{}),o=U(()=>n.items.map(p=>{let f="list-item";return p.slug===n.selected&&(f+=" is-active"),{...p,classes:f}})),l=new Map([["icon-calendar",x6],["icon-list",I6],["icon-card",A6]]);function u(p){return l.get(p)}function c(){i.value=!i.value,r("update:isOpened",i.value)}function d(p){r("update:selected",p),r("view-changed",p)}return(p,f)=>(m(),T("div",{class:Oe(s.value),onClick:c},[I("button",Uke,[I("div",jke,[t.selected?P("",!0):(m(),T("span",$ke,"View")),(m(),oe(Lt(u(a.value.iconName)),{class:"svg"}))]),I("div",Hke,[ae($(__),{class:"svg"})])]),I("ul",Vke,[(m(!0),T(we,null,Fe(o.value,y=>(m(),T("li",{key:y.slug,class:Oe(y.classes),onClick:Mr(b=>d(y.slug),["stop"])},[(m(),oe(Lt(u(y.iconName)),{class:"svg"})),I("div",{innerHTML:y.title},null,8,Wke)],10,qke))),128))])],2))}},Gke=Me(zke,[["__scopeId","data-v-cf30205d"]]),Yke={class:"search-result-item"},Kke=["textContent"],Xke={key:0,class:"summary"},Qke={__name:"SearchResult",props:{to:{type:String,default:""},category:{type:String,default:""},title:{type:String,default:""},summary:{type:String,default:""}},setup(t){const{to:e,category:n,title:r,summary:i}=t,s=U(()=>i?na(i,250):"");return(a,o)=>(m(),T("li",Yke,[I("div",{class:"category",textContent:ye(t.category)},null,8,Kke),ae(pt,{class:"title",to:t.to,innerHTML:t.title},null,8,["to","innerHTML"]),t.summary?(m(),T("div",Xke,ye(s.value),1)):P("",!0)]))}},Zke=Me(Qke,[["__scopeId","data-v-35df6ec0"]]),Jke={class:"section-dual-masonry"},eSe={class:"masonry"},tSe=Be({__name:"SectionDualMasonry",props:{items:{type:Array,default:()=>[]},to:{type:String,default:""},text:{type:String,default:"See More"}},setup(t){return(e,n)=>(m(),T("section",Jke,[I("div",eSe,[(m(!0),T(we,null,Fe(t.items,r=>(m(),oe(xx,{key:r.to,title:r.title,category:r.category,"start-date":r.startDate,"end-date":r.endDate,prompt:r.prompt,to:r.to,"section-handle":r.sectionHandle,class:"brick"},null,8,["title","category","start-date","end-date","prompt","to","section-handle"]))),128)),(m(!0),T(we,null,Fe(t.items,r=>(m(),oe(pt,{key:`image-${r.to}`,to:r.to,class:"brick brick-image"},{default:Ie(()=>[ae(Fn,{media:r.image,"aspect-ratio":100},null,8,["media"])]),_:2},1032,["to"]))),128))]),ae(pt,{class:"more",to:t.to},{default:Ie(()=>[ae(zp,{text:t.text},null,8,["text"])]),_:1},8,["to"])]))}}),nSe=Me(tSe,[["__scopeId","data-v-5544244d"]]),rSe={class:"section-block-generic-list"},iSe={class:"block-generic-list"},sSe=Be({__name:"SectionGenericList",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("section",rSe,[I("ul",iSe,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(Cx,{key:`${r.title}-${i}`,"section-title":"Academic Librarian Jobs",title:r.title,"alternative-full-name":r.alternativeFullName,language:r.language,text:r.summary,"job-requisition-number":r.jobRequisitionNumber,"job-posting-u-r-l":r.jobPostingURL,departments:r.department,"pay-rate":r.payRate,"associated-locations":r.associatedLocations},null,8,["title","alternative-full-name","language","text","job-requisition-number","job-posting-u-r-l","departments","pay-rate","associated-locations"]))),128))])]))}}),aSe=Me(sSe,[["__scopeId","data-v-b0a0dcc0"]]),oSe={class:"section-location-list"},lSe=Be({__name:"SectionLocationList",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("ul",oSe,[(m(!0),T(we,null,Fe(t.items,r=>(m(),oe(Ax,{key:r.to,image:r.image,"location-type":r.locationType,title:r.title,to:r.to,"affiliate-library-url":r.affiliateLibraryUrl,address:r.address,"address-link":r.addressLink,amenities:r.amenities,"reserve-seat":r.reserveSeat,"is-ucla-library":r.isUclaLibrary,"libcal-location-id-for-hours":r.libcalLocationIdForHours,class:"block-location-list-item"},null,8,["image","location-type","title","to","affiliate-library-url","address","address-link","amenities","reserve-seat","is-ucla-library","libcal-location-id-for-hours"]))),128))]))}}),uSe=Me(lSe,[["__scopeId","data-v-bacb8491"]]),M6=t=>(Ot("data-v-8ea85e52"),t=t(),Rt(),t),cSe=M6(()=>I("div",{class:"underline-hover"}," Previous ",-1)),dSe=M6(()=>I("div",{class:"underline-hover"}," Next ",-1)),hSe=Be({__name:"SectionPagination",props:{nextTo:{type:String,default:""},previousTo:{type:String,default:""}},setup(t){const{nextTo:e,previousTo:n}=t,r=U(()=>n===""?["section-pagination","first-page"]:e===""?["section-pagination","last-page"]:["section-pagination"]);return(i,s)=>(m(),T("div",{class:Oe(r.value)},[t.previousTo?(m(),oe(pt,{key:0,to:t.previousTo,class:"previous"},{default:Ie(()=>[ae($(Qa),{class:"previous-svg"}),cSe]),_:1},8,["to"])):P("",!0),t.nextTo?(m(),oe(pt,{key:1,to:t.nextTo,class:"next"},{default:Ie(()=>[dSe,ae($(Qa),{class:"next-svg"})]),_:1},8,["to"])):P("",!0)],2))}}),pSe=Me(hSe,[["__scopeId","data-v-8ea85e52"]]),fSe={class:"section-post-small"},mSe={class:"grid"},gSe=Be({__name:"SectionPostSmall",props:{items:{type:Array,default:()=>[]},to:{type:String,default:""}},setup(t){return(e,n)=>{const r=lt("smart-link");return m(),T("section",fSe,[I("div",mSe,[(m(!0),T(we,null,Fe(t.items,i=>(m(),oe(Ix,{key:`block-post-${i.title}`,"category-name":i.categoryName,author:i.author,title:i.title,image:i.image,to:i.to,class:"block"},null,8,["category-name","author","title","image","to"]))),128))]),t.to?(m(),oe(r,{key:0,class:"more",to:t.to},{default:Ie(()=>[ae(zp)]),_:1},8,["to"])):P("",!0)])}}}),ySe=Me(gSe,[["__scopeId","data-v-c12346c8"]]),vSe={class:"section-staff-article-list"},_Se={class:"container"},bSe=["innerHTML"],TSe={class:"block-staff-article-list"},wSe=Be({__name:"SectionStaffArticleList",props:{items:{type:Array,default:()=>[]},sectionTitle:{type:String,default:""}},setup(t){return(e,n)=>(m(),T("section",vSe,[I("div",_Se,[t.sectionTitle?(m(),T("div",{key:0,class:"section-title",innerHTML:t.sectionTitle},null,8,bSe)):P("",!0),I("ul",TSe,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(jx,{key:i,image:r.image,to:r.to,category:r.category,title:r.title,date:r.date,authors:r.authors,description:r.description,"external-resource-url":r.externalResourceUrl},null,8,["image","to","category","title","date","authors","description","external-resource-url"]))),128))])])]))}}),kSe=Me(wSe,[["__scopeId","data-v-b29c3ccd"]]),SSe={name:"SectionStaffOrcidPublications",components:{RichText:ir,SmartLink:pt},props:{orcid:{type:String,default:""},publications:{type:String,default:""}}},xSe=t=>(Ot("data-v-5e4d5449"),t=t(),Rt(),t),ESe={key:0,class:"section-staff-orcid-publications"},CSe=xSe(()=>I("h2",{class:"secondary-header"}," Publications ",-1)),ASe={key:0,class:"orcid-key"};function LSe(t,e,n,r,i,s){const a=lt("SmartLink"),o=lt("RichText");return n.orcid||n.publications?(m(),T("section",ESe,[CSe,n.orcid?(m(),T("div",ASe,[tt(" ORCID: "),ae(a,{to:n.orcid,class:"orcid-value"},{default:Ie(()=>[tt(ye(n.orcid),1)]),_:1},8,["to"])])):P("",!0),n.publications?(m(),oe(o,{key:1,class:"publications","rich-text-content":n.publications},null,8,["rich-text-content"])):P("",!0)])):P("",!0)}const ISe=Me(SSe,[["render",LSe],["__scopeId","data-v-5e4d5449"]]),MSe=t=>(Ot("data-v-41464f61"),t=t(),Rt(),t),DSe={class:"section-spaces"},PSe=MSe(()=>I("h3",{id:"spaces",class:"spaces-title"}," Spaces ",-1)),OSe={class:"section-spaces-list"},RSe=Be({__name:"SectionSpacesList",props:{items:{type:Array,default:()=>[]},nShown:{type:String,default:"4"}},setup(t){return(e,n)=>(m(),T("div",DSe,[PSe,ae(Rv,{disable:t.items.length<=Number(t.nShown)},{default:Ie(()=>[I("ul",OSe,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(Fx,{key:`BlockSpace${i}`,class:Oe([i>=Number(t.nShown)?"show-hide-hideable":null,"block"]),to:r.to,title:r.title,"is-online":r.isOnline,location:r.location,text:r.text,"button-text":r.buttonText,"button-url":r.buttonUrl},null,8,["class","to","title","is-online","location","text","button-text","button-url"]))),128))])]),_:1},8,["disable"])]))}}),NSe=Me(RSe,[["__scopeId","data-v-41464f61"]]),BSe={class:"section-staff-list"},FSe=Be({__name:"SectionStaffList",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("div",null,[I("ul",BSe,[(m(!0),T(we,null,Fe(t.items,r=>(m(),oe(Vx,{key:`ucla-staff-${r.to}`,image:r.image,to:r.to,"staff-name":r.staffName,"alternative-full-name":r.alternativeFullName,language:r.language,"job-title":r.jobTitle,locations:r.locations,email:r.email,phone:r.phone,departments:r.departments,consultation:r.consultation,class:"block-staff-list-item"},null,8,["image","to","staff-name","alternative-full-name","language","job-title","locations","email","phone","departments","consultation"]))),128))])]))}}),USe=Me(FSe,[["__scopeId","data-v-7317bbb2"]]),jSe=t=>(Ot("data-v-3531d316"),t=t(),Rt(),t),$Se={class:"section-staff-subject-librarian"},HSe=jSe(()=>I("caption",null," Subject Librarians ",-1)),VSe=Be({__name:"SectionStaffSubjectLibrarian",props:{items:{type:Array,default:()=>[]},tableHeaders:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("table",$Se,[HSe,I("thead",null,[I("tr",null,[(m(!0),T(we,null,Fe(t.tableHeaders,(r,i)=>(m(),T("th",{key:i},ye(r),1))),128))])]),I("tbody",null,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(qx,{key:`${i}-${r.subjectArea}`,"subject-area":r.subjectArea,"name-first":r.nameFirst,"name-last":r.nameLast,to:r.to,"alternative-name":r.alternativeName,language:r.language,"job-title":r.jobTitle,departments:r.departments,locations:r.locations,email:r.email,phone:r.phone,consultation:r.consultation,class:"subject-librarian-item"},null,8,["subject-area","name-first","name-last","to","alternative-name","language","job-title","departments","locations","email","phone","consultation"]))),128))])]))}}),qSe=Me(VSe,[["__scopeId","data-v-3531d316"]]),WSe={class:"section-teaser-card"},zSe=Be({__name:"SectionTeaserCard",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("ul",WSe,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(Mv,{key:`Card${i}`,image:r.image,to:r.to,category:r.category,title:r.title,"alternative-full-name":r.alternativeFullName,language:r.language,"start-date":r.startDate,"end-date":r.endDate,text:r.text,"image-aspect-ratio":60,"is-vertical":!0,"byline-one":r.bylineOne,"byline-two":r.bylineTwo,"section-handle":r.sectionHandle,ongoing:r.ongoing,class:"card"},null,8,["image","to","category","title","alternative-full-name","language","start-date","end-date","text","byline-one","byline-two","section-handle","ongoing"]))),128))]))}}),GSe=Me(zSe,[["__scopeId","data-v-23167005"]]),YSe={class:"section-teaser-highlight"},KSe=Be({__name:"SectionTeaserHighlight",props:{items:{type:Array,default:()=>[]}},setup(t){return(e,n)=>(m(),T("ul",YSe,[(m(!0),T(we,null,Fe(t.items,r=>(m(),oe(Dv,{key:r.to,image:r.image,to:r.to,category:r.category,title:r.title,"start-date":r.startDate,"end-date":r.endDate,text:r.text,locations:r.locations,"alternative-full-name":r.alternativeFullName,language:r.language,"section-handle":r.sectionHandle,"byline-one":r.bylineOne,"byline-two":r.bylineTwo,"has-triangle":!0,"is-vertical":!0,ongoing:r.ongoing,class:"block"},null,8,["image","to","category","title","start-date","end-date","text","locations","alternative-full-name","language","section-handle","byline-one","byline-two","ongoing"]))),128))]))}}),XSe=Me(KSe,[["__scopeId","data-v-9b37a033"]]),QSe={class:"section-teaser-list"},ZSe={class:"list"},JSe=Be({__name:"SectionTeaserList",props:{items:{type:Array,default:()=>[]},nShown:{type:Number,default:3}},setup(t){return(e,n)=>(m(),T("section",QSe,[ae(Rv,{disable:t.items.length<=t.nShown},{default:Ie(()=>[I("ul",ZSe,[(m(!0),T(we,null,Fe(t.items,(r,i)=>(m(),oe(kx,{key:i,class:Oe([i>=t.nShown?"show-hide-hideable":null,"list-item block"]),image:r.image,to:r.to,category:r.category,title:r.title,"start-date":r.startDate,"end-date":r.endDate,text:r.text,locations:r.locations,"section-handle":r.sectionHandle,ongoing:r.ongoing},null,8,["class","image","to","category","title","start-date","end-date","text","locations","section-handle","ongoing"]))),128))])]),_:1},8,["disable"])]))}}),e5e=Me(JSe,[["__scopeId","data-v-0f2914c1"]]),t5e={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svg__icon-alert"},n5e=I("path",{d:"M16 25C20.9706 25 25 20.9706 25 16C25 11.0294 20.9706 7 16 7C11.0294 7 7 11.0294 7 16C7 20.9706 11.0294 25 16 25Z",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),r5e=I("path",{d:"M16 12V17",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"square","stroke-linejoin":"bevel",class:"svg__stroke--primary-blue-03"},null,-1),i5e=I("path",{d:"M16 20H16.01",stroke:"#0B6AB7","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"svg__stroke--primary-blue-03"},null,-1),s5e=[n5e,r5e,i5e];function D6(t,e){return m(),T("svg",t5e,[...s5e])}const P6={render:D6},a5e=Object.freeze(Object.defineProperty({__proto__:null,default:P6,render:D6},Symbol.toStringTag,{value:"Module"})),o5e={name:"SiteNotificationAlert",components:{ButtonLink:bs,RichText:ir,SvgAlertCircle:P6},props:{title:{type:String,default:""},text:{type:String,default:""},time:{type:Number,default:13500}},data(){return{isOpened:!0}},computed:{classes(){return["site-notification-alert",this.isOpened?"is-opened":"is-closed"]}},mounted(){this.delayedClose()},methods:{toggleAlert(){this.isOpened=!this.isOpened},delayedClose(){setTimeout(()=>{this.isOpened=!1},this.time)}}},l5e={class:"alert-box-icon"},u5e=["innerHTML"],c5e={class:"message"};function d5e(t,e,n,r,i,s){const a=lt("SvgAlertCircle"),o=lt("RichText"),l=lt("ButtonLink");return m(),T("section",{class:Oe(s.classes),role:"alert"},[I("button",{class:"alert",onClick:e[0]||(e[0]=u=>s.toggleAlert())},[I("div",l5e,[ae(a,{class:"svg-alert-circle"})]),I("div",{class:"alert-text",innerHTML:n.title},null,8,u5e)]),I("div",c5e,[n.text?(m(),oe(o,{key:0,class:"message-text","rich-text-content":n.text},null,8,["rich-text-content"])):P("",!0),ae(l,{class:"button-dismiss",label:"Dismiss","icon-name":"icon-close","is-quaternary":"",onClick:s.toggleAlert},null,8,["onClick"])])],2)}const h5e=Me(o5e,[["render",d5e],["__scopeId","data-v-e71e447b"]]),p5e=t=>(Ot("data-v-f3974e51"),t=t(),Rt(),t),f5e={class:"story-with-image"},m5e={key:0,class:"image-block"},g5e=p5e(()=>I("div",{class:"gradient"},null,-1)),y5e=["textContent"],v5e={class:"meta"},_5e={key:0,class:"title"},b5e=["innerHTML"],T5e=["innerHTML"],w5e={class:"calltoaction"},k5e={key:0},S5e=60,x5e=Be({__name:"StoryWithImage",props:{image:{type:Object,default:()=>{}},caption:{type:String,default:""},title:{type:String,default:""},text:{type:String,default:""},footnote:{type:String,default:""},calltoaction:{type:String,default:""}},setup(t){return(e,n)=>(m(),T("div",f5e,[t.image?(m(),T("div",m5e,[ae(Fn,{class:"image",media:t.image,"aspect-ratio":S5e},{default:Ie(()=>[g5e]),_:1},8,["media"]),t.caption?(m(),T("div",{key:0,class:"caption",textContent:ye(t.caption)},null,8,y5e)):P("",!0),I("div",v5e,[t.title?(m(),T("h2",_5e,ye(t.title),1)):P("",!0),t.text?(m(),T("div",{key:1,class:"text",innerHTML:t.text},null,8,b5e)):P("",!0),ae(ry,{class:"divider-general"}),t.footnote?(m(),T("div",{key:2,class:"footnote",innerHTML:t.footnote},null,8,T5e)):P("",!0),ae(ry,{class:"divider-general"}),I("div",w5e,[t.calltoaction?(m(),T("span",k5e,ye(t.calltoaction),1)):P("",!0),ae($(Wp),{class:"svg"})])])])):P("",!0)]))}}),E5e=Me(x5e,[["__scopeId","data-v-f3974e51"]]),C5e=Object.freeze(Object.defineProperty({__proto__:null,AlphabeticalBrowseBy:JN,BannerFeatured:qg,BannerHeader:Ij,BannerText:Jj,BaseCheckboxGroup:Wg,BaseRadioGroup:Q5,BlockAmenities:J4,BlockCallToAction:Lv,BlockCallToActionTwoUp:Rq,BlockCampusMap:gq,BlockCardWithIllustration:wx,BlockCardWithImage:Mv,BlockClippedDate:kx,BlockDate:iY,BlockEvent:xx,BlockFloatingHighlight:Dv,BlockForm:Np,BlockGenericList:Cx,BlockHours:FY,BlockLocationListItem:Ax,BlockMediaWithText:Lx,BlockPostSmall:Ix,BlockRemoveSearchFilter:Mx,BlockShowHide:Rv,BlockSimpleCard:Bx,BlockSpaces:Fx,BlockSponsor:Ux,BlockStaffArticleList:jx,BlockStaffDetail:lQ,BlockStaffList:Vx,BlockStaffSubjectLibrarian:qx,BlockTag:Pv,ButtonHide:Dx,ButtonLink:bs,ButtonMore:zp,ButtonShow:Px,CardMeta:qp,DateFilter:Lne,DividerGeneral:ry,DividerWayFinder:vc,FlexibleAssociatedTopicCards:KE,FlexibleBannerFeatured:XE,FlexibleBlocks:Hde,FlexibleCallToAction:_C,FlexibleCardWithImage:bC,FlexibleForm:TC,FlexibleGridGalleryCards:kC,FlexibleHighlight:SC,FlexibleImpactNumberCards:EC,FlexibleImpactNumbersCarousel:DC,FlexibleMediaGallery:e6,FlexibleMediaGalleryBannerImage:QA,FlexibleMediaGalleryNewLightbox:p_,FlexibleMediaGalleryThumbnailCard:JA,FlexibleMediaWithText:t6,FlexiblePullQuote:n6,FlexibleRichText:r6,FlexibleSimpleCards:s6,FooterMain:i2e,FooterPrimary:o6,FooterSock:l6,FooterSponsor:a6,GridGallery:wC,HeaderMain:c6,HeaderMainResponsive:h6,HeaderSmart:E1e,HeaderSticky:L1e,HeadingArrow:a2e,IconWithLink:Bn,ImpactNumberCard:xC,ImpactNumbersCarousel:MC,ImpactRichText:z1e,MastheadPrimary:fwe,MastheadSecondary:Owe,MediaBadge:KA,MediaItem:sd,NavBreadcrumb:Uwe,NavMenuItem:u6,NavMenuItemResponsive:d6,NavPrimary:m_,NavSecondary:g_,PageAnchor:tke,PullQuote:oc,ResponsiveImage:Fn,ResponsiveVideo:Sv,RichText:ir,SearchGeneric:Ske,SearchGenericFilterButtons:T6,SearchGenericFilters:k6,SearchGenericViewModes:Gke,SearchHome:m6,SearchInput:v_,SearchResult:Zke,SectionCardsWithIllustrations:YE,SectionDualMasonry:nSe,SectionGenericList:aSe,SectionHeader:ef,SectionLocationList:uSe,SectionPagination:pSe,SectionPostSmall:ySe,SectionRemoveSearchFilter:w6,SectionSpacesList:NSe,SectionStaffArticleList:kSe,SectionStaffList:USe,SectionStaffOrcidPublications:ISe,SectionStaffSubjectLibrarian:qSe,SectionTeaserCard:GSe,SectionTeaserHighlight:XSe,SectionTeaserList:e5e,SectionWrapper:Ju,SimpleCards:i6,SingleCheckbox:b6,SiteBrandBar:p6,SiteNotificationAlert:h5e,SmartLink:pt,StoryWithImage:E5e},Symbol.toStringTag,{value:"Module"})),zw={install(t){Object.entries(C5e).forEach(([e,n])=>{t.component(e,n)})}},A5e=En(t=>{console.log(`print external component: ${zw}`),t.vueApp.use(zw),console.log("plugin UCLALibraryWebsiteComponents is locked and loaded")});function O6(t,e=1e3){t.setAttribute("tabindex","-1"),t.focus(),setTimeout(()=>t.removeAttribute("tabindex"),e)}const L5e=new RegExp("^(a|select|input|button|textarea)","i"),b_={name:"VueSkipToSingle",props:{label:{type:String,default:"Skip to main content"},to:{type:String,default:"#main"}},emits:["focused"],methods:{handleFocusElement({target:t}){this.focusElement(t.getAttribute("href").substring(1))},focusElement(t){if(!t)return;const e=window.document.getElementById(t);return e?L5e.test(e.tagName.toLowerCase())?void e.focus():O6(e):void 0}}};b_.render=function(t,e,n,r,i,s){return m(),oe("a",{href:n.to,onClick:e[1]||(e[1]=Mr((...a)=>s.handleFocusElement&&s.handleFocusElement(...a),["prevent"])),onFocus:e[2]||(e[2]=a=>t.$emit("focused",!0)),onBlur:e[3]||(e[3]=a=>t.$emit("focused",!1)),class:"vue-skip-to__link"},[We(t.$slots,"default",{},()=>[tt(ye(n.label),1)])],40,["href"])};const R6={name:"VueSkipToList",components:{VueSkipToSingle:b_},props:{listLabel:{type:String,default:"Skip to"},to:{validator:function(t){return Array.isArray(t)&&t.every(({anchor:e,label:n})=>typeof e=="string"&&e.indexOf("#")===0&&typeof String(n)=="string")}}},emits:["focus-within"],methods:{handleKeydown({key:t,target:e}){const n=e.parentElement,r=/(ArrowUp|Up)/g.test(t)?n.previousElementSibling:n.nextElementSibling;if(!r)return;const i=r.getElementsByTagName("a");i.length&&i[0].focus()}}},I5e={class:"vue-skip-to__nav","aria-labelledby":"list-title"},M5e={id:"list-title"},D5e={class:"vue-skip-to__nav-list"};R6.render=function(t,e,n,r,i,s){const a=lt("VueSkipToSingle");return m(),oe("nav",I5e,[ae("span",M5e,ye(n.listLabel),1),ae("ul",D5e,[(m(!0),oe(we,null,Fe(n.to,o=>(m(),oe("li",{key:o.anchor,class:"vue-skip-to__nav-list-item",onKeydown:[e[2]||(e[2]=ta(Mr((...l)=>s.handleKeydown&&s.handleKeydown(...l),["prevent"]),["up"])),e[3]||(e[3]=ta(Mr((...l)=>s.handleKeydown&&s.handleKeydown(...l),["prevent"]),["down"]))]},[ae(a,{to:o.anchor,onFocused:e[1]||(e[1]=l=>t.$emit("focus-within",l)),"aria-label":o.ariaLabel||o.label},{default:Ie(()=>[tt(ye(o.label),1)]),_:2},1032,["to","aria-label"])],32))),128))])])};const N6={name:"VueSkipTo",props:{listLabel:{type:String,default:"Skip to"},label:{type:String,default:"Skip to main content"},to:{type:[String,Array],default:"#main"}},data:()=>({focused:!1}),mounted(){this.$route&&this.$watch("$route.path",()=>{this.$nextTick(()=>O6(this.$refs.skipTo))})},computed:{isList(){return Array.isArray(this.to)},comp(){return this.isList?R6:b_},props(){return this.isList?{listLabel:this.listLabel,to:this.to}:{label:this.label,to:this.to}}},methods:{focusWithin(t){this.focused=t}}};function P5e(t){t.component("VueSkipTo",N6)}N6.render=function(t,e,n,r,i,s){return m(),oe("div",{class:["vue-skip-to",{focused:i.focused}],ref:"skipTo"},[(m(),oe(Lt(s.comp),Xt({onFocused:s.focusWithin,onFocusWithin:s.focusWithin},s.props),null,16,["onFocused","onFocusWithin"]))],2)};const O5e=En(t=>{t.vueApp.use(P5e)});function B6(t){return t.filter(e=>Object.keys(e).length!==0)}const F6=vR("GlobalStore",{state:()=>({winHeight:0,winWidth:0,sTop:0,globals:{},header:{},footerPrimary:{},footerSock:{}}),getters:{},actions:{setWindowDimension(t,e){this.winHeight=e,this.winWidth=t},setSTop(t){this.sTop=t},async fetchGlobals(){var t;try{const{data:e}=await Hd("/api/fetchNitroStorageCraftGlobalData","$mN9zfMyD5F");if(e.value){const n=B6(((t=e.value)==null?void 0:t.globalSets)||[]),r=Object.fromEntries(n==null?void 0:n.map(i=>[i.handle,i]));this.globals=r}}catch(e){throw new Error(`Craft API error, trying to set globals. ${e}`)}},async fetchHeader(){try{const{data:t}=await Hd("/api/fetchNitroStorageCraftHeaderData","$Q14tNWp2rt");this.header=t.value}catch(t){throw new Error(`Craft API error, trying to set globals Header. ${t}`)}},async fetchFooterPrimary(){try{const{data:t}=await Hd("/api/fetchNitroStorageCraftFooterPrimaryData","$3eCXY7O7cO");this.footerPrimary=t.value}catch(t){throw new Error(`Craft API error, trying to set globals FooterPrimary. ${t}`)}},async fetchFooterSock(){try{const{data:t}=await Hd("/api/fetchNitroStorageCraftFooterSockData","$4rufppEYas");this.footerSock=t.value}catch(t){throw new Error(`Craft API error, trying to set globals FooterSockData. ${t}`)}}}});function Gw(t,e={}){const n={height:window.innerHeight,width:window.innerWidth};t.setWindowDimension(n.width,n.height)}function Yw(t,e={}){t.setSTop(window.pageYOffset||window.scrollY||document.body.scrollTop)}const R5e=En(t=>{const e=F6(t.$pinia);window.addEventListener("resize",n=>{Gw(e,n)}),window.addEventListener("scroll",n=>{Yw(e,n)}),Gw(e),Yw(e)}),N5e=En(t=>{const e=Dl(),{$graphql:n}=Pt();n.default.setHeader("X-Craft-Token",e.query.token)});async function B5e(t="*",e=0,n,r){const i=ni();if(i.public.esReadKey===""||i.public.esURL===""||i.public.esAlias==="")return;console.log("keyword:"+t),console.log("Hello from dataapi",JSON.stringify({from:e,indices_boost:[{[i.public.esTempIndex]:1.4},{[i.public.libguidesEsIndex]:1.3}],query:{bool:{must:[{query_string:{query:"("+t+" AND NOT(sectionHandle:event)) OR ("+t+" AND startDateWithTime:[now TO *] AND sectionHandle:event)",fields:["title^4","summary^3","text^3","richText^2"],fuzziness:"auto"}}],filter:[...Kw(n,r)]}}}));const a=await(await fetch(`${i.public.esURL}/_alias/${i.public.esAlias}`,{headers:{Authorization:`ApiKey ${i.public.esReadKey}`,"Content-Type":"application/json"}})).json(),o=Object.keys(a)[0].includes("libguides")?Object.keys(a)[1]:Object.keys(a)[0],l=Object.keys(a)[1].includes("libguides")?Object.keys(a)[1]:Object.keys(a)[0];return await(await fetch(`${i.public.esURL}/${i.public.esAlias}/_search`,{headers:{Authorization:`ApiKey ${i.public.esReadKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({from:e,indices_boost:[{[o]:3},{[l]:1.3}],query:{bool:{must:[{query_string:{query:"("+t+" AND NOT(sectionHandle:event)) OR ("+t+" AND startDateWithTime:[now TO *] AND sectionHandle:event)",fields:["title^4","summary^3","text^3","fullText^2","richText^2","sectionHandle","sectionHandleDisplayName"],fuzziness:"auto"}}],filter:[...Kw(n,r)]}}})})).json()}function Kw(t,e){if(console.log("In parseFilterQuerySiteSearch"),!t||t.length===0)return[];const n=[];for(const r in t)if(Array.isArray(t[r])&&t[r].length>0){const i={terms:{}},s=[];for(const a of t[r]){const o=e.find(l=>l.key===a);s.push(o&&o.terms)}i.terms[r]=s.flat(),n.push(i)}return n}async function F5e(){const t=ni();return t.public.esReadKey===""||t.public.esURL===""||t.public.esAlias===""?void 0:await(await fetch(`${t.public.esURL}/${t.public.esAlias}/_mapping`,{headers:{Authorization:`ApiKey ${t.public.esReadKey}`}})).json()}async function U5e(t){const e=ni();return!t||t.length===0?void 0:(await(await fetch(`${e.public.esURL}/${e.public.esAlias}/_search`,{headers:{Authorization:`ApiKey ${e.public.esReadKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({size:0,query:{match_all:{}},aggs:{...mp(t)}})})).json()).aggregations}async function j5e(t,e){const n=ni();return!t||t.length===0?void 0:(await(await fetch(`${n.public.esURL}/${n.public.esAlias}/_search`,{headers:{Authorization:`ApiKey ${n.public.esReadKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({size:0,query:{query_string:{query:e,default_field:"sectionHandle"}},aggs:{...mp(t)}})})).json()).aggregations}async function $5e(t="*:*",e,n,r,i,s,a=["*"],o=[],l=[]){console.log("In data api keywordsearchwithfilters");const u=ni();if(u.public.esReadKey===""||u.public.esURL===""||u.public.esAlias==="")return;console.log("keyword:"+t),console.log("filters:"+r),console.log("sort:"+i);const c=JSON.stringify({_source:[...a],query:{bool:{must:[{query_string:{query:t,fields:[...e],fuzziness:"auto"}},...Qw(n),...Zw(r),...l]}},...Xw(i,s),aggs:{...mp(o)}});console.log("this is the query: "+c);const p=await(await fetch(`${u.public.esURL}/_alias/${u.public.esAlias}`,{headers:{Authorization:`ApiKey ${u.public.esReadKey}`,"Content-Type":"application/json"}})).json(),f=Object.keys(p)[0].includes("libguides")?Object.keys(p)[1]:Object.keys(p)[0];return await(await fetch(`${u.public.esURL}/${f}/_search`,{headers:{Authorization:`ApiKey ${u.public.esReadKey}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({size:"1000",_source:[...a],query:{bool:{must:[{query_string:{query:t,fields:[...e],fuzziness:"auto"}},...Qw(n),...Zw(r),...l]}},...Xw(i,s),aggs:{...mp(o)}})})).json()}function Xw(t,e="asc"){if(!t||t==="")return{};const n={};return n.sort=[],n.sort[0]={},n.sort[0][t]={order:e},n}function Qw(t){if(t&&t==="")return[];const e=[],n={};return n.query_string={},n.query_string.query=t,e.push(n),e}function Zw(t){if(!t||t.length===0)return[];const e=[];for(const n in t)if(Array.isArray(t[n])&&t[n].length>0){const r={terms:{}};r.terms[n]=t[n],e.push(r)}else if(!Array.isArray(t[n])&&t[n]!==""){const r={term:{}};r.term[n]=t[n],e.push(r)}return e}function mp(t){const e={};for(const n of t)e[n.label]={terms:{field:n.esFieldName,size:25}};return e}const H5e=En(t=>({provide:{dataApi:{getMapping:F5e,siteSearch:B5e,keywordSearchWithFilters:$5e,getAggregations:j5e,getAggregationsForSiteSearch:U5e}}}));function V5e(){const t=document.querySelectorAll(".section-header2, .section-header3"),e=[];return t.forEach(n=>{n.textContent!=="More Information"&&e.push(n.textContent)}),e}const q5e=En(()=>({provide:{getHeaders:{getHeadersMethod:V5e}}}));async function W5e(t=""){console.log("event ID:"+t);const e=await $fetch(ni().public.libcalProxy+"event/"+t),r=new DOMParser().parseFromString(e,"text/html");if(r.querySelector("input[name='fid']")){const i=r.querySelector("input[name='fid']").getAttribute("value");return console.log(i),console.log(r),await z5e(i)}else return console.log("there is no formid on the page"),[]}async function z5e(t){return console.log("you are in fetchformdata:"+t),await $fetch(ni().public.libcalProxy+`api/1.1/events/form/${t}`)}const G5e=En(()=>({provide:{scrapeApi:{scrapeFormId:W5e}}}));var Cf={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Globals"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"globalSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"dataId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"handle"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"askALibrarian_GlobalSet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"askALibrarianTitle"},name:{kind:"Name",value:"titleGeneral"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"askALibrarianText"},name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonUrl"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"libraryAlert_GlobalSet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"title"},name:{kind:"Name",value:"entryTitle"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"text"},name:{kind:"Name",value:"richTextAlertBox"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:418}};Cf.loc.source={body:`query Globals {
    globalSets {
        dataId: id
        handle

        ... on askALibrarian_GlobalSet {
            askALibrarianTitle: titleGeneral
            askALibrarianText: summary
            buttonUrl {
                buttonText
                buttonUrl
            }
        }

        ... on libraryAlert_GlobalSet {
            title: entryTitle
            text: richTextAlertBox
        }
    }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function vh(t,e){if(t.kind==="FragmentSpread")e.add(t.name.value);else if(t.kind==="VariableDefinition"){var n=t.type;n.kind==="NamedType"&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(r){vh(r,e)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(r){vh(r,e)}),t.definitions&&t.definitions.forEach(function(r){vh(r,e)})}var qy={};(function(){Cf.definitions.forEach(function(e){if(e.name){var n=new Set;vh(e,n),qy[e.name.value]=n}})})();function Jw(t,e){for(var n=0;n<t.definitions.length;n++){var r=t.definitions[n];if(r.name&&r.name.value==e)return r}}function Y5e(t,e){var n={kind:t.kind,definitions:[Jw(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var r=qy[e]||new Set,i=new Set,s=new Set;for(r.forEach(function(o){s.add(o)});s.size>0;){var a=s;s=new Set,a.forEach(function(o){if(!i.has(o)){i.add(o);var l=qy[o]||new Set;l.forEach(function(u){s.add(u)})}})}return i.forEach(function(o){var l=Jw(t,o);l&&n.definitions.push(l)}),n}Y5e(Cf,"Globals");const K5e=En(t=>{const{$graphql:e}=Pt(),n=F6();return{provide:{alerts:async()=>{const i=await e.default.request(Cf);if(i){const s=B6(i.globalSets||[]),a=Object.fromEntries(s==null?void 0:s.map(o=>[o.handle,o]));n.globals=a}}}}}),X5e=[P9,R9,nR,iR,aR,oR,lR,cR,DR,PR,OR,jR,HN,A5e,O5e,R5e,N5e,H5e,q5e,G5e,K5e];function Q5e(t,e){const n=e/t*100;return 2/Math.PI*100*Math.atan(n/50)}function Z5e(t={}){const{duration:e=2e3,throttle:n=200,hideDelay:r=500,resetDelay:i=400}=t,s=t.estimatedProgress||Q5e,a=Pt(),o=de(0),l=de(!1),u=de(!1);let c=!1,d,p,f,y;const b=()=>{u.value=!1,S(0)};function S(M=0){if(!a.isHydrating){if(M>=100)return x();L(),o.value=M<0?0:M,n?p=setTimeout(()=>{l.value=!0,A()},n):(l.value=!0,A())}}function E(){f=setTimeout(()=>{l.value=!1,y=setTimeout(()=>{o.value=0},i)},r)}function x(M={}){o.value=100,c=!0,L(),k(),M.error&&(u.value=!0),M.force?(o.value=0,l.value=!1):E()}function k(){clearTimeout(f),clearTimeout(y)}function L(){clearTimeout(p),cancelAnimationFrame(d)}function A(){c=!1;let M;function q(j){if(c)return;M??(M=j);const W=j-M;o.value=Math.max(0,Math.min(100,s(e,W))),d=requestAnimationFrame(q)}d=requestAnimationFrame(q)}let D=()=>{};{const M=a.hook("page:loading:start",()=>{b()}),q=a.hook("page:loading:end",()=>{x()}),j=a.hook("vue:error",()=>x());D=()=>{j(),M(),q(),L()}}return{_cleanup:D,progress:U(()=>o.value),isLoading:U(()=>l.value),error:U(()=>u.value),start:b,set:S,finish:x,clear:L}}function J5e(t={}){const e=Pt(),n=e._loadingIndicator=e._loadingIndicator||Z5e(t);return aa()&&(e._loadingIndicatorDeps=e._loadingIndicatorDeps||0,e._loadingIndicatorDeps++,Ga(()=>{e._loadingIndicatorDeps--,e._loadingIndicatorDeps===0&&(n._cleanup(),delete e._loadingIndicator)})),n}const exe=Be({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(t,{slots:e,expose:n}){const{progress:r,isLoading:i,error:s,start:a,finish:o,clear:l}=J5e({duration:t.duration,throttle:t.throttle,estimatedProgress:t.estimatedProgress});return n({progress:r,isLoading:i,error:s,start:a,finish:o,clear:l}),()=>sn("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${t.height}px`,opacity:i.value?1:0,background:s.value?t.errorColor:t.color||void 0,backgroundSize:`${100/r.value*100}% auto`,transform:`scaleX(${r.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},e)}}),txe=Be({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const e=t.renderKey,n=t.route,r={};for(const i in t.route)Object.defineProperty(r,i,{get:()=>e===t.renderKey?t.route[i]:n[i]});return Dn(Oc,os(r)),()=>sn(t.vnode,{ref:t.vnodeRef})}}),nxe=Be({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const i=Pt(),s=de(),a=Et(Oc,null);let o;r({pageRef:s});const l=Et(VS,null);let u;const c=i.deferHydration();if(i.isHydrating){const d=i.hooks.hookOnce("app:error",c);Qn().beforeEach(d)}return t.pageKey&&St(()=>t.pageKey,(d,p)=>{d!==p&&i.callHook("page:loading:start")}),()=>sn(h5,{name:t.name,route:t.route,...e},{default:d=>{const p=ixe(a,d.route,d.Component),f=a&&a.matched.length===d.route.matched.length;if(!d.Component){if(u&&!f)return u;c();return}if(u&&l&&!l.isCurrent(d.route))return u;if(p&&a&&(!l||l!=null&&l.isCurrent(a)))return f?u:null;const y=Ng(d,t.pageKey);!i.isHydrating&&!sxe(a,d.route,d.Component)&&o===y&&i.callHook("page:loading:end"),o=y;const b=!!(t.transition??d.route.meta.pageTransition??Sg),S=b&&rxe([t.transition,d.route.meta.pageTransition,Sg,{onAfterLeave:()=>{i.callHook("page:transition:finish",d.Component)}}].filter(Boolean)),E=t.keepalive??d.route.meta.keepalive??sP;return u=p5(Ti,b&&S,$O(E,sn(av,{suspensible:!0,onPending:()=>i.callHook("page:start",d.Component),onResolve:()=>{on(()=>i.callHook("page:finish",d.Component).then(()=>i.callHook("page:loading:end")).finally(c))}},{default:()=>{const x=sn(txe,{key:y||void 0,vnode:n.default?sn(we,void 0,n.default(d)):d.Component,route:d.route,renderKey:y||void 0,trackRootNodes:b,vnodeRef:s});return E&&(x.type.name=d.Component.type.name||d.Component.type.__name||"RouteProvider"),x}}))).default(),u}})}});function rxe(t){const e=t.map(n=>({...n,onAfterLeave:n.onAfterLeave?_v(n.onAfterLeave):void 0}));return $S(...e)}function ixe(t,e,n){if(!t)return!1;const r=e.matched.findIndex(i=>{var s;return((s=i.components)==null?void 0:s.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((i,s)=>{var a,o,l;return((a=i.components)==null?void 0:a.default)!==((l=(o=t.matched[s])==null?void 0:o.components)==null?void 0:l.default)})||n&&Ng({route:e,Component:n})!==Ng({route:t,Component:n})}function sxe(t,e,n){return t?e.matched.findIndex(i=>{var s;return((s=i.components)==null?void 0:s.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}const axe=Be({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(t,e){const n=await Ws[t.name]().then(r=>r.default||r);return()=>sn(n,t.layoutProps,e.slots)}}),U6=Be({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(t,e){const n=Pt(),r=Et(Oc),i=r===Dl()?ca():r,s=U(()=>{let l=$(t.name)??i.meta.layout??"default";return l&&!(l in Ws)&&t.fallback&&(l=$(t.fallback)),l}),a=de();e.expose({layoutRef:a});const o=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",o);Qn().beforeEach(l)}return()=>{const l=s.value&&s.value in Ws,u=i.meta.layoutTransition??iP;return p5(Ti,l&&u,{default:()=>sn(av,{suspensible:!0,onResolve:()=>{on(o)}},{default:()=>sn(oxe,{layoutProps:Xt(e.attrs,{ref:a}),key:s.value||void 0,name:s.value,shouldProvide:!t.name,hasTransition:!!u},e.slots)})}).default()}}}),oxe=Be({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,e){const n=t.name;return t.shouldProvide&&Dn(VS,{isCurrent:r=>n===(r.meta.layout??"default")}),()=>{var r,i;return!n||typeof n=="string"&&!(n in Ws)?(i=(r=e.slots).default)==null?void 0:i.call(r):sn(axe,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}});function lxe(){Dn("theme","")}const uxe={__name:"app",setup(t){return lxe(),SR(),(e,n)=>{const r=exe,i=lt("vue-skip-to"),s=nxe,a=U6;return m(),T("div",null,[ae(r,{color:"#ffe800",height:"3"}),ae(i,{to:"#main",label:"Skip to main content"}),ae(a,null,{default:Ie(()=>[ae(s)]),_:1})])}}},j6=t=>(Ot("data-v-69228063"),t=t(),Rt(),t),cxe={id:"main",class:"page page-error"},dxe={class:"error"},hxe={key:0},pxe=j6(()=>I("br",null,null,-1)),fxe={key:0,class:"error-title"},mxe={key:1,class:"error-title"},gxe=j6(()=>I("ul",null,[I("li",null,[I("a",{href:"https://library.ucla.edu"},"UCLA Library Home")]),I("li",null,[I("a",{href:"https://library.ucla.edu/help/research-help"},"Research Help")]),I("li",null,[I("a",{href:"https://library.ucla.edu/help/services-resources/accessibility-resources"},"Accessibility Resources")])],-1)),yxe=Be({__name:"error",props:{error:Object},setup(t){const e=U(()=>!1);return(n,r)=>{const i=LR,s=U6;return m(),oe(s,null,{default:Ie(()=>{var a,o;return[I("main",cxe,[I("p",dxe,ye((a=t.error)==null?void 0:a.statusCode),1),$(e)?(m(),T("pre",hxe,[tt("        "+ye((o=t.error)==null?void 0:o.message)+`
        `,1),pxe,tt(`
        `+ye(t.error)+`
      `,1)])):P("",!0),ae($(vc)),ae($(ir),{class:"error-text"},{default:Ie(()=>{var l;return[((l=t.error)==null?void 0:l.statusCode)===404?(m(),T("h1",fxe," Page not found ")):(m(),T("h1",mxe," An error occurred ")),I("p",null,[tt(" We cant find the page you are looking for, but we're here to help. "),ae(i,{to:"/"},{default:Ie(()=>[tt(" Go back to home page ")]),_:1}),tt(" or try these regularly visited links: ")]),gxe]}),_:1})])]}),_:1})}}}),vxe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},_xe=vxe(yxe,[["__scopeId","data-v-69228063"]]),bxe={key:0},ek={__name:"nuxt-root",setup(t){const e=()=>null,n=Pt(),r=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",r);Qn().beforeEach(l)}const i=!1;Dn(Oc,Dl()),n.hooks.callHookWith(l=>l.map(u=>u()),"vue:setup");const s=Lp(),a=!1;Hk((l,u,c)=>{if(n.hooks.callHook("vue:error",l,u,c).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),jP(l)&&(l.fatal||l.unhandled))return n.runWithContext(()=>Mo(l)),!1});const o=!1;return(l,u)=>(m(),oe(av,{onResolve:$(r)},{default:Ie(()=>[$(a)?(m(),T("div",bxe)):$(s)?(m(),oe($(_xe),{key:1,error:$(s)},null,8,["error"])):$(o)?(m(),oe($(e),{key:2,context:$(o)},null,8,["context"])):$(i)?(m(),oe(Lt($(i)),{key:3})):(m(),oe($(uxe),{key:4}))]),_:1},8,["onResolve"]))}};let tk;{let t;tk=async function(){var a,o;if(t)return t;const r=!!((a=window.__NUXT__)!=null&&a.serverRendered||((o=document.getElementById("__NUXT_DATA__"))==null?void 0:o.dataset.ssr)==="true")?JD(ek):ZD(ek),i=dP({vueApp:r});async function s(l){await i.callHook("app:error",l),i.payload.error=i.payload.error||Rc(l)}r.config.errorHandler=s;try{await fP(i,X5e)}catch(l){s(l)}try{await i.hooks.callHook("app:created",r),await i.hooks.callHook("app:beforeMount",r),r.mount(uP),await i.hooks.callHook("app:mounted",r),await on()}catch(l){s(l)}return r.config.errorHandler===s&&(r.config.errorHandler=void 0),r},t=tk().catch(e=>{throw console.error("Error while mounting app:",e),e})}const Txe=Object.freeze(Object.defineProperty({__proto__:null,default:_C},Symbol.toStringTag,{value:"Module"})),wxe=Object.freeze(Object.defineProperty({__proto__:null,default:s6},Symbol.toStringTag,{value:"Module"}));export{ry as $,bR as A,Qn as B,Uwe as C,Owe as D,Ske as E,vc as F,Ju as G,tt as H,ye as I,RN as J,NN as K,Ht as L,ir as M,lt as N,we as O,Fe as P,Zke as Q,pSe as R,Ot as S,Rt as T,YE as U,Dn as V,Et as W,ni as X,Jj as Y,Ij as Z,vxe as _,St as a,e5e as a0,Lv as a1,Hde as a2,USe as a3,F6 as a4,We as a5,E1e as a6,Xt as a7,h5e as a8,o6 as a9,l6 as aa,tke as ab,aSe as ac,qg as ad,XSe as ae,kSe as af,i6 as ag,Be as ah,JN as ai,qSe as aj,GSe as ak,zp as al,LR as am,Bn as an,Fn as ao,fwe as ap,a2e as aq,nSe as ar,FY as as,J4 as at,NSe as au,m_ as av,lQ as aw,ISe as ax,wC as ay,uSe as az,aD as b,sD as c,Ig as d,m as e,T as f,Ml as g,I as h,xxe as i,Yi as j,Dl as k,Sxe as l,Rc as m,Oe as n,Mc as o,U as p,ae as q,de as r,$ as s,oe as t,Pt as u,P as v,tD as w,Ie as x,un as y,hi as z};
