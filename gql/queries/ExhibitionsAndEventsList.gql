#import "~/gql/fragments/Image"

query EventsExhibitionsList {
  entry(section: "listingEventsExhibitions") {
    ... on listingEventsExhibitions_listingEventsExhibitions_Entry {
      title
      summary
      featuredEvents {
        category
        title
        summary
        uri
        eventType {
          title
        }
        eventDescription
        startDate @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
        endDate @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
        startDateWithTime @formatDateTime(format: "Y-m-d\\TH:i", timezone: "America/Los_Angeles")
        endDateWithTime @formatDateTime(format: "Y-m-d\\TH:i", timezone: "America/Los_Angeles")
        workshopOrEventSeriesType
        typeHandle
        associatedLocations {
          title
          uri
        }
        heroImage {
          ... on heroImage_heroImage_BlockType {
            id
            image {
              ...Image
            }
            altText
          }
        }
      }
    }
  }
  events: entries(section: "event", orderBy:"startDateWithTime ASC", startDateWithTime: ">= now") {
    title
    to: uri
    eventDescription
    eventType {
        title
    }
    startDate @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
    endDate @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
    startDateWithTime @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
    endDateWithTime @formatDateTime(format: "Y-m-d\\TH:i:s", timezone: "America/Los_Angeles")
    workshopOrEventSeriesType
    associatedLocations {
      title
    }
    heroImage {
      ... on heroImage_heroImage_BlockType {
        id
        image {
          ...Image
        }
        altText
      }
    }
  }
} 
