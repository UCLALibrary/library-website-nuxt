#import "~/gql/fragments/collections/defaultFpb"
#import "~/gql/fragments/Image"

query LocationDetail($slug: [String!]) {
    entry(section: "location", slug: $slug) {
        ... on location_location_Entry {
            id
            locationType
            title
            heroImage {
                image {
                    ...Image
                }
            }
            summary
            email
            phoneNumber
            address {
                id
                addressLine1
                addressLine2
                addressCity
                addressState
                addressZipCode
                addressCountry
            }
            howToGetHere
            amenities(label: true)
            space {
                title
                summary
                mediatedBooking
                mediatorEmail
                reservationUrl
                spaceType {
                    id
                    title
                }
                spaceAmenities {
                    id
                    title
                }
                associatedLocations {
                    id
                    to: slug
                    title
                }
            }
            resourceServiceWorkshop {
                id
                text: summary
                title
                slug
                uri
                researchGuideUrl
                type: serviceOrResourceType
            }
            campusMapId
            libcalLocationIdForHours
            staffMember {
                id
                email
                to: uri
            }
            exhibitsAndEvents(orderBy: "dateUpdated desc", limit: 3) {
                id
                uri
                title
                summary
                dateUpdated
                heroImage {
                    ... on heroImage_heroImage_BlockType {
                        id
                        image {
                            ...Image
                        }
                    }
                }
                date {
                    startDate
                    endDate
                }
                seriesDate {
                    startDate
                    endDate
                }
                associatedLocations {
                    id
                    title
                    to: uri
                }
            }
            endowment(orderBy: "dateUpdated desc", limit: 3) {
                id
                uri
                title
                summary
                dateUpdated
                heroImage {
                    ... on heroImage_heroImage_BlockType {
                        id
                        image {
                            ...Image
                        }
                    }
                }
            }
            associatedArticles(orderBy: "dateUpdated desc", limit: 3) {
                id
                uri
                slug
                title
                summary
                articleType
                author: staffMember {
                    id
                    slug
                    title
                }
                articleType
                startDate: dateUpdated
                endDate: dateUpdated
                associatedLocations {
                    id
                    title
                }
                heroImage {
                    ... on heroImage_heroImage_BlockType {
                        id
                        image {
                            ...Image
                        }
                    }
                }
            }
            ...DefaultFpb
        }
    }
}
