(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{345:function(e,t,n){"use strict";n(26),n(73);t.a=function(e){return e?e.replace(/(<([^>]+)>)/gi,"").replace(/"/gi,""):"The UCLA Library creates a vibrant nexus of ideas, collections, expertise, and spaces in which users illuminate solutions for local and global challenges. We constantly evolve to advance UCLAâ€™s research, education, and public service mission by empowering and inspiring communities of scholars and learners to discover, access, create, share, and preserve knowledge."}},346:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssetInterface"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"src"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"transform"},value:{kind:"StringValue",value:"fullscreen",block:!1}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[{kind:"Argument",name:{kind:"Name",value:"transform"},value:{kind:"StringValue",value:"fullscreen",block:!1}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[{kind:"Argument",name:{kind:"Name",value:"transform"},value:{kind:"StringValue",value:"fullscreen",block:!1}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"srcset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sizes"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"375",block:!1},{kind:"StringValue",value:"960",block:!1},{kind:"StringValue",value:"1280",block:!1},{kind:"StringValue",value:"1920",block:!1},{kind:"StringValue",value:"2560",block:!1}]}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"alt"},name:{kind:"Name",value:"altText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"focalPoint"},arguments:[],directives:[]}]}}],loc:{start:0,end:243}};n.loc.source={body:'fragment Image on AssetInterface {\n    id\n    src: url(transform: "fullscreen")\n    height(transform: "fullscreen")\n    width(transform: "fullscreen")\n    srcset(sizes: ["375", "960", "1280", "1920", "2560"])\n    alt: altText\n    focalPoint\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var l={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),l[e.name.value]=t}})),e.exports=n,e.exports.Image=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=l[t]||new Set,c=new Set,d=new Set;for(r.forEach((function(e){d.add(e)}));d.size>0;){var m=d;d=new Set,m.forEach((function(e){c.has(e)||(c.add(e),(l[e]||new Set).forEach((function(e){d.add(e)})))}))}return c.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(n,"Image")},369:function(e,t,n){"use strict";t.a={serviceOrResources:{searchFields:["title^6","summary^6","text^6"],resultFields:["title","text","summary","externalResourceUrl","sectionHandle","illustrationsResourcesAndServices","uri","type"],sortField:"title.keyword"},staff:{searchFields:["nameFirst^6","nameLast^6","jobTitle^5","departments.title^5","email^4","academicDepartments.title^3","topics.title^3","publications^3","biography^2","alternativeName^2"],filters:[{label:"Location",esFieldName:"locations.title.keyword",inputType:"checkbox"},{label:"Department",esFieldName:"departments.title.keyword",inputType:"checkbox"},{label:"Subject Librarian",esFieldName:"subjectLibrarian.keyword",inputType:"single-checkbox"}],resultFields:["nameFirst","nameLast","alternativeName","departments","academicDepartments","locations","jobTitle","email","phone","consultation","uri","image"],sortField:"nameLast.keyword"},exploreCollection:{searchFields:["title^3","text^3","richTextSimplified^2","subjectAreas.title^1"],filters:[{label:"PhysicalDigital",esFieldName:"physicalDigital.keyword",inputType:"checkbox"},{label:"Subject Area",esFieldName:"subjectAreas.title.keyword",inputType:"checkbox"}],resultFields:["title","text","physicalDigital","uri","heroImage"],sortField:"title.keyword"},newsIndex:{searchFields:["title^3","text^3","contributors*^2"],filters:[{label:"Location",esFieldName:"locations.title.keyword",inputType:"checkbox"},{label:"Category",esFieldName:"category.title.keyword",inputType:"checkbox"}],resultFields:["title","text","articleType","uri","heroImage","postDate","category","contributors"],sortField:"postDate"},endowmentsList:{searchFields:["title^3","text^3","alternativeName*^2","endowmentDescription^2","subjectAreas*","donorNames"],filters:[{label:"Subject Area",esFieldName:"subjectAreas.title.keyword",inputType:"checkbox"},{label:"Donors",esFieldName:"donorNames.keyword",inputType:"checkbox"}],resultFields:["title","text","alternativeName","uri","heroImage","donorNames"],sortField:"title.keyword"},eventsExhibitionsList:{searchFields:["title^3","eventDescription^3","startDateWithTime^2","endDateWithTime^2"],filters:[{label:"Location",esFieldName:"subjectAreas.title.keyword",inputType:"checkbox"},{label:"Date Range",esFieldNameArray:["startDateWithTime","endDateWithTime"],inputType:"date"}],resultFields:["title","eventDescription","startDateWithTime","endDateWithTime","uri","image","eventType","associatedLocations"],sortField:"startDateWithTime"}}},383:function(e,t,n){"use strict";var r=n(32);n(10),n(52),n(51),n(22),n(54),n(39),n(26),n(27),n(53),n(55),n(38);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,l=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw l}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}t.a=function(e,t){var n,o=[],c=l(t);try{for(c.s();!(n=c.n()).done;){var d=n.value,m={label:d.label,esFieldName:d.esFieldName,inputType:d.inputType,items:e&&e[d.label]&&e[d.label].buckets.reduce((function(e,t){return[].concat(Object(r.a)(e),[{name:t.key}])}),[])||[]};o.push(m)}}catch(e){c.e(e)}finally{c.f()}return o}},394:function(e,t,n){var content=n(479);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("1ced540e",content,!0,{sourceMap:!1})},477:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ArticleList"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entries"},arguments:[{kind:"Argument",name:{kind:"Name",value:"section"},value:{kind:"StringValue",value:"article",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"StringValue",value:"postDate DESC",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"article_article_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"to"},name:{kind:"Name",value:"uri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalResourceUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heroImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"heroImage_heroImage_BlockType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"description"},name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"authors"},name:{kind:"Name",value:"staffMember"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"postDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"articleCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uri"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"entry"},arguments:[{kind:"Argument",name:{kind:"Name",value:"section"},value:{kind:"StringValue",value:"listingNews",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"listingNews_listingNews_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"text"},name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"listingNews_listingNews_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"featuredNews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"article_article_Entry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"articleCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uri"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"text"},name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"to"},name:{kind:"Name",value:"uri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"externalResourceUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heroImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"heroImage_heroImage_BlockType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Image"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"postDate"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1210}};r.loc.source={body:'#import "~/gql/fragments/Image"\n\nquery ArticleList {\n  entries(\n    section: "article"\n    orderBy: "postDate DESC"\n  ) {\n    ... on article_article_Entry {\n      title\n      to: uri\n      externalResourceUrl\n      heroImage {\n        ... on heroImage_heroImage_BlockType {\n          id\n          image {\n            ...Image\n          }\n        }\n      }\n      description: summary\n      authors: staffMember {\n        title\n      }\n      date: postDate\n      articleCategories {\n        id\n        title\n        uri\n      }\n    }\n  }\n\n  entry(section: "listingNews") {\n    ... on listingNews_listingNews_Entry {\n      title\n      text: summary\n      ... on listingNews_listingNews_Entry {\n        featuredNews {\n          ... on article_article_Entry {\n            title\n            articleCategories {\n              id\n              title\n              uri\n            }\n            text: summary\n            to: uri\n            externalResourceUrl\n            heroImage {\n              ... on heroImage_heroImage_BlockType {\n                id\n                image {\n                  ...Image\n                }\n              }\n            }\n            postDate\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var l={};function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}r.definitions=r.definitions.concat(n(346).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!l[t]&&(l[t]=!0,!0)})));var c={};function d(e,t){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==t)return element}}r.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),c[e.name.value]=t}})),e.exports=r,e.exports.ArticleList=function(e,t){var n={kind:e.kind,definitions:[d(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=c[t]||new Set,l=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var m=o;o=new Set,m.forEach((function(e){l.has(e)||(l.add(e),(c[e]||new Set).forEach((function(e){o.add(e)})))}))}return l.forEach((function(t){var r=d(e,t);r&&n.definitions.push(r)})),n}(r,"ArticleList")},478:function(e,t,n){"use strict";n(394)},479:function(e,t,n){var r=n(49)(!1);r.push([e.i,".page-news .search-margin[data-v-ce47d1fc]{margin:var(--space-2xl) auto}",""]),e.exports=r},602:function(e,t,n){"use strict";n.r(t);n(30),n(27),n(29),n(42),n(43),n(22),n(54),n(39),n(26),n(53),n(55),n(38);var r=n(12),l=n(2),o=(n(37),n(51),n(52),n(10),n(28),n(33),n(347)),c=n.n(o),d=n(378),m=n(345),f=n(477),v=n.n(f),h=n(383),k=n(369);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw l}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var F={asyncData:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$graphql,console.log("Asysncdata Hook  news list"),t.next=4,n.default.request(v.a);case 4:return data=t.sent,t.abrupt("return",{page:c()(data,"entry",{}),news:c()(data,"entries",[])});case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{page:{},news:[],hits:[],title:"",noResultsFound:!1,searchFilters:[],searchGenericQuery:{queryText:this.$route.query.q||"",queryFilters:this.$route.query.filters&&JSON.parse(this.$route.query.filters)||{}}}},fetch:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var data,n,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Fetch hook  news index "),e.news=[],e.hits=[],console.log("query filter has values:"+e.queryFilterHasValues()),!(e.$route.query.q&&""!==e.$route.query.q||e.$route.query.filters&&e.queryFilterHasValues())){t.next=24;break}if(e.page.title){t.next=12;break}return t.next=8,e.$graphql.default.request(v.a);case 8:data=t.sent,console.log("data for masthead:"+data),e.page.title=c()(data,"entry.title",""),e.page.text=c()(data,"entry.text","");case 12:return n=e.$route.query.q||"*",console.log("in router query in asyc data"),t.next=16,e.$dataApi.keywordSearchWithFilters(n,k.a.newsIndex.searchFields,"sectionHandle:article",JSON.parse(e.$route.query.filters)||{},k.a.newsIndex.sortField,k.a.newsIndex.resultFields,k.a.newsIndex.filters);case 16:r=t.sent,console.log("getsearchdata method:"+JSON.stringify(r)),e.news=[],e.hits=[],r&&r.hits&&r.hits.total.value>0?(e.hits=r.hits.hits,e.noResultsFound=!1,e.news=[]):(e.noResultsFound=!0,e.hits=[],e.news=[]),e.searchGenericQuery={queryText:e.$route.query.q||"",queryFilters:e.$route.query.filters&&JSON.parse(e.$route.query.filters)||{}},t.next=31;break;case 24:return e.hits=[],e.noResultsFound=!1,t.next=28,e.$graphql.default.request(v.a);case 28:l=t.sent,e.page=c()(l,"entry",{}),e.news=c()(l,"entries",[]);case 31:case"end":return t.stop()}}),t)})))()},head:function(){return{title:this.page?this.page.title:"... loading",meta:[{hid:"description",name:"description",content:Object(m.a)(this.page.text)}]}},computed:{parsedFeaturedNews:function(){return this.page.featuredNews.map((function(e){return S(S({},e),{},{to:null!=e.externalResourceUrl?c()(e,"externalResourceUrl",""):"/".concat(e.to),image:c()(e,"heroImage[0].image[0]",null),category:c()(e,"articleCategories[0].title",""),dateCreated:c()(e,"postDate",""),byline:c()(e,"articleStaff",[]),bylineOne:c()(e,"articleStaff[0].title",""),bylineTwo:c()(e,"postDate","")})}))},parsedBannerHeader:function(){return this.parsedFeaturedNews[0]},parsedSectionHighlight:function(){return this.parsedFeaturedNews.slice(1,3).map((function(e){return S(S({},e),{},{bylineTwo:null!=e.bylineTwo?Object(d.a)(new Date(e.bylineTwo),"MMMM d, yyyy"):""})}))},parsedNewsList:function(){var e=this;return this.news.map((function(t){return S(S({},t),{},{to:null!=t.externalResourceUrl?c()(t,"externalResourceUrl",""):"/".concat(t.to),image:c()(t,"heroImage[0].image[0]",null),staffName:t.fullName?"".concat(t.fullName):null,category:e.parseArticleCategory(t.articleCategories)})}))},parsedDate:function(){return Object(d.a)(new Date(this.news.postDate),"MMMM d, Y")},parsedByline:function(){return(this.news.contributors||[]).map((function(e){return"".concat(e.byline," ").concat(e.title||e.staffMember[0].title)})).map((function(e){return e}))},parseHitsResults:function(){return this.parseHits(this.hits)}},watch:{"$route.query":"$fetch","$route.query.q":function(e){console.log("watching querytEXT:"+e)},"$route.query.filters":function(e){console.log("watching filters:"+e)}},mounted:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("In mounted"),e.setFilters();case 2:case"end":return t.stop()}}),t)})))()},methods:{parseArticleCategory:function(e){if(!e||0==e.length)return"";var t="";return e.forEach((function(e){t=t+e.title+", "})),t.slice(0,-2)},queryFilterHasValues:function(){if(!this.$route.query.filters)return!1;var e=JSON.parse(this.$route.query.filters);console.log("is route query exixts:"+JSON.stringify(e));var t,n=y(k.a.newsIndex.filters);try{for(n.s();!(t=n.n()).done;){var filter=t.value;if(Array.isArray(e[filter.esFieldName])&&e[filter.esFieldName].length>0)return console.log("why is this true is Array: "+e[filter.esFieldName]),!0;if(e[filter.esFieldName]&&!Array.isArray(e[filter.esFieldName])&&""!=e[filter.esFieldName])return console.log("why is this truenot Array: "+e[filter.esFieldName]+"config filter name is "+filter.esFieldName),!0}}catch(e){n.e(e)}finally{n.f()}return!1},setFilters:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$dataApi.getAggregations(k.a.newsIndex.filters,"article");case 2:n=t.sent,console.log("Search Aggs Response: "+JSON.stringify(n)),e.searchFilters=Object(h.a)(n,k.a.newsIndex.filters);case 5:case"end":return t.stop()}}),t)})))()},parseHits:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return S(S({},t._source),{},{description:t._source.text,date:t._source.postDate,articleCategories:t._source.category,to:"/".concat(t._source.uri),image:c()(t._source,"heroImage[0].image[0]",null),staffName:t._source.fullName,category:e.parseArticleCategory(t._source.category)})}))},getSearchData:function(data){console.log("On the page getsearchdata called"),this.$router.push({path:"/about/news",query:{q:data.text,filters:JSON.stringify(data.filters)}})}},fetchOnServer:!1,fetchKey:"news-index"},x=F,D=(n(478),n(41)),component=Object(D.a)(x,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"page page-news",attrs:{id:"main"}},[e.page.title?t("masthead-secondary",{attrs:{title:e.page.title,text:e.page.text}}):e._e(),e._v(" "),t("search-generic",{staticClass:"generic-search",attrs:{"search-type":"about",filters:e.searchFilters,"search-generic-query":e.searchGenericQuery},on:{"search-ready":e.getSearchData}}),e._v(" "),t("section-wrapper",{attrs:{theme:"divider"}},[t("divider-way-finder",{staticClass:"search-margin"})],1),e._v(" "),e.page&&e.page.featuredNews&&e.page.featuredNews.length&&0==e.hits.length&&!e.noResultsFound?t("section-wrapper",{staticClass:"section-no-top-margin"},[t("banner-featured",{staticClass:"banner section-featured-banner",attrs:{image:e.parsedBannerHeader.image,title:e.parsedBannerHeader.title,breadcrumb:"Featured",byline:e.parsedByline,locations:e.parsedBannerHeader.locations,description:e.parsedBannerHeader.text,"date-created":e.parsedBannerHeader.dateCreated,to:e.parsedBannerHeader.to,"align-right":!0,prompt:"Read More"}}),e._v(" "),e.parsedSectionHighlight.length?t("divider-general"):e._e(),e._v(" "),e.parsedSectionHighlight.length?t("section-teaser-highlight",{staticClass:"section",attrs:{items:e.parsedSectionHighlight}}):e._e()],1):e._e(),e._v(" "),e.page&&e.page.featuredNews&&e.page.featuredNews.length&&0==e.hits.length&&!e.noResultsFound?t("section-wrapper",{attrs:{theme:"divider"}},[t("divider-way-finder",{attrs:{color:"about"}})],1):e._e(),e._v(" "),t("section-wrapper",{attrs:{"section-title":"All News"}},[e.news&&e.news.length>0?t("section-staff-article-list",{attrs:{items:e.parsedNewsList}}):e.hits&&e.hits.length>0?t("section-staff-article-list",{attrs:{items:e.parseHitsResults}}):t("div",[e._v("\n            No Results found\n        ")])],1),e._v(" "),t("section-wrapper",{attrs:{theme:"divider"}},[t("divider-way-finder",{attrs:{color:"about"}})],1),e._v(" "),t("section-wrapper",[t("block-call-to-action",{staticClass:"block-call-to-action",attrs:{"is-global":!0}})],1)],1)}),[],!1,null,"ce47d1fc",null);t.default=component.exports}}]);